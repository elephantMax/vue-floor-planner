(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Do(n,t){const e=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)e[i[s]]=!0;return t?s=>!!e[s.toLowerCase()]:s=>!!e[s]}const Uw="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",Ww=Do(Uw);function ta(n){if(vt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=he(i)?Kw(i):ta(i);if(s)for(const o in s)t[o]=s[o]}return t}else{if(he(n))return n;if(te(n))return n}}const zw=/;(?![^(]*\))/g,Yw=/:([^]+)/,$w=/\/\*.*?\*\//gs;function Kw(n){const t={};return n.replace($w,"").split(zw).forEach(e=>{if(e){const i=e.split(Yw);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ea(n){let t="";if(he(n))t=n;else if(vt(n))for(let e=0;e<n.length;e++){const i=ea(n[e]);i&&(t+=i+" ")}else if(te(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function Xw(n){if(!n)return null;let{class:t,style:e}=n;return t&&!he(t)&&(n.class=ea(t)),e&&(n.style=ta(e)),n}const qw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vw=Do(qw);function Hg(n){return!!n||n===""}function jw(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Rr(n[i],t[i]);return e}function Rr(n,t){if(n===t)return!0;let e=Ad(n),i=Ad(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=Ws(n),i=Ws(t),e||i)return n===t;if(e=vt(n),i=vt(t),e||i)return e&&i?jw(n,t):!1;if(e=te(n),i=te(t),e||i){if(!e||!i)return!1;const s=Object.keys(n).length,o=Object.keys(t).length;if(s!==o)return!1;for(const l in n){const h=n.hasOwnProperty(l),f=t.hasOwnProperty(l);if(h&&!f||!h&&f||!Rr(n[l],t[l]))return!1}}return String(n)===String(t)}function No(n,t){return n.findIndex(e=>Rr(e,t))}const Ug=n=>he(n)?n:n==null?"":vt(n)||te(n)&&(n.toString===zg||!At(n.toString))?JSON.stringify(n,Wg,2):String(n),Wg=(n,t)=>t&&t.__v_isRef?Wg(n,t.value):Wi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,s])=>(e[`${i} =>`]=s,e),{})}:hi(t)?{[`Set(${t.size})`]:[...t.values()]}:te(t)&&!vt(t)&&!Yg(t)?String(t):t,Zt={},Ui=[],Pn=()=>{},Zw=()=>!1,Jw=/^on[^a-z]/,na=n=>Jw.test(n),dh=n=>n.startsWith("onUpdate:"),ge=Object.assign,gh=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Qw=Object.prototype.hasOwnProperty,Ut=(n,t)=>Qw.call(n,t),vt=Array.isArray,Wi=n=>ra(n)==="[object Map]",hi=n=>ra(n)==="[object Set]",Ad=n=>ra(n)==="[object Date]",At=n=>typeof n=="function",he=n=>typeof n=="string",Ws=n=>typeof n=="symbol",te=n=>n!==null&&typeof n=="object",ph=n=>te(n)&&At(n.then)&&At(n.catch),zg=Object.prototype.toString,ra=n=>zg.call(n),tS=n=>ra(n).slice(8,-1),Yg=n=>ra(n)==="[object Object]",_h=n=>he(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Is=Do(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Go=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},eS=/-(\w)/g,Ve=Go(n=>n.replace(eS,(t,e)=>e?e.toUpperCase():"")),nS=/\B([A-Z])/g,bn=Go(n=>n.replace(nS,"-$1").toLowerCase()),ia=Go(n=>n.charAt(0).toUpperCase()+n.slice(1)),ks=Go(n=>n?`on${ia(n)}`:""),Zi=(n,t)=>!Object.is(n,t),zi=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},Oo=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},nr=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Pd;const rS=()=>Pd||(Pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let rn;class vh{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=rn,!t&&rn&&(this.index=(rn.scopes||(rn.scopes=[])).push(this)-1)}run(t){if(this.active){const e=rn;try{return rn=this,t()}finally{rn=e}}}on(){rn=this}off(){rn=this.parent}stop(t){if(this.active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function iS(n){return new vh(n)}function $g(n,t=rn){t&&t.active&&t.effects.push(n)}function Kg(){return rn}function Xg(n){rn&&rn.cleanups.push(n)}const mh=n=>{const t=new Set(n);return t.w=0,t.n=0,t},qg=n=>(n.w&Or)>0,Vg=n=>(n.n&Or)>0,sS=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=Or},aS=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const s=t[i];qg(s)&&!Vg(s)?s.delete(n):t[e++]=s,s.w&=~Or,s.n&=~Or}t.length=e}},Du=new WeakMap;let As=0,Or=1;const Nu=30;let An;const ni=Symbol(""),Gu=Symbol("");class sa{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,$g(this,i)}run(){if(!this.active)return this.fn();let t=An,e=Ar;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=An,An=this,Ar=!0,Or=1<<++As,As<=Nu?sS(this):Rd(this),this.fn()}finally{As<=Nu&&aS(this),Or=1<<--As,An=this.parent,Ar=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){An===this?this.deferStop=!0:this.active&&(Rd(this),this.onStop&&this.onStop(),this.active=!1)}}function Rd(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}function oS(n,t){n.effect&&(n=n.effect.fn);const e=new sa(n);t&&(ge(e,t),t.scope&&$g(e,t.scope)),(!t||!t.lazy)&&e.run();const i=e.run.bind(e);return i.effect=e,i}function lS(n){n.effect.stop()}let Ar=!0;const jg=[];function ns(){jg.push(Ar),Ar=!1}function rs(){const n=jg.pop();Ar=n===void 0?!0:n}function hn(n,t,e){if(Ar&&An){let i=Du.get(n);i||Du.set(n,i=new Map);let s=i.get(e);s||i.set(e,s=mh()),Zg(s)}}function Zg(n,t){let e=!1;As<=Nu?Vg(n)||(n.n|=Or,e=!qg(n)):e=!n.has(An),e&&(n.add(An),An.deps.push(n))}function rr(n,t,e,i,s,o){const l=Du.get(n);if(!l)return;let h=[];if(t==="clear")h=[...l.values()];else if(e==="length"&&vt(n)){const f=nr(i);l.forEach((c,g)=>{(g==="length"||g>=f)&&h.push(c)})}else switch(e!==void 0&&h.push(l.get(e)),t){case"add":vt(n)?_h(e)&&h.push(l.get("length")):(h.push(l.get(ni)),Wi(n)&&h.push(l.get(Gu)));break;case"delete":vt(n)||(h.push(l.get(ni)),Wi(n)&&h.push(l.get(Gu)));break;case"set":Wi(n)&&h.push(l.get(ni));break}if(h.length===1)h[0]&&Bu(h[0]);else{const f=[];for(const c of h)c&&f.push(...c);Bu(mh(f))}}function Bu(n,t){const e=vt(n)?n:[...n];for(const i of e)i.computed&&Od(i);for(const i of e)i.computed||Od(i)}function Od(n,t){(n!==An||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const uS=Do("__proto__,__v_isRef,__isVue"),Jg=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ws)),hS=Bo(),fS=Bo(!1,!0),cS=Bo(!0),dS=Bo(!0,!0),Md=gS();function gS(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=Wt(this);for(let o=0,l=this.length;o<l;o++)hn(i,"get",o+"");const s=i[t](...e);return s===-1||s===!1?i[t](...e.map(Wt)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){ns();const i=Wt(this)[t].apply(this,e);return rs(),i}}),n}function Bo(n=!1,t=!1){return function(i,s,o){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(n?t?sp:ip:t?rp:np).get(i))return i;const l=vt(i);if(!n&&l&&Ut(Md,s))return Reflect.get(Md,s,o);const h=Reflect.get(i,s,o);return(Ws(s)?Jg.has(s):uS(s))||(n||hn(i,"get",s),t)?h:me(h)?l&&_h(s)?h:h.value:te(h)?n?bh(h):Mr(h):h}}const pS=Qg(),_S=Qg(!0);function Qg(n=!1){return function(e,i,s,o){let l=e[i];if(ai(l)&&me(l)&&!me(s))return!1;if(!n&&(!zs(s)&&!ai(s)&&(l=Wt(l),s=Wt(s)),!vt(e)&&me(l)&&!me(s)))return l.value=s,!0;const h=vt(e)&&_h(i)?Number(i)<e.length:Ut(e,i),f=Reflect.set(e,i,s,o);return e===Wt(o)&&(h?Zi(s,l)&&rr(e,"set",i,s):rr(e,"add",i,s)),f}}function vS(n,t){const e=Ut(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&rr(n,"delete",t,void 0),i}function mS(n,t){const e=Reflect.has(n,t);return(!Ws(t)||!Jg.has(t))&&hn(n,"has",t),e}function yS(n){return hn(n,"iterate",vt(n)?"length":ni),Reflect.ownKeys(n)}const tp={get:hS,set:pS,deleteProperty:vS,has:mS,ownKeys:yS},ep={get:cS,set(n,t){return!0},deleteProperty(n,t){return!0}},bS=ge({},tp,{get:fS,set:_S}),wS=ge({},ep,{get:dS}),yh=n=>n,Ho=n=>Reflect.getPrototypeOf(n);function to(n,t,e=!1,i=!1){n=n.__v_raw;const s=Wt(n),o=Wt(t);e||(t!==o&&hn(s,"get",t),hn(s,"get",o));const{has:l}=Ho(s),h=i?yh:e?Ch:Ys;if(l.call(s,t))return h(n.get(t));if(l.call(s,o))return h(n.get(o));n!==s&&n.get(t)}function eo(n,t=!1){const e=this.__v_raw,i=Wt(e),s=Wt(n);return t||(n!==s&&hn(i,"has",n),hn(i,"has",s)),n===s?e.has(n):e.has(n)||e.has(s)}function no(n,t=!1){return n=n.__v_raw,!t&&hn(Wt(n),"iterate",ni),Reflect.get(n,"size",n)}function Ld(n){n=Wt(n);const t=Wt(this);return Ho(t).has.call(t,n)||(t.add(n),rr(t,"add",n,n)),this}function Id(n,t){t=Wt(t);const e=Wt(this),{has:i,get:s}=Ho(e);let o=i.call(e,n);o||(n=Wt(n),o=i.call(e,n));const l=s.call(e,n);return e.set(n,t),o?Zi(t,l)&&rr(e,"set",n,t):rr(e,"add",n,t),this}function kd(n){const t=Wt(this),{has:e,get:i}=Ho(t);let s=e.call(t,n);s||(n=Wt(n),s=e.call(t,n)),i&&i.call(t,n);const o=t.delete(n);return s&&rr(t,"delete",n,void 0),o}function Fd(){const n=Wt(this),t=n.size!==0,e=n.clear();return t&&rr(n,"clear",void 0,void 0),e}function ro(n,t){return function(i,s){const o=this,l=o.__v_raw,h=Wt(l),f=t?yh:n?Ch:Ys;return!n&&hn(h,"iterate",ni),l.forEach((c,g)=>i.call(s,f(c),f(g),o))}}function io(n,t,e){return function(...i){const s=this.__v_raw,o=Wt(s),l=Wi(o),h=n==="entries"||n===Symbol.iterator&&l,f=n==="keys"&&l,c=s[n](...i),g=e?yh:t?Ch:Ys;return!t&&hn(o,"iterate",f?Gu:ni),{next(){const{value:p,done:v}=c.next();return v?{value:p,done:v}:{value:h?[g(p[0]),g(p[1])]:g(p),done:v}},[Symbol.iterator](){return this}}}}function mr(n){return function(...t){return n==="delete"?!1:this}}function SS(){const n={get(o){return to(this,o)},get size(){return no(this)},has:eo,add:Ld,set:Id,delete:kd,clear:Fd,forEach:ro(!1,!1)},t={get(o){return to(this,o,!1,!0)},get size(){return no(this)},has:eo,add:Ld,set:Id,delete:kd,clear:Fd,forEach:ro(!1,!0)},e={get(o){return to(this,o,!0)},get size(){return no(this,!0)},has(o){return eo.call(this,o,!0)},add:mr("add"),set:mr("set"),delete:mr("delete"),clear:mr("clear"),forEach:ro(!0,!1)},i={get(o){return to(this,o,!0,!0)},get size(){return no(this,!0)},has(o){return eo.call(this,o,!0)},add:mr("add"),set:mr("set"),delete:mr("delete"),clear:mr("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=io(o,!1,!1),e[o]=io(o,!0,!1),t[o]=io(o,!1,!0),i[o]=io(o,!0,!0)}),[n,e,t,i]}const[CS,xS,ES,TS]=SS();function Uo(n,t){const e=t?n?TS:ES:n?xS:CS;return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(Ut(e,s)&&s in i?e:i,s,o)}const AS={get:Uo(!1,!1)},PS={get:Uo(!1,!0)},RS={get:Uo(!0,!1)},OS={get:Uo(!0,!0)},np=new WeakMap,rp=new WeakMap,ip=new WeakMap,sp=new WeakMap;function MS(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function LS(n){return n.__v_skip||!Object.isExtensible(n)?0:MS(tS(n))}function Mr(n){return ai(n)?n:Wo(n,!1,tp,AS,np)}function ap(n){return Wo(n,!1,bS,PS,rp)}function bh(n){return Wo(n,!0,ep,RS,ip)}function IS(n){return Wo(n,!0,wS,OS,sp)}function Wo(n,t,e,i,s){if(!te(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=s.get(n);if(o)return o;const l=LS(n);if(l===0)return n;const h=new Proxy(n,l===2?i:e);return s.set(n,h),h}function ri(n){return ai(n)?ri(n.__v_raw):!!(n&&n.__v_isReactive)}function ai(n){return!!(n&&n.__v_isReadonly)}function zs(n){return!!(n&&n.__v_isShallow)}function wh(n){return ri(n)||ai(n)}function Wt(n){const t=n&&n.__v_raw;return t?Wt(t):n}function Sh(n){return Oo(n,"__v_skip",!0),n}const Ys=n=>te(n)?Mr(n):n,Ch=n=>te(n)?bh(n):n;function xh(n){Ar&&An&&(n=Wt(n),Zg(n.dep||(n.dep=mh())))}function zo(n,t){n=Wt(n),n.dep&&Bu(n.dep)}function me(n){return!!(n&&n.__v_isRef===!0)}function Xe(n){return op(n,!1)}function kS(n){return op(n,!0)}function op(n,t){return me(n)?n:new FS(n,t)}class FS{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Wt(t),this._value=e?t:Ys(t)}get value(){return xh(this),this._value}set value(t){const e=this.__v_isShallow||zs(t)||ai(t);t=e?t:Wt(t),Zi(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Ys(t),zo(this))}}function DS(n){zo(n)}function Ee(n){return me(n)?n.value:n}const NS={get:(n,t,e)=>Ee(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const s=n[t];return me(s)&&!me(e)?(s.value=e,!0):Reflect.set(n,t,e,i)}};function Eh(n){return ri(n)?n:new Proxy(n,NS)}class GS{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t(()=>xh(this),()=>zo(this));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function BS(n){return new GS(n)}function HS(n){const t=vt(n)?new Array(n.length):{};for(const e in n)t[e]=lp(n,e);return t}class US{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function lp(n,t,e){const i=n[t];return me(i)?i:new US(n,t,e)}var up;class WS{constructor(t,e,i,s){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[up]=!1,this._dirty=!0,this.effect=new sa(t,()=>{this._dirty||(this._dirty=!0,zo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=Wt(this);return xh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}up="__v_isReadonly";function Cr(n,t,e=!1){let i,s;const o=At(n);return o?(i=n,s=Pn):(i=n.get,s=n.set),new WS(i,s,o||!s,e)}function zS(n,...t){}function er(n,t,e,i){let s;try{s=i?n(...i):n()}catch(o){fi(o,t,e)}return s}function ln(n,t,e,i){if(At(n)){const o=er(n,t,e,i);return o&&ph(o)&&o.catch(l=>{fi(l,t,e)}),o}const s=[];for(let o=0;o<n.length;o++)s.push(ln(n[o],t,e,i));return s}function fi(n,t,e,i=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,h=e;for(;o;){const c=o.ec;if(c){for(let g=0;g<c.length;g++)if(c[g](n,l,h)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){er(f,null,10,[n,l,h]);return}}YS(n,e,s,i)}function YS(n,t,e,i=!0){console.error(n)}let $s=!1,Hu=!1;const ke=[];let Dn=0;const Yi=[];let Qn=null,Qr=0;const hp=Promise.resolve();let Th=null;function aa(n){const t=Th||hp;return n?t.then(this?n.bind(this):n):t}function $S(n){let t=Dn+1,e=ke.length;for(;t<e;){const i=t+e>>>1;Ks(ke[i])<n?t=i+1:e=i}return t}function Yo(n){(!ke.length||!ke.includes(n,$s&&n.allowRecurse?Dn+1:Dn))&&(n.id==null?ke.push(n):ke.splice($S(n.id),0,n),fp())}function fp(){!$s&&!Hu&&(Hu=!0,Th=hp.then(cp))}function KS(n){const t=ke.indexOf(n);t>Dn&&ke.splice(t,1)}function Ah(n){vt(n)?Yi.push(...n):(!Qn||!Qn.includes(n,n.allowRecurse?Qr+1:Qr))&&Yi.push(n),fp()}function Dd(n,t=$s?Dn+1:0){for(;t<ke.length;t++){const e=ke[t];e&&e.pre&&(ke.splice(t,1),t--,e())}}function Mo(n){if(Yi.length){const t=[...new Set(Yi)];if(Yi.length=0,Qn){Qn.push(...t);return}for(Qn=t,Qn.sort((e,i)=>Ks(e)-Ks(i)),Qr=0;Qr<Qn.length;Qr++)Qn[Qr]();Qn=null,Qr=0}}const Ks=n=>n.id==null?1/0:n.id,XS=(n,t)=>{const e=Ks(n)-Ks(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function cp(n){Hu=!1,$s=!0,ke.sort(XS);const t=Pn;try{for(Dn=0;Dn<ke.length;Dn++){const e=ke[Dn];e&&e.active!==!1&&er(e,null,14)}}finally{Dn=0,ke.length=0,Mo(),$s=!1,Th=null,(ke.length||Yi.length)&&cp()}}let Gi,so=[];function dp(n,t){var e,i;Gi=n,Gi?(Gi.enabled=!0,so.forEach(({event:s,args:o})=>Gi.emit(s,...o)),so=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(e=window.navigator)===null||e===void 0?void 0:e.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{dp(o,t)}),setTimeout(()=>{Gi||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,so=[])},3e3)):so=[]}function qS(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||Zt;let s=e;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in i){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:p,trim:v}=i[g]||Zt;v&&(s=e.map(w=>he(w)?w.trim():w)),p&&(s=e.map(nr))}let h,f=i[h=ks(t)]||i[h=ks(Ve(t))];!f&&o&&(f=i[h=ks(bn(t))]),f&&ln(f,n,6,s);const c=i[h+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[h])return;n.emitted[h]=!0,ln(c,n,6,s)}}function gp(n,t,e=!1){const i=t.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let l={},h=!1;if(!At(n)){const f=c=>{const g=gp(c,t,!0);g&&(h=!0,ge(l,g))};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}return!o&&!h?(te(n)&&i.set(n,null),null):(vt(o)?o.forEach(f=>l[f]=null):ge(l,o),te(n)&&i.set(n,l),l)}function $o(n,t){return!n||!na(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ut(n,t[0].toLowerCase()+t.slice(1))||Ut(n,bn(t))||Ut(n,t))}let Oe=null,Ko=null;function Xs(n){const t=Oe;return Oe=n,Ko=n&&n.type.__scopeId||null,t}function VS(n){Ko=n}function jS(){Ko=null}const ZS=n=>qs;function qs(n,t=Oe,e){if(!t||n._n)return n;const i=(...s)=>{i._d&&Xu(-1);const o=Xs(t);let l;try{l=n(...s)}finally{Xs(o),i._d&&Xu(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Co(n){const{type:t,vnode:e,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:h,attrs:f,emit:c,render:g,renderCache:p,data:v,setupState:w,ctx:m,inheritAttrs:P}=n;let T,A;const S=Xs(n);try{if(e.shapeFlag&4){const M=s||i;T=sn(g.call(M,M,p,o,w,v,m)),A=f}else{const M=t;T=sn(M.length>1?M(o,{attrs:f,slots:h,emit:c}):M(o,null)),A=t.props?f:QS(f)}}catch(M){Ns.length=0,fi(M,n,1),T=Bt(Fe)}let C=T;if(A&&P!==!1){const M=Object.keys(A),{shapeFlag:B}=C;M.length&&B&7&&(l&&M.some(dh)&&(A=tC(A,l)),C=Bn(C,A))}return e.dirs&&(C=Bn(C),C.dirs=C.dirs?C.dirs.concat(e.dirs):e.dirs),e.transition&&(C.transition=e.transition),T=C,Xs(S),T}function JS(n){let t;for(let e=0;e<n.length;e++){const i=n[e];if(Lr(i)){if(i.type!==Fe||i.children==="v-if"){if(t)return;t=i}}else return}return t}const QS=n=>{let t;for(const e in n)(e==="class"||e==="style"||na(e))&&((t||(t={}))[e]=n[e]);return t},tC=(n,t)=>{const e={};for(const i in n)(!dh(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function eC(n,t,e){const{props:i,children:s,component:o}=n,{props:l,children:h,patchFlag:f}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&f>=0){if(f&1024)return!0;if(f&16)return i?Nd(i,l,c):!!l;if(f&8){const g=t.dynamicProps;for(let p=0;p<g.length;p++){const v=g[p];if(l[v]!==i[v]&&!$o(c,v))return!0}}}else return(s||h)&&(!h||!h.$stable)?!0:i===l?!1:i?l?Nd(i,l,c):!0:!!l;return!1}function Nd(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==n[o]&&!$o(e,o))return!0}return!1}function Ph({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const pp=n=>n.__isSuspense,nC={name:"Suspense",__isSuspense:!0,process(n,t,e,i,s,o,l,h,f,c){n==null?iC(t,e,i,s,o,l,h,f,c):sC(n,t,e,i,s,l,h,f,c)},hydrate:aC,create:Rh,normalize:oC},rC=nC;function Vs(n,t){const e=n.props&&n.props[t];At(e)&&e()}function iC(n,t,e,i,s,o,l,h,f){const{p:c,o:{createElement:g}}=f,p=g("div"),v=n.suspense=Rh(n,s,i,t,p,e,o,l,h,f);c(null,v.pendingBranch=n.ssContent,p,null,i,v,o,l),v.deps>0?(Vs(n,"onPending"),Vs(n,"onFallback"),c(null,n.ssFallback,t,e,i,null,o,l),$i(v,n.ssFallback)):v.resolve()}function sC(n,t,e,i,s,o,l,h,{p:f,um:c,o:{createElement:g}}){const p=t.suspense=n.suspense;p.vnode=t,t.el=n.el;const v=t.ssContent,w=t.ssFallback,{activeBranch:m,pendingBranch:P,isInFallback:T,isHydrating:A}=p;if(P)p.pendingBranch=v,Gn(v,P)?(f(P,v,p.hiddenContainer,null,s,p,o,l,h),p.deps<=0?p.resolve():T&&(f(m,w,e,i,s,null,o,l,h),$i(p,w))):(p.pendingId++,A?(p.isHydrating=!1,p.activeBranch=P):c(P,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=g("div"),T?(f(null,v,p.hiddenContainer,null,s,p,o,l,h),p.deps<=0?p.resolve():(f(m,w,e,i,s,null,o,l,h),$i(p,w))):m&&Gn(v,m)?(f(m,v,e,i,s,p,o,l,h),p.resolve(!0)):(f(null,v,p.hiddenContainer,null,s,p,o,l,h),p.deps<=0&&p.resolve()));else if(m&&Gn(v,m))f(m,v,e,i,s,p,o,l,h),$i(p,v);else if(Vs(t,"onPending"),p.pendingBranch=v,p.pendingId++,f(null,v,p.hiddenContainer,null,s,p,o,l,h),p.deps<=0)p.resolve();else{const{timeout:S,pendingId:C}=p;S>0?setTimeout(()=>{p.pendingId===C&&p.fallback(w)},S):S===0&&p.fallback(w)}}function Rh(n,t,e,i,s,o,l,h,f,c,g=!1){const{p,m:v,um:w,n:m,o:{parentNode:P,remove:T}}=c,A=nr(n.props&&n.props.timeout),S={vnode:n,parent:t,parentComponent:e,isSVG:l,container:i,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:typeof A=="number"?A:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:g,isUnmounted:!1,effects:[],resolve(C=!1){const{vnode:M,activeBranch:B,pendingBranch:G,pendingId:W,effects:F,parentComponent:$,container:K}=S;if(S.isHydrating)S.isHydrating=!1;else if(!C){const H=B&&G.transition&&G.transition.mode==="out-in";H&&(B.transition.afterLeave=()=>{W===S.pendingId&&v(G,K,N,0)});let{anchor:N}=S;B&&(N=m(B),w(B,$,S,!0)),H||v(G,K,N,0)}$i(S,G),S.pendingBranch=null,S.isInFallback=!1;let V=S.parent,j=!1;for(;V;){if(V.pendingBranch){V.effects.push(...F),j=!0;break}V=V.parent}j||Ah(F),S.effects=[],Vs(M,"onResolve")},fallback(C){if(!S.pendingBranch)return;const{vnode:M,activeBranch:B,parentComponent:G,container:W,isSVG:F}=S;Vs(M,"onFallback");const $=m(B),K=()=>{!S.isInFallback||(p(null,C,W,$,G,null,F,h,f),$i(S,C))},V=C.transition&&C.transition.mode==="out-in";V&&(B.transition.afterLeave=K),S.isInFallback=!0,w(B,G,null,!0),V||K()},move(C,M,B){S.activeBranch&&v(S.activeBranch,C,M,B),S.container=C},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(C,M){const B=!!S.pendingBranch;B&&S.deps++;const G=C.vnode.el;C.asyncDep.catch(W=>{fi(W,C,0)}).then(W=>{if(C.isUnmounted||S.isUnmounted||S.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:F}=C;qu(C,W,!1),G&&(F.el=G);const $=!G&&C.subTree.el;M(C,F,P(G||C.subTree.el),G?null:m(C.subTree),S,l,f),$&&T($),Ph(C,F.el),B&&--S.deps===0&&S.resolve()})},unmount(C,M){S.isUnmounted=!0,S.activeBranch&&w(S.activeBranch,e,C,M),S.pendingBranch&&w(S.pendingBranch,e,C,M)}};return S}function aC(n,t,e,i,s,o,l,h,f){const c=t.suspense=Rh(t,i,e,n.parentNode,document.createElement("div"),null,s,o,l,h,!0),g=f(n,c.pendingBranch=t.ssContent,e,c,o,l);return c.deps===0&&c.resolve(),g}function oC(n){const{shapeFlag:t,children:e}=n,i=t&32;n.ssContent=Gd(i?e.default:e),n.ssFallback=i?Gd(e.fallback):Bt(Fe)}function Gd(n){let t;if(At(n)){const e=ui&&n._c;e&&(n._d=!1,le()),n=n(),e&&(n._d=!0,t=qe,Yp())}return vt(n)&&(n=JS(n)),n=sn(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(e=>e!==n)),n}function _p(n,t){t&&t.pendingBranch?vt(n)?t.effects.push(...n):t.effects.push(n):Ah(n)}function $i(n,t){n.activeBranch=t;const{vnode:e,parentComponent:i}=n,s=e.el=t.el;i&&i.subTree===e&&(i.vnode.el=s,Ph(i,s))}function Oh(n,t){if(Se){let e=Se.provides;const i=Se.parent&&Se.parent.provides;i===e&&(e=Se.provides=Object.create(i)),e[n]=t}}function Ki(n,t,e=!1){const i=Se||Oe;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return e&&At(t)?t.call(i.proxy):t}}function lC(n,t){return oa(n,null,t)}function vp(n,t){return oa(n,null,{flush:"post"})}function uC(n,t){return oa(n,null,{flush:"sync"})}const ao={};function Xi(n,t,e){return oa(n,t,e)}function oa(n,t,{immediate:e,deep:i,flush:s,onTrack:o,onTrigger:l}=Zt){const h=Se;let f,c=!1,g=!1;if(me(n)?(f=()=>n.value,c=zs(n)):ri(n)?(f=()=>n,i=!0):vt(n)?(g=!0,c=n.some(C=>ri(C)||zs(C)),f=()=>n.map(C=>{if(me(C))return C.value;if(ri(C))return ei(C);if(At(C))return er(C,h,2)})):At(n)?t?f=()=>er(n,h,2):f=()=>{if(!(h&&h.isUnmounted))return p&&p(),ln(n,h,3,[v])}:f=Pn,t&&i){const C=f;f=()=>ei(C())}let p,v=C=>{p=A.onStop=()=>{er(C,h,4)}},w;if(Qi)if(v=Pn,t?e&&ln(t,h,3,[f(),g?[]:void 0,v]):f(),s==="sync"){const C=r_();w=C.__watcherHandles||(C.__watcherHandles=[])}else return Pn;let m=g?new Array(n.length).fill(ao):ao;const P=()=>{if(!!A.active)if(t){const C=A.run();(i||c||(g?C.some((M,B)=>Zi(M,m[B])):Zi(C,m)))&&(p&&p(),ln(t,h,3,[C,m===ao?void 0:g&&m[0]===ao?[]:m,v]),m=C)}else A.run()};P.allowRecurse=!!t;let T;s==="sync"?T=P:s==="post"?T=()=>Re(P,h&&h.suspense):(P.pre=!0,h&&(P.id=h.uid),T=()=>Yo(P));const A=new sa(f,T);t?e?P():m=A.run():s==="post"?Re(A.run.bind(A),h&&h.suspense):A.run();const S=()=>{A.stop(),h&&h.scope&&gh(h.scope.effects,A)};return w&&w.push(S),S}function hC(n,t,e){const i=this.proxy,s=he(n)?n.includes(".")?mp(i,n):()=>i[n]:n.bind(i,i);let o;At(t)?o=t:(o=t.handler,e=t);const l=Se;Ir(this);const h=oa(s,o.bind(i),e);return l?Ir(l):Pr(),h}function mp(n,t){const e=t.split(".");return()=>{let i=n;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i}}function ei(n,t){if(!te(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),me(n))ei(n.value,t);else if(vt(n))for(let e=0;e<n.length;e++)ei(n[e],t);else if(hi(n)||Wi(n))n.forEach(e=>{ei(e,t)});else if(Yg(n))for(const e in n)ei(n[e],t);return n}function Mh(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ci(()=>{n.isMounted=!0}),jo(()=>{n.isUnmounting=!0}),n}const yn=[Function,Array],fC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},setup(n,{slots:t}){const e=sr(),i=Mh();let s;return()=>{const o=t.default&&Xo(t.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const P of o)if(P.type!==Fe){l=P;break}}const h=Wt(n),{mode:f}=h;if(i.isLeaving)return vu(l);const c=Bd(l);if(!c)return vu(l);const g=Ji(c,h,i,e);oi(c,g);const p=e.subTree,v=p&&Bd(p);let w=!1;const{getTransitionKey:m}=c.type;if(m){const P=m();s===void 0?s=P:P!==s&&(s=P,w=!0)}if(v&&v.type!==Fe&&(!Gn(c,v)||w)){const P=Ji(v,h,i,e);if(oi(v,P),f==="out-in")return i.isLeaving=!0,P.afterLeave=()=>{i.isLeaving=!1,e.update.active!==!1&&e.update()},vu(l);f==="in-out"&&c.type!==Fe&&(P.delayLeave=(T,A,S)=>{const C=yp(i,v);C[String(v.key)]=v,T._leaveCb=()=>{A(),T._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=S})}return l}}},Lh=fC;function yp(n,t){const{leavingVNodes:e}=n;let i=e.get(t.type);return i||(i=Object.create(null),e.set(t.type,i)),i}function Ji(n,t,e,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:h,onEnter:f,onAfterEnter:c,onEnterCancelled:g,onBeforeLeave:p,onLeave:v,onAfterLeave:w,onLeaveCancelled:m,onBeforeAppear:P,onAppear:T,onAfterAppear:A,onAppearCancelled:S}=t,C=String(n.key),M=yp(e,n),B=(F,$)=>{F&&ln(F,i,9,$)},G=(F,$)=>{const K=$[1];B(F,$),vt(F)?F.every(V=>V.length<=1)&&K():F.length<=1&&K()},W={mode:o,persisted:l,beforeEnter(F){let $=h;if(!e.isMounted)if(s)$=P||h;else return;F._leaveCb&&F._leaveCb(!0);const K=M[C];K&&Gn(n,K)&&K.el._leaveCb&&K.el._leaveCb(),B($,[F])},enter(F){let $=f,K=c,V=g;if(!e.isMounted)if(s)$=T||f,K=A||c,V=S||g;else return;let j=!1;const H=F._enterCb=N=>{j||(j=!0,N?B(V,[F]):B(K,[F]),W.delayedLeave&&W.delayedLeave(),F._enterCb=void 0)};$?G($,[F,H]):H()},leave(F,$){const K=String(n.key);if(F._enterCb&&F._enterCb(!0),e.isUnmounting)return $();B(p,[F]);let V=!1;const j=F._leaveCb=H=>{V||(V=!0,$(),H?B(m,[F]):B(w,[F]),F._leaveCb=void 0,M[K]===n&&delete M[K])};M[K]=n,v?G(v,[F,j]):j()},clone(F){return Ji(F,t,e,i)}};return W}function vu(n){if(la(n))return n=Bn(n),n.children=null,n}function Bd(n){return la(n)?n.children?n.children[0]:void 0:n}function oi(n,t){n.shapeFlag&6&&n.component?oi(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Xo(n,t=!1,e){let i=[],s=0;for(let o=0;o<n.length;o++){let l=n[o];const h=e==null?l.key:String(e)+String(l.key!=null?l.key:o);l.type===ue?(l.patchFlag&128&&s++,i=i.concat(Xo(l.children,t,h))):(t||l.type!==Fe)&&i.push(h!=null?Bn(l,{key:h}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Ih(n){return At(n)?{setup:n,name:n.name}:n}const ii=n=>!!n.type.__asyncLoader;function cC(n){At(n)&&(n={loader:n});const{loader:t,loadingComponent:e,errorComponent:i,delay:s=200,timeout:o,suspensible:l=!0,onError:h}=n;let f=null,c,g=0;const p=()=>(g++,f=null,v()),v=()=>{let w;return f||(w=f=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),h)return new Promise((P,T)=>{h(m,()=>P(p()),()=>T(m),g+1)});throw m}).then(m=>w!==f&&f?f:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Ih({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return c},setup(){const w=Se;if(c)return()=>mu(c,w);const m=S=>{f=null,fi(S,w,13,!i)};if(l&&w.suspense||Qi)return v().then(S=>()=>mu(S,w)).catch(S=>(m(S),()=>i?Bt(i,{error:S}):null));const P=Xe(!1),T=Xe(),A=Xe(!!s);return s&&setTimeout(()=>{A.value=!1},s),o!=null&&setTimeout(()=>{if(!P.value&&!T.value){const S=new Error(`Async component timed out after ${o}ms.`);m(S),T.value=S}},o),v().then(()=>{P.value=!0,w.parent&&la(w.parent.vnode)&&Yo(w.parent.update)}).catch(S=>{m(S),T.value=S}),()=>{if(P.value&&c)return mu(c,w);if(T.value&&i)return Bt(i,{error:T.value});if(e&&!A.value)return Bt(e)}}})}function mu(n,t){const{ref:e,props:i,children:s,ce:o}=t.vnode,l=Bt(n,i,s);return l.ref=e,l.ce=o,delete t.vnode.ce,l}const la=n=>n.type.__isKeepAlive,dC={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const e=sr(),i=e.ctx;if(!i.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const s=new Map,o=new Set;let l=null;const h=e.suspense,{renderer:{p:f,m:c,um:g,o:{createElement:p}}}=i,v=p("div");i.activate=(S,C,M,B,G)=>{const W=S.component;c(S,C,M,0,h),f(W.vnode,S,C,M,W,h,B,S.slotScopeIds,G),Re(()=>{W.isDeactivated=!1,W.a&&zi(W.a);const F=S.props&&S.props.onVnodeMounted;F&&Ke(F,W.parent,S)},h)},i.deactivate=S=>{const C=S.component;c(S,v,null,1,h),Re(()=>{C.da&&zi(C.da);const M=S.props&&S.props.onVnodeUnmounted;M&&Ke(M,C.parent,S),C.isDeactivated=!0},h)};function w(S){yu(S),g(S,e,h,!0)}function m(S){s.forEach((C,M)=>{const B=ju(C.type);B&&(!S||!S(B))&&P(M)})}function P(S){const C=s.get(S);!l||C.type!==l.type?w(C):l&&yu(l),s.delete(S),o.delete(S)}Xi(()=>[n.include,n.exclude],([S,C])=>{S&&m(M=>Ps(S,M)),C&&m(M=>!Ps(C,M))},{flush:"post",deep:!0});let T=null;const A=()=>{T!=null&&s.set(T,bu(e.subTree))};return ci(A),Vo(A),jo(()=>{s.forEach(S=>{const{subTree:C,suspense:M}=e,B=bu(C);if(S.type===B.type){yu(B);const G=B.component.da;G&&Re(G,M);return}w(S)})}),()=>{if(T=null,!t.default)return null;const S=t.default(),C=S[0];if(S.length>1)return l=null,S;if(!Lr(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return l=null,C;let M=bu(C);const B=M.type,G=ju(ii(M)?M.type.__asyncResolved||{}:B),{include:W,exclude:F,max:$}=n;if(W&&(!G||!Ps(W,G))||F&&G&&Ps(F,G))return l=M,C;const K=M.key==null?B:M.key,V=s.get(K);return M.el&&(M=Bn(M),C.shapeFlag&128&&(C.ssContent=M)),T=K,V?(M.el=V.el,M.component=V.component,M.transition&&oi(M,M.transition),M.shapeFlag|=512,o.delete(K),o.add(K)):(o.add(K),$&&o.size>parseInt($,10)&&P(o.values().next().value)),M.shapeFlag|=256,l=M,pp(C.type)?C:M}}},gC=dC;function Ps(n,t){return vt(n)?n.some(e=>Ps(e,t)):he(n)?n.split(",").includes(t):n.test?n.test(t):!1}function bp(n,t){Sp(n,"a",t)}function wp(n,t){Sp(n,"da",t)}function Sp(n,t,e=Se){const i=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(qo(t,i,e),e){let s=e.parent;for(;s&&s.parent;)la(s.parent.vnode)&&pC(i,t,e,s),s=s.parent}}function pC(n,t,e,i){const s=qo(t,n,i,!0);Zo(()=>{gh(i[t],s)},e)}function yu(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function bu(n){return n.shapeFlag&128?n.ssContent:n}function qo(n,t,e=Se,i=!1){if(e){const s=e[n]||(e[n]=[]),o=t.__weh||(t.__weh=(...l)=>{if(e.isUnmounted)return;ns(),Ir(e);const h=ln(t,e,n,l);return Pr(),rs(),h});return i?s.unshift(o):s.push(o),o}}const ir=n=>(t,e=Se)=>(!Qi||n==="sp")&&qo(n,(...i)=>t(...i),e),Cp=ir("bm"),ci=ir("m"),xp=ir("bu"),Vo=ir("u"),jo=ir("bum"),Zo=ir("um"),Ep=ir("sp"),Tp=ir("rtg"),Ap=ir("rtc");function Pp(n,t=Se){qo("ec",n,t)}function Rp(n,t){const e=Oe;if(e===null)return n;const i=tl(e)||e.proxy,s=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[l,h,f,c=Zt]=t[o];l&&(At(l)&&(l={mounted:l,updated:l}),l.deep&&ei(h),s.push({dir:l,instance:i,value:h,oldValue:void 0,arg:f,modifiers:c}))}return n}function Fn(n,t,e,i){const s=n.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const h=s[l];o&&(h.oldValue=o[l].value);let f=h.dir[i];f&&(ns(),ln(f,e,8,[n.el,h,n,t]),rs())}}const kh="components",_C="directives";function Er(n,t){return Fh(kh,n,!0,t)||n}const Op=Symbol();function vC(n){return he(n)?Fh(kh,n,!1)||n:n||Op}function mC(n){return Fh(_C,n)}function Fh(n,t,e=!0,i=!1){const s=Oe||Se;if(s){const o=s.type;if(n===kh){const h=ju(o,!1);if(h&&(h===t||h===Ve(t)||h===ia(Ve(t))))return o}const l=Hd(s[n]||o[n],t)||Hd(s.appContext[n],t);return!l&&i?o:l}}function Hd(n,t){return n&&(n[t]||n[Ve(t)]||n[ia(Ve(t))])}function qi(n,t,e,i){let s;const o=e&&e[i];if(vt(n)||he(n)){s=new Array(n.length);for(let l=0,h=n.length;l<h;l++)s[l]=t(n[l],l,void 0,o&&o[l])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(te(n))if(n[Symbol.iterator])s=Array.from(n,(l,h)=>t(l,h,void 0,o&&o[h]));else{const l=Object.keys(n);s=new Array(l.length);for(let h=0,f=l.length;h<f;h++){const c=l[h];s[h]=t(n[c],c,h,o&&o[h])}}else s=[];return e&&(e[i]=s),s}function yC(n,t){for(let e=0;e<t.length;e++){const i=t[e];if(vt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const o=i.fn(...s);return o&&(o.key=i.key),o}:i.fn)}return n}function bC(n,t,e={},i,s){if(Oe.isCE||Oe.parent&&ii(Oe.parent)&&Oe.parent.isCE)return t!=="default"&&(e.name=t),Bt("slot",e,i&&i());let o=n[t];o&&o._c&&(o._d=!1),le();const l=o&&Mp(o(e)),h=Nn(ue,{key:e.key||l&&l.key||`_${t}`},l||(i?i():[]),l&&n._===1?64:-2);return!s&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),o&&o._c&&(o._d=!0),h}function Mp(n){return n.some(t=>Lr(t)?!(t.type===Fe||t.type===ue&&!Mp(t.children)):!0)?n:null}function wC(n,t){const e={};for(const i in n)e[t&&/[A-Z]/.test(i)?`on:${i}`:ks(i)]=n[i];return e}const Uu=n=>n?jp(n)?tl(n)||n.proxy:Uu(n.parent):null,Fs=ge(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Uu(n.parent),$root:n=>Uu(n.root),$emit:n=>n.emit,$options:n=>Dh(n),$forceUpdate:n=>n.f||(n.f=()=>Yo(n.update)),$nextTick:n=>n.n||(n.n=aa.bind(n.proxy)),$watch:n=>hC.bind(n)}),wu=(n,t)=>n!==Zt&&!n.__isScriptSetup&&Ut(n,t),Wu={get({_:n},t){const{ctx:e,setupState:i,data:s,props:o,accessCache:l,type:h,appContext:f}=n;let c;if(t[0]!=="$"){const w=l[t];if(w!==void 0)switch(w){case 1:return i[t];case 2:return s[t];case 4:return e[t];case 3:return o[t]}else{if(wu(i,t))return l[t]=1,i[t];if(s!==Zt&&Ut(s,t))return l[t]=2,s[t];if((c=n.propsOptions[0])&&Ut(c,t))return l[t]=3,o[t];if(e!==Zt&&Ut(e,t))return l[t]=4,e[t];zu&&(l[t]=0)}}const g=Fs[t];let p,v;if(g)return t==="$attrs"&&hn(n,"get",t),g(n);if((p=h.__cssModules)&&(p=p[t]))return p;if(e!==Zt&&Ut(e,t))return l[t]=4,e[t];if(v=f.config.globalProperties,Ut(v,t))return v[t]},set({_:n},t,e){const{data:i,setupState:s,ctx:o}=n;return wu(s,t)?(s[t]=e,!0):i!==Zt&&Ut(i,t)?(i[t]=e,!0):Ut(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:s,propsOptions:o}},l){let h;return!!e[l]||n!==Zt&&Ut(n,l)||wu(t,l)||(h=o[0])&&Ut(h,l)||Ut(i,l)||Ut(Fs,l)||Ut(s.config.globalProperties,l)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Ut(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}},SC=ge({},Wu,{get(n,t){if(t!==Symbol.unscopables)return Wu.get(n,t,n)},has(n,t){return t[0]!=="_"&&!Ww(t)}});let zu=!0;function CC(n){const t=Dh(n),e=n.proxy,i=n.ctx;zu=!1,t.beforeCreate&&Ud(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:l,watch:h,provide:f,inject:c,created:g,beforeMount:p,mounted:v,beforeUpdate:w,updated:m,activated:P,deactivated:T,beforeDestroy:A,beforeUnmount:S,destroyed:C,unmounted:M,render:B,renderTracked:G,renderTriggered:W,errorCaptured:F,serverPrefetch:$,expose:K,inheritAttrs:V,components:j,directives:H,filters:N}=t;if(c&&xC(c,i,null,n.appContext.config.unwrapInjectedRef),l)for(const ht in l){const dt=l[ht];At(dt)&&(i[ht]=dt.bind(e))}if(s){const ht=s.call(e,e);te(ht)&&(n.data=Mr(ht))}if(zu=!0,o)for(const ht in o){const dt=o[ht],Tt=At(dt)?dt.bind(e,e):At(dt.get)?dt.get.bind(e,e):Pn,ot=!At(dt)&&At(dt.set)?dt.set.bind(e):Pn,yt=kr({get:Tt,set:ot});Object.defineProperty(i,ht,{enumerable:!0,configurable:!0,get:()=>yt.value,set:It=>yt.value=It})}if(h)for(const ht in h)Lp(h[ht],i,e,ht);if(f){const ht=At(f)?f.call(e):f;Reflect.ownKeys(ht).forEach(dt=>{Oh(dt,ht[dt])})}g&&Ud(g,n,"c");function Q(ht,dt){vt(dt)?dt.forEach(Tt=>ht(Tt.bind(e))):dt&&ht(dt.bind(e))}if(Q(Cp,p),Q(ci,v),Q(xp,w),Q(Vo,m),Q(bp,P),Q(wp,T),Q(Pp,F),Q(Ap,G),Q(Tp,W),Q(jo,S),Q(Zo,M),Q(Ep,$),vt(K))if(K.length){const ht=n.exposed||(n.exposed={});K.forEach(dt=>{Object.defineProperty(ht,dt,{get:()=>e[dt],set:Tt=>e[dt]=Tt})})}else n.exposed||(n.exposed={});B&&n.render===Pn&&(n.render=B),V!=null&&(n.inheritAttrs=V),j&&(n.components=j),H&&(n.directives=H)}function xC(n,t,e=Pn,i=!1){vt(n)&&(n=Yu(n));for(const s in n){const o=n[s];let l;te(o)?"default"in o?l=Ki(o.from||s,o.default,!0):l=Ki(o.from||s):l=Ki(o),me(l)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:h=>l.value=h}):t[s]=l}}function Ud(n,t,e){ln(vt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function Lp(n,t,e,i){const s=i.includes(".")?mp(e,i):()=>e[i];if(he(n)){const o=t[n];At(o)&&Xi(s,o)}else if(At(n))Xi(s,n.bind(e));else if(te(n))if(vt(n))n.forEach(o=>Lp(o,t,e,i));else{const o=At(n.handler)?n.handler.bind(e):t[n.handler];At(o)&&Xi(s,o,n)}}function Dh(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=n.appContext,h=o.get(t);let f;return h?f=h:!s.length&&!e&&!i?f=t:(f={},s.length&&s.forEach(c=>Lo(f,c,l,!0)),Lo(f,t,l)),te(t)&&o.set(t,f),f}function Lo(n,t,e,i=!1){const{mixins:s,extends:o}=t;o&&Lo(n,o,e,!0),s&&s.forEach(l=>Lo(n,l,e,!0));for(const l in t)if(!(i&&l==="expose")){const h=EC[l]||e&&e[l];n[l]=h?h(n[l],t[l]):t[l]}return n}const EC={data:Wd,props:Jr,emits:Jr,methods:Jr,computed:Jr,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:Jr,directives:Jr,watch:AC,provide:Wd,inject:TC};function Wd(n,t){return t?n?function(){return ge(At(n)?n.call(this,this):n,At(t)?t.call(this,this):t)}:t:n}function TC(n,t){return Jr(Yu(n),Yu(t))}function Yu(n){if(vt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function He(n,t){return n?[...new Set([].concat(n,t))]:t}function Jr(n,t){return n?ge(ge(Object.create(null),n),t):t}function AC(n,t){if(!n)return t;if(!t)return n;const e=ge(Object.create(null),n);for(const i in t)e[i]=He(n[i],t[i]);return e}function PC(n,t,e,i=!1){const s={},o={};Oo(o,Jo,1),n.propsDefaults=Object.create(null),Ip(n,t,s,o);for(const l in n.propsOptions[0])l in s||(s[l]=void 0);e?n.props=i?s:ap(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function RC(n,t,e,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=n,h=Wt(s),[f]=n.propsOptions;let c=!1;if((i||l>0)&&!(l&16)){if(l&8){const g=n.vnode.dynamicProps;for(let p=0;p<g.length;p++){let v=g[p];if($o(n.emitsOptions,v))continue;const w=t[v];if(f)if(Ut(o,v))w!==o[v]&&(o[v]=w,c=!0);else{const m=Ve(v);s[m]=$u(f,h,m,w,n,!1)}else w!==o[v]&&(o[v]=w,c=!0)}}}else{Ip(n,t,s,o)&&(c=!0);let g;for(const p in h)(!t||!Ut(t,p)&&((g=bn(p))===p||!Ut(t,g)))&&(f?e&&(e[p]!==void 0||e[g]!==void 0)&&(s[p]=$u(f,h,p,void 0,n,!0)):delete s[p]);if(o!==h)for(const p in o)(!t||!Ut(t,p)&&!0)&&(delete o[p],c=!0)}c&&rr(n,"set","$attrs")}function Ip(n,t,e,i){const[s,o]=n.propsOptions;let l=!1,h;if(t)for(let f in t){if(Is(f))continue;const c=t[f];let g;s&&Ut(s,g=Ve(f))?!o||!o.includes(g)?e[g]=c:(h||(h={}))[g]=c:$o(n.emitsOptions,f)||(!(f in i)||c!==i[f])&&(i[f]=c,l=!0)}if(o){const f=Wt(e),c=h||Zt;for(let g=0;g<o.length;g++){const p=o[g];e[p]=$u(s,f,p,c[p],n,!Ut(c,p))}}return l}function $u(n,t,e,i,s,o){const l=n[e];if(l!=null){const h=Ut(l,"default");if(h&&i===void 0){const f=l.default;if(l.type!==Function&&At(f)){const{propsDefaults:c}=s;e in c?i=c[e]:(Ir(s),i=c[e]=f.call(null,t),Pr())}else i=f}l[0]&&(o&&!h?i=!1:l[1]&&(i===""||i===bn(e))&&(i=!0))}return i}function kp(n,t,e=!1){const i=t.propsCache,s=i.get(n);if(s)return s;const o=n.props,l={},h=[];let f=!1;if(!At(n)){const g=p=>{f=!0;const[v,w]=kp(p,t,!0);ge(l,v),w&&h.push(...w)};!e&&t.mixins.length&&t.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!o&&!f)return te(n)&&i.set(n,Ui),Ui;if(vt(o))for(let g=0;g<o.length;g++){const p=Ve(o[g]);zd(p)&&(l[p]=Zt)}else if(o)for(const g in o){const p=Ve(g);if(zd(p)){const v=o[g],w=l[p]=vt(v)||At(v)?{type:v}:Object.assign({},v);if(w){const m=Kd(Boolean,w.type),P=Kd(String,w.type);w[0]=m>-1,w[1]=P<0||m<P,(m>-1||Ut(w,"default"))&&h.push(p)}}}const c=[l,h];return te(n)&&i.set(n,c),c}function zd(n){return n[0]!=="$"}function Yd(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function $d(n,t){return Yd(n)===Yd(t)}function Kd(n,t){return vt(t)?t.findIndex(e=>$d(e,n)):At(t)&&$d(t,n)?0:-1}const Fp=n=>n[0]==="_"||n==="$stable",Nh=n=>vt(n)?n.map(sn):[sn(n)],OC=(n,t,e)=>{if(t._n)return t;const i=qs((...s)=>Nh(t(...s)),e);return i._c=!1,i},Dp=(n,t,e)=>{const i=n._ctx;for(const s in n){if(Fp(s))continue;const o=n[s];if(At(o))t[s]=OC(s,o,i);else if(o!=null){const l=Nh(o);t[s]=()=>l}}},Np=(n,t)=>{const e=Nh(t);n.slots.default=()=>e},MC=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=Wt(t),Oo(t,"_",e)):Dp(t,n.slots={})}else n.slots={},t&&Np(n,t);Oo(n.slots,Jo,1)},LC=(n,t,e)=>{const{vnode:i,slots:s}=n;let o=!0,l=Zt;if(i.shapeFlag&32){const h=t._;h?e&&h===1?o=!1:(ge(s,t),!e&&h===1&&delete s._):(o=!t.$stable,Dp(t,s)),l=t}else t&&(Np(n,t),l={default:1});if(o)for(const h in s)!Fp(h)&&!(h in l)&&delete s[h]};function Gp(){return{app:null,config:{isNativeTag:Zw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let IC=0;function kC(n,t){return function(i,s=null){At(i)||(i=Object.assign({},i)),s!=null&&!te(s)&&(s=null);const o=Gp(),l=new Set;let h=!1;const f=o.app={_uid:IC++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:s_,get config(){return o.config},set config(c){},use(c,...g){return l.has(c)||(c&&At(c.install)?(l.add(c),c.install(f,...g)):At(c)&&(l.add(c),c(f,...g))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,g){return g?(o.components[c]=g,f):o.components[c]},directive(c,g){return g?(o.directives[c]=g,f):o.directives[c]},mount(c,g,p){if(!h){const v=Bt(i,s);return v.appContext=o,g&&t?t(v,c):n(v,c,p),h=!0,f._container=c,c.__vue_app__=f,tl(v.component)||v.component.proxy}},unmount(){h&&(n(null,f._container),delete f._container.__vue_app__)},provide(c,g){return o.provides[c]=g,f}};return f}}function Io(n,t,e,i,s=!1){if(vt(n)){n.forEach((v,w)=>Io(v,t&&(vt(t)?t[w]:t),e,i,s));return}if(ii(i)&&!s)return;const o=i.shapeFlag&4?tl(i.component)||i.component.proxy:i.el,l=s?null:o,{i:h,r:f}=n,c=t&&t.r,g=h.refs===Zt?h.refs={}:h.refs,p=h.setupState;if(c!=null&&c!==f&&(he(c)?(g[c]=null,Ut(p,c)&&(p[c]=null)):me(c)&&(c.value=null)),At(f))er(f,h,12,[l,g]);else{const v=he(f),w=me(f);if(v||w){const m=()=>{if(n.f){const P=v?Ut(p,f)?p[f]:g[f]:f.value;s?vt(P)&&gh(P,o):vt(P)?P.includes(o)||P.push(o):v?(g[f]=[o],Ut(p,f)&&(p[f]=g[f])):(f.value=[o],n.k&&(g[n.k]=f.value))}else v?(g[f]=l,Ut(p,f)&&(p[f]=l)):w&&(f.value=l,n.k&&(g[n.k]=l))};l?(m.id=-1,Re(m,e)):m()}}}let yr=!1;const oo=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",lo=n=>n.nodeType===8;function FC(n){const{mt:t,p:e,o:{patchProp:i,createText:s,nextSibling:o,parentNode:l,remove:h,insert:f,createComment:c}}=n,g=(A,S)=>{if(!S.hasChildNodes()){e(null,A,S),Mo(),S._vnode=A;return}yr=!1,p(S.firstChild,A,null,null,null),Mo(),S._vnode=A,yr&&console.error("Hydration completed but contains mismatches.")},p=(A,S,C,M,B,G=!1)=>{const W=lo(A)&&A.data==="[",F=()=>P(A,S,C,M,B,W),{type:$,ref:K,shapeFlag:V,patchFlag:j}=S;let H=A.nodeType;S.el=A,j===-2&&(G=!1,S.dynamicChildren=null);let N=null;switch($){case li:H!==3?S.children===""?(f(S.el=s(""),l(A),A),N=A):N=F():(A.data!==S.children&&(yr=!0,A.data=S.children),N=o(A));break;case Fe:H!==8||W?N=F():N=o(A);break;case si:if(W&&(A=o(A),H=A.nodeType),H===1||H===3){N=A;const rt=!S.children.length;for(let Q=0;Q<S.staticCount;Q++)rt&&(S.children+=N.nodeType===1?N.outerHTML:N.data),Q===S.staticCount-1&&(S.anchor=N),N=o(N);return W?o(N):N}else F();break;case ue:W?N=m(A,S,C,M,B,G):N=F();break;default:if(V&1)H!==1||S.type.toLowerCase()!==A.tagName.toLowerCase()?N=F():N=v(A,S,C,M,B,G);else if(V&6){S.slotScopeIds=B;const rt=l(A);if(t(S,rt,null,C,M,oo(rt),G),N=W?T(A):o(A),N&&lo(N)&&N.data==="teleport end"&&(N=o(N)),ii(S)){let Q;W?(Q=Bt(ue),Q.anchor=N?N.previousSibling:rt.lastChild):Q=A.nodeType===3?Bh(""):Bt("div"),Q.el=A,S.component.subTree=Q}}else V&64?H!==8?N=F():N=S.type.hydrate(A,S,C,M,B,G,n,w):V&128&&(N=S.type.hydrate(A,S,C,M,oo(l(A)),B,G,n,p))}return K!=null&&Io(K,null,M,S),N},v=(A,S,C,M,B,G)=>{G=G||!!S.dynamicChildren;const{type:W,props:F,patchFlag:$,shapeFlag:K,dirs:V}=S,j=W==="input"&&V||W==="option";if(j||$!==-1){if(V&&Fn(S,null,C,"created"),F)if(j||!G||$&48)for(const N in F)(j&&N.endsWith("value")||na(N)&&!Is(N))&&i(A,N,null,F[N],!1,void 0,C);else F.onClick&&i(A,"onClick",null,F.onClick,!1,void 0,C);let H;if((H=F&&F.onVnodeBeforeMount)&&Ke(H,C,S),V&&Fn(S,null,C,"beforeMount"),((H=F&&F.onVnodeMounted)||V)&&_p(()=>{H&&Ke(H,C,S),V&&Fn(S,null,C,"mounted")},M),K&16&&!(F&&(F.innerHTML||F.textContent))){let N=w(A.firstChild,S,A,C,M,B,G);for(;N;){yr=!0;const rt=N;N=N.nextSibling,h(rt)}}else K&8&&A.textContent!==S.children&&(yr=!0,A.textContent=S.children)}return A.nextSibling},w=(A,S,C,M,B,G,W)=>{W=W||!!S.dynamicChildren;const F=S.children,$=F.length;for(let K=0;K<$;K++){const V=W?F[K]:F[K]=sn(F[K]);if(A)A=p(A,V,M,B,G,W);else{if(V.type===li&&!V.children)continue;yr=!0,e(null,V,C,null,M,B,oo(C),G)}}return A},m=(A,S,C,M,B,G)=>{const{slotScopeIds:W}=S;W&&(B=B?B.concat(W):W);const F=l(A),$=w(o(A),S,F,C,M,B,G);return $&&lo($)&&$.data==="]"?o(S.anchor=$):(yr=!0,f(S.anchor=c("]"),F,$),$)},P=(A,S,C,M,B,G)=>{if(yr=!0,S.el=null,G){const $=T(A);for(;;){const K=o(A);if(K&&K!==$)h(K);else break}}const W=o(A),F=l(A);return h(A),e(null,S,F,W,C,M,oo(F),B),W},T=A=>{let S=0;for(;A;)if(A=o(A),A&&lo(A)&&(A.data==="["&&S++,A.data==="]")){if(S===0)return o(A);S--}return A};return[g,p]}const Re=_p;function Bp(n){return Up(n)}function Hp(n){return Up(n,FC)}function Up(n,t){const e=rS();e.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:h,createComment:f,setText:c,setElementText:g,parentNode:p,nextSibling:v,setScopeId:w=Pn,insertStaticContent:m}=n,P=(R,I,z,Z=null,tt=null,it=null,ct=!1,lt=null,ut=!!I.dynamicChildren)=>{if(R===I)return;R&&!Gn(R,I)&&(Z=je(R),It(R,tt,it,!0),R=null),I.patchFlag===-2&&(ut=!1,I.dynamicChildren=null);const{type:J,ref:bt,shapeFlag:pt}=I;switch(J){case li:T(R,I,z,Z);break;case Fe:A(R,I,z,Z);break;case si:R==null&&S(I,z,Z,ct);break;case ue:j(R,I,z,Z,tt,it,ct,lt,ut);break;default:pt&1?B(R,I,z,Z,tt,it,ct,lt,ut):pt&6?H(R,I,z,Z,tt,it,ct,lt,ut):(pt&64||pt&128)&&J.process(R,I,z,Z,tt,it,ct,lt,ut,Me)}bt!=null&&tt&&Io(bt,R&&R.ref,it,I||R,!I)},T=(R,I,z,Z)=>{if(R==null)i(I.el=h(I.children),z,Z);else{const tt=I.el=R.el;I.children!==R.children&&c(tt,I.children)}},A=(R,I,z,Z)=>{R==null?i(I.el=f(I.children||""),z,Z):I.el=R.el},S=(R,I,z,Z)=>{[R.el,R.anchor]=m(R.children,I,z,Z,R.el,R.anchor)},C=({el:R,anchor:I},z,Z)=>{let tt;for(;R&&R!==I;)tt=v(R),i(R,z,Z),R=tt;i(I,z,Z)},M=({el:R,anchor:I})=>{let z;for(;R&&R!==I;)z=v(R),s(R),R=z;s(I)},B=(R,I,z,Z,tt,it,ct,lt,ut)=>{ct=ct||I.type==="svg",R==null?G(I,z,Z,tt,it,ct,lt,ut):$(R,I,tt,it,ct,lt,ut)},G=(R,I,z,Z,tt,it,ct,lt)=>{let ut,J;const{type:bt,props:pt,shapeFlag:wt,transition:Ct,dirs:kt}=R;if(ut=R.el=l(R.type,it,pt&&pt.is,pt),wt&8?g(ut,R.children):wt&16&&F(R.children,ut,null,Z,tt,it&&bt!=="foreignObject",ct,lt),kt&&Fn(R,null,Z,"created"),pt){for(const Nt in pt)Nt!=="value"&&!Is(Nt)&&o(ut,Nt,null,pt[Nt],it,R.children,Z,tt,Jt);"value"in pt&&o(ut,"value",null,pt.value),(J=pt.onVnodeBeforeMount)&&Ke(J,Z,R)}W(ut,R,R.scopeId,ct,Z),kt&&Fn(R,null,Z,"beforeMount");const zt=(!tt||tt&&!tt.pendingBranch)&&Ct&&!Ct.persisted;zt&&Ct.beforeEnter(ut),i(ut,I,z),((J=pt&&pt.onVnodeMounted)||zt||kt)&&Re(()=>{J&&Ke(J,Z,R),zt&&Ct.enter(ut),kt&&Fn(R,null,Z,"mounted")},tt)},W=(R,I,z,Z,tt)=>{if(z&&w(R,z),Z)for(let it=0;it<Z.length;it++)w(R,Z[it]);if(tt){let it=tt.subTree;if(I===it){const ct=tt.vnode;W(R,ct,ct.scopeId,ct.slotScopeIds,tt.parent)}}},F=(R,I,z,Z,tt,it,ct,lt,ut=0)=>{for(let J=ut;J<R.length;J++){const bt=R[J]=lt?xr(R[J]):sn(R[J]);P(null,bt,I,z,Z,tt,it,ct,lt)}},$=(R,I,z,Z,tt,it,ct)=>{const lt=I.el=R.el;let{patchFlag:ut,dynamicChildren:J,dirs:bt}=I;ut|=R.patchFlag&16;const pt=R.props||Zt,wt=I.props||Zt;let Ct;z&&Vr(z,!1),(Ct=wt.onVnodeBeforeUpdate)&&Ke(Ct,z,I,R),bt&&Fn(I,R,z,"beforeUpdate"),z&&Vr(z,!0);const kt=tt&&I.type!=="foreignObject";if(J?K(R.dynamicChildren,J,lt,z,Z,kt,it):ct||dt(R,I,lt,null,z,Z,kt,it,!1),ut>0){if(ut&16)V(lt,I,pt,wt,z,Z,tt);else if(ut&2&&pt.class!==wt.class&&o(lt,"class",null,wt.class,tt),ut&4&&o(lt,"style",pt.style,wt.style,tt),ut&8){const zt=I.dynamicProps;for(let Nt=0;Nt<zt.length;Nt++){const se=zt[Nt],De=pt[se],Mn=wt[se];(Mn!==De||se==="value")&&o(lt,se,De,Mn,tt,R.children,z,Z,Jt)}}ut&1&&R.children!==I.children&&g(lt,I.children)}else!ct&&J==null&&V(lt,I,pt,wt,z,Z,tt);((Ct=wt.onVnodeUpdated)||bt)&&Re(()=>{Ct&&Ke(Ct,z,I,R),bt&&Fn(I,R,z,"updated")},Z)},K=(R,I,z,Z,tt,it,ct)=>{for(let lt=0;lt<I.length;lt++){const ut=R[lt],J=I[lt],bt=ut.el&&(ut.type===ue||!Gn(ut,J)||ut.shapeFlag&70)?p(ut.el):z;P(ut,J,bt,null,Z,tt,it,ct,!0)}},V=(R,I,z,Z,tt,it,ct)=>{if(z!==Z){if(z!==Zt)for(const lt in z)!Is(lt)&&!(lt in Z)&&o(R,lt,z[lt],null,ct,I.children,tt,it,Jt);for(const lt in Z){if(Is(lt))continue;const ut=Z[lt],J=z[lt];ut!==J&&lt!=="value"&&o(R,lt,J,ut,ct,I.children,tt,it,Jt)}"value"in Z&&o(R,"value",z.value,Z.value)}},j=(R,I,z,Z,tt,it,ct,lt,ut)=>{const J=I.el=R?R.el:h(""),bt=I.anchor=R?R.anchor:h("");let{patchFlag:pt,dynamicChildren:wt,slotScopeIds:Ct}=I;Ct&&(lt=lt?lt.concat(Ct):Ct),R==null?(i(J,z,Z),i(bt,z,Z),F(I.children,z,bt,tt,it,ct,lt,ut)):pt>0&&pt&64&&wt&&R.dynamicChildren?(K(R.dynamicChildren,wt,z,tt,it,ct,lt),(I.key!=null||tt&&I===tt.subTree)&&Gh(R,I,!0)):dt(R,I,z,bt,tt,it,ct,lt,ut)},H=(R,I,z,Z,tt,it,ct,lt,ut)=>{I.slotScopeIds=lt,R==null?I.shapeFlag&512?tt.ctx.activate(I,z,Z,ct,ut):N(I,z,Z,tt,it,ct,ut):rt(R,I,ut)},N=(R,I,z,Z,tt,it,ct)=>{const lt=R.component=Vp(R,Z,tt);if(la(R)&&(lt.ctx.renderer=Me),Zp(lt),lt.asyncDep){if(tt&&tt.registerDep(lt,Q),!R.el){const ut=lt.subTree=Bt(Fe);A(null,ut,I,z)}return}Q(lt,R,I,z,tt,it,ct)},rt=(R,I,z)=>{const Z=I.component=R.component;if(eC(R,I,z))if(Z.asyncDep&&!Z.asyncResolved){ht(Z,I,z);return}else Z.next=I,KS(Z.update),Z.update();else I.el=R.el,Z.vnode=I},Q=(R,I,z,Z,tt,it,ct)=>{const lt=()=>{if(R.isMounted){let{next:bt,bu:pt,u:wt,parent:Ct,vnode:kt}=R,zt=bt,Nt;Vr(R,!1),bt?(bt.el=kt.el,ht(R,bt,ct)):bt=kt,pt&&zi(pt),(Nt=bt.props&&bt.props.onVnodeBeforeUpdate)&&Ke(Nt,Ct,bt,kt),Vr(R,!0);const se=Co(R),De=R.subTree;R.subTree=se,P(De,se,p(De.el),je(De),R,tt,it),bt.el=se.el,zt===null&&Ph(R,se.el),wt&&Re(wt,tt),(Nt=bt.props&&bt.props.onVnodeUpdated)&&Re(()=>Ke(Nt,Ct,bt,kt),tt)}else{let bt;const{el:pt,props:wt}=I,{bm:Ct,m:kt,parent:zt}=R,Nt=ii(I);if(Vr(R,!1),Ct&&zi(Ct),!Nt&&(bt=wt&&wt.onVnodeBeforeMount)&&Ke(bt,zt,I),Vr(R,!0),pt&&Sn){const se=()=>{R.subTree=Co(R),Sn(pt,R.subTree,R,tt,null)};Nt?I.type.__asyncLoader().then(()=>!R.isUnmounted&&se()):se()}else{const se=R.subTree=Co(R);P(null,se,z,Z,R,tt,it),I.el=se.el}if(kt&&Re(kt,tt),!Nt&&(bt=wt&&wt.onVnodeMounted)){const se=I;Re(()=>Ke(bt,zt,se),tt)}(I.shapeFlag&256||zt&&ii(zt.vnode)&&zt.vnode.shapeFlag&256)&&R.a&&Re(R.a,tt),R.isMounted=!0,I=z=Z=null}},ut=R.effect=new sa(lt,()=>Yo(J),R.scope),J=R.update=()=>ut.run();J.id=R.uid,Vr(R,!0),J()},ht=(R,I,z)=>{I.component=R;const Z=R.vnode.props;R.vnode=I,R.next=null,RC(R,I.props,Z,z),LC(R,I.children,z),ns(),Dd(),rs()},dt=(R,I,z,Z,tt,it,ct,lt,ut=!1)=>{const J=R&&R.children,bt=R?R.shapeFlag:0,pt=I.children,{patchFlag:wt,shapeFlag:Ct}=I;if(wt>0){if(wt&128){ot(J,pt,z,Z,tt,it,ct,lt,ut);return}else if(wt&256){Tt(J,pt,z,Z,tt,it,ct,lt,ut);return}}Ct&8?(bt&16&&Jt(J,tt,it),pt!==J&&g(z,pt)):bt&16?Ct&16?ot(J,pt,z,Z,tt,it,ct,lt,ut):Jt(J,tt,it,!0):(bt&8&&g(z,""),Ct&16&&F(pt,z,Z,tt,it,ct,lt,ut))},Tt=(R,I,z,Z,tt,it,ct,lt,ut)=>{R=R||Ui,I=I||Ui;const J=R.length,bt=I.length,pt=Math.min(J,bt);let wt;for(wt=0;wt<pt;wt++){const Ct=I[wt]=ut?xr(I[wt]):sn(I[wt]);P(R[wt],Ct,z,null,tt,it,ct,lt,ut)}J>bt?Jt(R,tt,it,!0,!1,pt):F(I,z,Z,tt,it,ct,lt,ut,pt)},ot=(R,I,z,Z,tt,it,ct,lt,ut)=>{let J=0;const bt=I.length;let pt=R.length-1,wt=bt-1;for(;J<=pt&&J<=wt;){const Ct=R[J],kt=I[J]=ut?xr(I[J]):sn(I[J]);if(Gn(Ct,kt))P(Ct,kt,z,null,tt,it,ct,lt,ut);else break;J++}for(;J<=pt&&J<=wt;){const Ct=R[pt],kt=I[wt]=ut?xr(I[wt]):sn(I[wt]);if(Gn(Ct,kt))P(Ct,kt,z,null,tt,it,ct,lt,ut);else break;pt--,wt--}if(J>pt){if(J<=wt){const Ct=wt+1,kt=Ct<bt?I[Ct].el:Z;for(;J<=wt;)P(null,I[J]=ut?xr(I[J]):sn(I[J]),z,kt,tt,it,ct,lt,ut),J++}}else if(J>wt)for(;J<=pt;)It(R[J],tt,it,!0),J++;else{const Ct=J,kt=J,zt=new Map;for(J=kt;J<=wt;J++){const Te=I[J]=ut?xr(I[J]):sn(I[J]);Te.key!=null&&zt.set(Te.key,J)}let Nt,se=0;const De=wt-kt+1;let Mn=!1,mi=0;const Un=new Array(De);for(J=0;J<De;J++)Un[J]=0;for(J=Ct;J<=pt;J++){const Te=R[J];if(se>=De){It(Te,tt,it,!0);continue}let Ue;if(Te.key!=null)Ue=zt.get(Te.key);else for(Nt=kt;Nt<=wt;Nt++)if(Un[Nt-kt]===0&&Gn(Te,I[Nt])){Ue=Nt;break}Ue===void 0?It(Te,tt,it,!0):(Un[Ue-kt]=J+1,Ue>=mi?mi=Ue:Mn=!0,P(Te,I[Ue],z,null,tt,it,ct,lt,ut),se++)}const yi=Mn?DC(Un):Ui;for(Nt=yi.length-1,J=De-1;J>=0;J--){const Te=kt+J,Ue=I[Te],bi=Te+1<bt?I[Te+1].el:Z;Un[J]===0?P(null,Ue,z,bi,tt,it,ct,lt,ut):Mn&&(Nt<0||J!==yi[Nt]?yt(Ue,z,bi,2):Nt--)}}},yt=(R,I,z,Z,tt=null)=>{const{el:it,type:ct,transition:lt,children:ut,shapeFlag:J}=R;if(J&6){yt(R.component.subTree,I,z,Z);return}if(J&128){R.suspense.move(I,z,Z);return}if(J&64){ct.move(R,I,z,Me);return}if(ct===ue){i(it,I,z);for(let pt=0;pt<ut.length;pt++)yt(ut[pt],I,z,Z);i(R.anchor,I,z);return}if(ct===si){C(R,I,z);return}if(Z!==2&&J&1&&lt)if(Z===0)lt.beforeEnter(it),i(it,I,z),Re(()=>lt.enter(it),tt);else{const{leave:pt,delayLeave:wt,afterLeave:Ct}=lt,kt=()=>i(it,I,z),zt=()=>{pt(it,()=>{kt(),Ct&&Ct()})};wt?wt(it,kt,zt):zt()}else i(it,I,z)},It=(R,I,z,Z=!1,tt=!1)=>{const{type:it,props:ct,ref:lt,children:ut,dynamicChildren:J,shapeFlag:bt,patchFlag:pt,dirs:wt}=R;if(lt!=null&&Io(lt,null,z,R,!0),bt&256){I.ctx.deactivate(R);return}const Ct=bt&1&&wt,kt=!ii(R);let zt;if(kt&&(zt=ct&&ct.onVnodeBeforeUnmount)&&Ke(zt,I,R),bt&6)qt(R.component,z,Z);else{if(bt&128){R.suspense.unmount(z,Z);return}Ct&&Fn(R,null,I,"beforeUnmount"),bt&64?R.type.remove(R,I,z,tt,Me,Z):J&&(it!==ue||pt>0&&pt&64)?Jt(J,I,z,!1,!0):(it===ue&&pt&384||!tt&&bt&16)&&Jt(ut,I,z),Z&&Ht(R)}(kt&&(zt=ct&&ct.onVnodeUnmounted)||Ct)&&Re(()=>{zt&&Ke(zt,I,R),Ct&&Fn(R,null,I,"unmounted")},z)},Ht=R=>{const{type:I,el:z,anchor:Z,transition:tt}=R;if(I===ue){ye(z,Z);return}if(I===si){M(R);return}const it=()=>{s(z),tt&&!tt.persisted&&tt.afterLeave&&tt.afterLeave()};if(R.shapeFlag&1&&tt&&!tt.persisted){const{leave:ct,delayLeave:lt}=tt,ut=()=>ct(z,it);lt?lt(R.el,it,ut):ut()}else it()},ye=(R,I)=>{let z;for(;R!==I;)z=v(R),s(R),R=z;s(I)},qt=(R,I,z)=>{const{bum:Z,scope:tt,update:it,subTree:ct,um:lt}=R;Z&&zi(Z),tt.stop(),it&&(it.active=!1,It(ct,R,I,z)),lt&&Re(lt,I),Re(()=>{R.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},Jt=(R,I,z,Z=!1,tt=!1,it=0)=>{for(let ct=it;ct<R.length;ct++)It(R[ct],I,z,Z,tt)},je=R=>R.shapeFlag&6?je(R.component.subTree):R.shapeFlag&128?R.suspense.next():v(R.anchor||R.el),ie=(R,I,z)=>{R==null?I._vnode&&It(I._vnode,null,null,!0):P(I._vnode||null,R,I,null,null,null,z),Dd(),Mo(),I._vnode=R},Me={p:P,um:It,m:yt,r:Ht,mt:N,mc:F,pc:dt,pbc:K,n:je,o:n};let Br,Sn;return t&&([Br,Sn]=t(Me)),{render:ie,hydrate:Br,createApp:kC(ie,Br)}}function Vr({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function Gh(n,t,e=!1){const i=n.children,s=t.children;if(vt(i)&&vt(s))for(let o=0;o<i.length;o++){const l=i[o];let h=s[o];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=s[o]=xr(s[o]),h.el=l.el),e||Gh(l,h)),h.type===li&&(h.el=l.el)}}function DC(n){const t=n.slice(),e=[0];let i,s,o,l,h;const f=n.length;for(i=0;i<f;i++){const c=n[i];if(c!==0){if(s=e[e.length-1],n[s]<c){t[i]=s,e.push(i);continue}for(o=0,l=e.length-1;o<l;)h=o+l>>1,n[e[h]]<c?o=h+1:l=h;c<n[e[o]]&&(o>0&&(t[i]=e[o-1]),e[o]=i)}}for(o=e.length,l=e[o-1];o-- >0;)e[o]=l,l=t[l];return e}const NC=n=>n.__isTeleport,Ds=n=>n&&(n.disabled||n.disabled===""),Xd=n=>typeof SVGElement<"u"&&n instanceof SVGElement,Ku=(n,t)=>{const e=n&&n.to;return he(e)?t?t(e):null:e},GC={__isTeleport:!0,process(n,t,e,i,s,o,l,h,f,c){const{mc:g,pc:p,pbc:v,o:{insert:w,querySelector:m,createText:P,createComment:T}}=c,A=Ds(t.props);let{shapeFlag:S,children:C,dynamicChildren:M}=t;if(n==null){const B=t.el=P(""),G=t.anchor=P("");w(B,e,i),w(G,e,i);const W=t.target=Ku(t.props,m),F=t.targetAnchor=P("");W&&(w(F,W),l=l||Xd(W));const $=(K,V)=>{S&16&&g(C,K,V,s,o,l,h,f)};A?$(e,G):W&&$(W,F)}else{t.el=n.el;const B=t.anchor=n.anchor,G=t.target=n.target,W=t.targetAnchor=n.targetAnchor,F=Ds(n.props),$=F?e:G,K=F?B:W;if(l=l||Xd(G),M?(v(n.dynamicChildren,M,$,s,o,l,h),Gh(n,t,!0)):f||p(n,t,$,K,s,o,l,h,!1),A)F||uo(t,e,B,c,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const V=t.target=Ku(t.props,m);V&&uo(t,V,null,c,0)}else F&&uo(t,G,W,c,1)}zp(t)},remove(n,t,e,i,{um:s,o:{remove:o}},l){const{shapeFlag:h,children:f,anchor:c,targetAnchor:g,target:p,props:v}=n;if(p&&o(g),(l||!Ds(v))&&(o(c),h&16))for(let w=0;w<f.length;w++){const m=f[w];s(m,t,e,!0,!!m.dynamicChildren)}},move:uo,hydrate:BC};function uo(n,t,e,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,t,e);const{el:l,anchor:h,shapeFlag:f,children:c,props:g}=n,p=o===2;if(p&&i(l,t,e),(!p||Ds(g))&&f&16)for(let v=0;v<c.length;v++)s(c[v],t,e,2);p&&i(h,t,e)}function BC(n,t,e,i,s,o,{o:{nextSibling:l,parentNode:h,querySelector:f}},c){const g=t.target=Ku(t.props,f);if(g){const p=g._lpa||g.firstChild;if(t.shapeFlag&16)if(Ds(t.props))t.anchor=c(l(n),t,h(n),e,i,s,o),t.targetAnchor=p;else{t.anchor=l(n);let v=p;for(;v;)if(v=l(v),v&&v.nodeType===8&&v.data==="teleport anchor"){t.targetAnchor=v,g._lpa=t.targetAnchor&&l(t.targetAnchor);break}c(p,t,g,e,i,s,o)}zp(t)}return t.anchor&&l(t.anchor)}const Wp=GC;function zp(n){const t=n.ctx;if(t&&t.ut){let e=n.children[0].el;for(;e!==n.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",t.uid),e=e.nextSibling;t.ut()}}const ue=Symbol(void 0),li=Symbol(void 0),Fe=Symbol(void 0),si=Symbol(void 0),Ns=[];let qe=null;function le(n=!1){Ns.push(qe=n?null:[])}function Yp(){Ns.pop(),qe=Ns[Ns.length-1]||null}let ui=1;function Xu(n){ui+=n}function $p(n){return n.dynamicChildren=ui>0?qe||Ui:null,Yp(),ui>0&&qe&&qe.push(n),n}function an(n,t,e,i,s,o){return $p(Qo(n,t,e,i,s,o,!0))}function Nn(n,t,e,i,s){return $p(Bt(n,t,e,i,s,!0))}function Lr(n){return n?n.__v_isVNode===!0:!1}function Gn(n,t){return n.type===t.type&&n.key===t.key}function HC(n){}const Jo="__vInternal",Kp=({key:n})=>n!=null?n:null,xo=({ref:n,ref_key:t,ref_for:e})=>n!=null?he(n)||me(n)||At(n)?{i:Oe,r:n,k:t,f:!!e}:n:null;function Qo(n,t=null,e=null,i=0,s=null,o=n===ue?0:1,l=!1,h=!1){const f={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Kp(t),ref:t&&xo(t),scopeId:Ko,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Oe};return h?(Hh(f,e),o&128&&n.normalize(f)):e&&(f.shapeFlag|=he(e)?8:16),ui>0&&!l&&qe&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&qe.push(f),f}const Bt=UC;function UC(n,t=null,e=null,i=0,s=null,o=!1){if((!n||n===Op)&&(n=Fe),Lr(n)){const h=Bn(n,t,!0);return e&&Hh(h,e),ui>0&&!o&&qe&&(h.shapeFlag&6?qe[qe.indexOf(n)]=h:qe.push(h)),h.patchFlag|=-2,h}if(VC(n)&&(n=n.__vccOpts),t){t=Xp(t);let{class:h,style:f}=t;h&&!he(h)&&(t.class=ea(h)),te(f)&&(wh(f)&&!vt(f)&&(f=ge({},f)),t.style=ta(f))}const l=he(n)?1:pp(n)?128:NC(n)?64:te(n)?4:At(n)?2:0;return Qo(n,t,e,i,s,l,o,!0)}function Xp(n){return n?wh(n)||Jo in n?ge({},n):n:null}function Bn(n,t,e=!1){const{props:i,ref:s,patchFlag:o,children:l}=n,h=t?qp(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:h,key:h&&Kp(h),ref:t&&t.ref?e&&s?vt(s)?s.concat(xo(t)):[s,xo(t)]:xo(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ue?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Bn(n.ssContent),ssFallback:n.ssFallback&&Bn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx}}function Bh(n=" ",t=0){return Bt(li,null,n,t)}function WC(n,t){const e=Bt(si,null,n);return e.staticCount=t,e}function Eo(n="",t=!1){return t?(le(),Nn(Fe,null,n)):Bt(Fe,null,n)}function sn(n){return n==null||typeof n=="boolean"?Bt(Fe):vt(n)?Bt(ue,null,n.slice()):typeof n=="object"?xr(n):Bt(li,null,String(n))}function xr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Bn(n)}function Hh(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(vt(t))e=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Hh(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(Jo in t)?t._ctx=Oe:s===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else At(t)?(t={default:t,_ctx:Oe},e=32):(t=String(t),i&64?(e=16,t=[Bh(t)]):e=8);n.children=t,n.shapeFlag|=e}function qp(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ea([t.class,i.class]));else if(s==="style")t.style=ta([t.style,i.style]);else if(na(s)){const o=t[s],l=i[s];l&&o!==l&&!(vt(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=i[s])}return t}function Ke(n,t,e,i=null){ln(n,t,7,[e,i])}const zC=Gp();let YC=0;function Vp(n,t,e){const i=n.type,s=(t?t.appContext:n.appContext)||zC,o={uid:YC++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new vh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:kp(i,s),emitsOptions:gp(i,s),emit:null,emitted:null,propsDefaults:Zt,inheritAttrs:i.inheritAttrs,ctx:Zt,data:Zt,props:Zt,attrs:Zt,slots:Zt,refs:Zt,setupState:Zt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=qS.bind(null,o),n.ce&&n.ce(o),o}let Se=null;const sr=()=>Se||Oe,Ir=n=>{Se=n,n.scope.on()},Pr=()=>{Se&&Se.scope.off(),Se=null};function jp(n){return n.vnode.shapeFlag&4}let Qi=!1;function Zp(n,t=!1){Qi=t;const{props:e,children:i}=n.vnode,s=jp(n);PC(n,e,s,t),MC(n,i);const o=s?$C(n,t):void 0;return Qi=!1,o}function $C(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=Sh(new Proxy(n.ctx,Wu));const{setup:i}=e;if(i){const s=n.setupContext=i.length>1?Qp(n):null;Ir(n),ns();const o=er(i,n,0,[n.props,s]);if(rs(),Pr(),ph(o)){if(o.then(Pr,Pr),t)return o.then(l=>{qu(n,l,t)}).catch(l=>{fi(l,n,0)});n.asyncDep=o}else qu(n,o,t)}else Jp(n,t)}function qu(n,t,e){At(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:te(t)&&(n.setupState=Eh(t)),Jp(n,e)}let ko,Vu;function KC(n){ko=n,Vu=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,SC))}}const XC=()=>!ko;function Jp(n,t,e){const i=n.type;if(!n.render){if(!t&&ko&&!i.render){const s=i.template||Dh(n).template;if(s){const{isCustomElement:o,compilerOptions:l}=n.appContext.config,{delimiters:h,compilerOptions:f}=i,c=ge(ge({isCustomElement:o,delimiters:h},l),f);i.render=ko(s,c)}}n.render=i.render||Pn,Vu&&Vu(n)}Ir(n),ns(),CC(n),rs(),Pr()}function qC(n){return new Proxy(n.attrs,{get(t,e){return hn(n,"get","$attrs"),t[e]}})}function Qp(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=qC(n))},slots:n.slots,emit:n.emit,expose:t}}function tl(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Eh(Sh(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Fs)return Fs[e](n)},has(t,e){return e in t||e in Fs}}))}function ju(n,t=!0){return At(n)?n.displayName||n.name:n.name||t&&n.__name}function VC(n){return At(n)&&"__vccOpts"in n}const kr=(n,t)=>Cr(n,t,Qi);function jC(){return null}function ZC(){return null}function JC(n){}function QC(n,t){return null}function tx(){return t_().slots}function ex(){return t_().attrs}function t_(){const n=sr();return n.setupContext||(n.setupContext=Qp(n))}function nx(n,t){const e=vt(n)?n.reduce((i,s)=>(i[s]={},i),{}):n;for(const i in t){const s=e[i];s?vt(s)||At(s)?e[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(e[i]={default:t[i]})}return e}function rx(n,t){const e={};for(const i in n)t.includes(i)||Object.defineProperty(e,i,{enumerable:!0,get:()=>n[i]});return e}function ix(n){const t=sr();let e=n();return Pr(),ph(e)&&(e=e.catch(i=>{throw Ir(t),i})),[e,()=>Ir(t)]}function e_(n,t,e){const i=arguments.length;return i===2?te(t)&&!vt(t)?Lr(t)?Bt(n,null,[t]):Bt(n,t):Bt(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Lr(e)&&(e=[e]),Bt(n,t,e))}const n_=Symbol(""),r_=()=>Ki(n_);function sx(){}function ax(n,t,e,i){const s=e[i];if(s&&i_(s,n))return s;const o=t();return o.memo=n.slice(),e[i]=o}function i_(n,t){const e=n.memo;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(Zi(e[i],t[i]))return!1;return ui>0&&qe&&qe.push(n),!0}const s_="3.2.45",ox={createComponentInstance:Vp,setupComponent:Zp,renderComponentRoot:Co,setCurrentRenderingInstance:Xs,isVNode:Lr,normalizeVNode:sn},lx=ox,ux=null,hx=null,fx="http://www.w3.org/2000/svg",ti=typeof document<"u"?document:null,qd=ti&&ti.createElement("template"),cx={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const s=t?ti.createElementNS(fx,n):ti.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ti.createTextNode(n),createComment:n=>ti.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ti.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,s,o){const l=e?e.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===o||!(s=s.nextSibling)););else{qd.innerHTML=i?`<svg>${n}</svg>`:n;const h=qd.content;if(i){const f=h.firstChild;for(;f.firstChild;)h.appendChild(f.firstChild);h.removeChild(f)}t.insertBefore(h,e)}return[l?l.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function dx(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function gx(n,t,e){const i=n.style,s=he(e);if(e&&!s){for(const o in e)Zu(i,o,e[o]);if(t&&!he(t))for(const o in t)e[o]==null&&Zu(i,o,"")}else{const o=i.display;s?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=o)}}const Vd=/\s*!important$/;function Zu(n,t,e){if(vt(e))e.forEach(i=>Zu(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=px(n,t);Vd.test(e)?n.setProperty(bn(i),e.replace(Vd,""),"important"):n[i]=e}}const jd=["Webkit","Moz","ms"],Su={};function px(n,t){const e=Su[t];if(e)return e;let i=Ve(t);if(i!=="filter"&&i in n)return Su[t]=i;i=ia(i);for(let s=0;s<jd.length;s++){const o=jd[s]+i;if(o in n)return Su[t]=o}return t}const Zd="http://www.w3.org/1999/xlink";function _x(n,t,e,i,s){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(Zd,t.slice(6,t.length)):n.setAttributeNS(Zd,t,e);else{const o=Vw(t);e==null||o&&!Hg(e)?n.removeAttribute(t):n.setAttribute(t,o?"":e)}}function vx(n,t,e,i,s,o,l){if(t==="innerHTML"||t==="textContent"){i&&l(i,s,o),n[t]=e==null?"":e;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const f=e==null?"":e;(n.value!==f||n.tagName==="OPTION")&&(n.value=f),e==null&&n.removeAttribute(t);return}let h=!1;if(e===""||e==null){const f=typeof n[t];f==="boolean"?e=Hg(e):e==null&&f==="string"?(e="",h=!0):f==="number"&&(e=0,h=!0)}try{n[t]=e}catch{}h&&n.removeAttribute(t)}function tr(n,t,e,i){n.addEventListener(t,e,i)}function mx(n,t,e,i){n.removeEventListener(t,e,i)}function yx(n,t,e,i,s=null){const o=n._vei||(n._vei={}),l=o[t];if(i&&l)l.value=i;else{const[h,f]=bx(t);if(i){const c=o[t]=Cx(i,s);tr(n,h,c,f)}else l&&(mx(n,h,l,f),o[t]=void 0)}}const Jd=/(?:Once|Passive|Capture)$/;function bx(n){let t;if(Jd.test(n)){t={};let i;for(;i=n.match(Jd);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):bn(n.slice(2)),t]}let Cu=0;const wx=Promise.resolve(),Sx=()=>Cu||(wx.then(()=>Cu=0),Cu=Date.now());function Cx(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;ln(xx(i,e.value),t,5,[i])};return e.value=n,e.attached=Sx(),e}function xx(n,t){if(vt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const Qd=/^on[a-z]/,Ex=(n,t,e,i,s=!1,o,l,h,f)=>{t==="class"?dx(n,i,s):t==="style"?gx(n,e,i):na(t)?dh(t)||yx(n,t,e,i,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tx(n,t,i,s))?vx(n,t,i,o,l,h,f):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),_x(n,t,i,s))};function Tx(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&Qd.test(t)&&At(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||Qd.test(t)&&he(e)?!1:t in n}function a_(n,t){const e=Ih(n);class i extends el{constructor(o){super(e,o,t)}}return i.def=e,i}const Ax=n=>a_(n,w_),Px=typeof HTMLElement<"u"?HTMLElement:class{};class el extends Px{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,aa(()=>{this._connected||(th(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=(i,s=!1)=>{const{props:o,styles:l}=i;let h;if(o&&!vt(o))for(const f in o){const c=o[f];(c===Number||c&&c.type===Number)&&(f in this._props&&(this._props[f]=nr(this._props[f])),(h||(h=Object.create(null)))[Ve(f)]=!0)}this._numberProps=h,s&&this._resolveProps(i),this._applyStyles(l),this._update()},e=this._def.__asyncLoader;e?e().then(i=>t(i,!0)):t(this._def)}_resolveProps(t){const{props:e}=t,i=vt(e)?e:Object.keys(e||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(Ve))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(o){this._setProp(s,o)}})}_setAttr(t){let e=this.getAttribute(t);const i=Ve(t);this._numberProps&&this._numberProps[i]&&(e=nr(e)),this._setProp(i,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,s=!0){e!==this._props[t]&&(this._props[t]=e,s&&this._instance&&this._update(),i&&(e===!0?this.setAttribute(bn(t),""):typeof e=="string"||typeof e=="number"?this.setAttribute(bn(t),e+""):e||this.removeAttribute(bn(t))))}_update(){th(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Bt(this._def,ge({},this._props));return this._instance||(t.ce=e=>{this._instance=e,e.isCE=!0;const i=(o,l)=>{this.dispatchEvent(new CustomEvent(o,{detail:l}))};e.emit=(o,...l)=>{i(o,l),bn(o)!==o&&i(bn(o),l)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof el){e.parent=s._instance,e.provides=s._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(e=>{const i=document.createElement("style");i.textContent=e,this.shadowRoot.appendChild(i)})}}function Rx(n="$style"){{const t=sr();if(!t)return Zt;const e=t.type.__cssModules;if(!e)return Zt;const i=e[n];return i||Zt}}function Ox(n){const t=sr();if(!t)return;const e=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Qu(o,s))},i=()=>{const s=n(t.proxy);Ju(t.subTree,s),e(s)};vp(i),ci(()=>{const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),Zo(()=>s.disconnect())})}function Ju(n,t){if(n.shapeFlag&128){const e=n.suspense;n=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{Ju(e.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Qu(n.el,t);else if(n.type===ue)n.children.forEach(e=>Ju(e,t));else if(n.type===si){let{el:e,anchor:i}=n;for(;e&&(Qu(e,t),e!==i);)e=e.nextSibling}}function Qu(n,t){if(n.nodeType===1){const e=n.style;for(const i in t)e.setProperty(`--${i}`,t[i])}}const br="transition",ws="animation",Uh=(n,{slots:t})=>e_(Lh,l_(n),t);Uh.displayName="Transition";const o_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mx=Uh.props=ge({},Lh.props,o_),jr=(n,t=[])=>{vt(n)?n.forEach(e=>e(...t)):n&&n(...t)},tg=n=>n?vt(n)?n.some(t=>t.length>1):n.length>1:!1;function l_(n){const t={};for(const j in n)j in o_||(t[j]=n[j]);if(n.css===!1)return t;const{name:e="v",type:i,duration:s,enterFromClass:o=`${e}-enter-from`,enterActiveClass:l=`${e}-enter-active`,enterToClass:h=`${e}-enter-to`,appearFromClass:f=o,appearActiveClass:c=l,appearToClass:g=h,leaveFromClass:p=`${e}-leave-from`,leaveActiveClass:v=`${e}-leave-active`,leaveToClass:w=`${e}-leave-to`}=n,m=Lx(s),P=m&&m[0],T=m&&m[1],{onBeforeEnter:A,onEnter:S,onEnterCancelled:C,onLeave:M,onLeaveCancelled:B,onBeforeAppear:G=A,onAppear:W=S,onAppearCancelled:F=C}=t,$=(j,H,N)=>{wr(j,H?g:h),wr(j,H?c:l),N&&N()},K=(j,H)=>{j._isLeaving=!1,wr(j,p),wr(j,w),wr(j,v),H&&H()},V=j=>(H,N)=>{const rt=j?W:S,Q=()=>$(H,j,N);jr(rt,[H,Q]),eg(()=>{wr(H,j?f:o),Zn(H,j?g:h),tg(rt)||ng(H,i,P,Q)})};return ge(t,{onBeforeEnter(j){jr(A,[j]),Zn(j,o),Zn(j,l)},onBeforeAppear(j){jr(G,[j]),Zn(j,f),Zn(j,c)},onEnter:V(!1),onAppear:V(!0),onLeave(j,H){j._isLeaving=!0;const N=()=>K(j,H);Zn(j,p),h_(),Zn(j,v),eg(()=>{!j._isLeaving||(wr(j,p),Zn(j,w),tg(M)||ng(j,i,T,N))}),jr(M,[j,N])},onEnterCancelled(j){$(j,!1),jr(C,[j])},onAppearCancelled(j){$(j,!0),jr(F,[j])},onLeaveCancelled(j){K(j),jr(B,[j])}})}function Lx(n){if(n==null)return null;if(te(n))return[xu(n.enter),xu(n.leave)];{const t=xu(n);return[t,t]}}function xu(n){return nr(n)}function Zn(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n._vtc||(n._vtc=new Set)).add(t)}function wr(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:e}=n;e&&(e.delete(t),e.size||(n._vtc=void 0))}function eg(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Ix=0;function ng(n,t,e,i){const s=n._endId=++Ix,o=()=>{s===n._endId&&i()};if(e)return setTimeout(o,e);const{type:l,timeout:h,propCount:f}=u_(n,t);if(!l)return i();const c=l+"end";let g=0;const p=()=>{n.removeEventListener(c,v),o()},v=w=>{w.target===n&&++g>=f&&p()};setTimeout(()=>{g<f&&p()},h+1),n.addEventListener(c,v)}function u_(n,t){const e=window.getComputedStyle(n),i=m=>(e[m]||"").split(", "),s=i(`${br}Delay`),o=i(`${br}Duration`),l=rg(s,o),h=i(`${ws}Delay`),f=i(`${ws}Duration`),c=rg(h,f);let g=null,p=0,v=0;t===br?l>0&&(g=br,p=l,v=o.length):t===ws?c>0&&(g=ws,p=c,v=f.length):(p=Math.max(l,c),g=p>0?l>c?br:ws:null,v=g?g===br?o.length:f.length:0);const w=g===br&&/\b(transform|all)(,|$)/.test(i(`${br}Property`).toString());return{type:g,timeout:p,propCount:v,hasTransform:w}}function rg(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,i)=>ig(e)+ig(n[i])))}function ig(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function h_(){return document.body.offsetHeight}const f_=new WeakMap,c_=new WeakMap,kx={name:"TransitionGroup",props:ge({},Mx,{tag:String,moveClass:String}),setup(n,{slots:t}){const e=sr(),i=Mh();let s,o;return Vo(()=>{if(!s.length)return;const l=n.moveClass||`${n.name||"v"}-move`;if(!Bx(s[0].el,e.vnode.el,l))return;s.forEach(Dx),s.forEach(Nx);const h=s.filter(Gx);h_(),h.forEach(f=>{const c=f.el,g=c.style;Zn(c,l),g.transform=g.webkitTransform=g.transitionDuration="";const p=c._moveCb=v=>{v&&v.target!==c||(!v||/transform$/.test(v.propertyName))&&(c.removeEventListener("transitionend",p),c._moveCb=null,wr(c,l))};c.addEventListener("transitionend",p)})}),()=>{const l=Wt(n),h=l_(l);let f=l.tag||ue;s=o,o=t.default?Xo(t.default()):[];for(let c=0;c<o.length;c++){const g=o[c];g.key!=null&&oi(g,Ji(g,h,i,e))}if(s)for(let c=0;c<s.length;c++){const g=s[c];oi(g,Ji(g,h,i,e)),f_.set(g,g.el.getBoundingClientRect())}return Bt(f,null,o)}}},Fx=kx;function Dx(n){const t=n.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Nx(n){c_.set(n,n.el.getBoundingClientRect())}function Gx(n){const t=f_.get(n),e=c_.get(n),i=t.left-e.left,s=t.top-e.top;if(i||s){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${s}px)`,o.transitionDuration="0s",n}}function Bx(n,t,e){const i=n.cloneNode();n._vtc&&n._vtc.forEach(l=>{l.split(/\s+/).forEach(h=>h&&i.classList.remove(h))}),e.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=u_(i);return s.removeChild(i),o}const Fr=n=>{const t=n.props["onUpdate:modelValue"]||!1;return vt(t)?e=>zi(t,e):t};function Hx(n){n.target.composing=!0}function sg(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const js={created(n,{modifiers:{lazy:t,trim:e,number:i}},s){n._assign=Fr(s);const o=i||s.props&&s.props.type==="number";tr(n,t?"change":"input",l=>{if(l.target.composing)return;let h=n.value;e&&(h=h.trim()),o&&(h=nr(h)),n._assign(h)}),e&&tr(n,"change",()=>{n.value=n.value.trim()}),t||(tr(n,"compositionstart",Hx),tr(n,"compositionend",sg),tr(n,"change",sg))},mounted(n,{value:t}){n.value=t==null?"":t},beforeUpdate(n,{value:t,modifiers:{lazy:e,trim:i,number:s}},o){if(n._assign=Fr(o),n.composing||document.activeElement===n&&n.type!=="range"&&(e||i&&n.value.trim()===t||(s||n.type==="number")&&nr(n.value)===t))return;const l=t==null?"":t;n.value!==l&&(n.value=l)}},Wh={deep:!0,created(n,t,e){n._assign=Fr(e),tr(n,"change",()=>{const i=n._modelValue,s=ts(n),o=n.checked,l=n._assign;if(vt(i)){const h=No(i,s),f=h!==-1;if(o&&!f)l(i.concat(s));else if(!o&&f){const c=[...i];c.splice(h,1),l(c)}}else if(hi(i)){const h=new Set(i);o?h.add(s):h.delete(s),l(h)}else l(g_(n,o))})},mounted:ag,beforeUpdate(n,t,e){n._assign=Fr(e),ag(n,t,e)}};function ag(n,{value:t,oldValue:e},i){n._modelValue=t,vt(t)?n.checked=No(t,i.props.value)>-1:hi(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=Rr(t,g_(n,!0)))}const zh={created(n,{value:t},e){n.checked=Rr(t,e.props.value),n._assign=Fr(e),tr(n,"change",()=>{n._assign(ts(n))})},beforeUpdate(n,{value:t,oldValue:e},i){n._assign=Fr(i),t!==e&&(n.checked=Rr(t,i.props.value))}},d_={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const s=hi(t);tr(n,"change",()=>{const o=Array.prototype.filter.call(n.options,l=>l.selected).map(l=>e?nr(ts(l)):ts(l));n._assign(n.multiple?s?new Set(o):o:o[0])}),n._assign=Fr(i)},mounted(n,{value:t}){og(n,t)},beforeUpdate(n,t,e){n._assign=Fr(e)},updated(n,{value:t}){og(n,t)}};function og(n,t){const e=n.multiple;if(!(e&&!vt(t)&&!hi(t))){for(let i=0,s=n.options.length;i<s;i++){const o=n.options[i],l=ts(o);if(e)vt(t)?o.selected=No(t,l)>-1:o.selected=t.has(l);else if(Rr(ts(o),t)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function ts(n){return"_value"in n?n._value:n.value}function g_(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const p_={created(n,t,e){ho(n,t,e,null,"created")},mounted(n,t,e){ho(n,t,e,null,"mounted")},beforeUpdate(n,t,e,i){ho(n,t,e,i,"beforeUpdate")},updated(n,t,e,i){ho(n,t,e,i,"updated")}};function __(n,t){switch(n){case"SELECT":return d_;case"TEXTAREA":return js;default:switch(t){case"checkbox":return Wh;case"radio":return zh;default:return js}}}function ho(n,t,e,i,s){const l=__(n.tagName,e.props&&e.props.type)[s];l&&l(n,t,e,i)}function Ux(){js.getSSRProps=({value:n})=>({value:n}),zh.getSSRProps=({value:n},t)=>{if(t.props&&Rr(t.props.value,n))return{checked:!0}},Wh.getSSRProps=({value:n},t)=>{if(vt(n)){if(t.props&&No(n,t.props.value)>-1)return{checked:!0}}else if(hi(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},p_.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const e=__(t.type.toUpperCase(),t.props&&t.props.type);if(e.getSSRProps)return e.getSSRProps(n,t)}}const Wx=["ctrl","shift","alt","meta"],zx={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>Wx.some(e=>n[`${e}Key`]&&!t.includes(e))},Yx=(n,t)=>(e,...i)=>{for(let s=0;s<t.length;s++){const o=zx[t[s]];if(o&&o(e,t))return}return n(e,...i)},$x={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Kx=(n,t)=>e=>{if(!("key"in e))return;const i=bn(e.key);if(t.some(s=>s===i||$x[s]===i))return n(e)},v_={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Ss(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),Ss(n,!0),i.enter(n)):i.leave(n,()=>{Ss(n,!1)}):Ss(n,t))},beforeUnmount(n,{value:t}){Ss(n,t)}};function Ss(n,t){n.style.display=t?n._vod:"none"}function Xx(){v_.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const m_=ge({patchProp:Ex},cx);let Gs,lg=!1;function y_(){return Gs||(Gs=Bp(m_))}function b_(){return Gs=lg?Gs:Hp(m_),lg=!0,Gs}const th=(...n)=>{y_().render(...n)},w_=(...n)=>{b_().hydrate(...n)},S_=(...n)=>{const t=y_().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=C_(i);if(!s)return;const o=t._component;!At(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t},qx=(...n)=>{const t=b_().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=C_(i);if(s)return e(s,!0,s instanceof SVGElement)},t};function C_(n){return he(n)?document.querySelector(n):n}let ug=!1;const Vx=()=>{ug||(ug=!0,Ux(),Xx())},jx=()=>{},Zx=Object.freeze(Object.defineProperty({__proto__:null,compile:jx,EffectScope:vh,ReactiveEffect:sa,customRef:BS,effect:oS,effectScope:iS,getCurrentScope:Kg,isProxy:wh,isReactive:ri,isReadonly:ai,isRef:me,isShallow:zs,markRaw:Sh,onScopeDispose:Xg,proxyRefs:Eh,reactive:Mr,readonly:bh,ref:Xe,shallowReactive:ap,shallowReadonly:IS,shallowRef:kS,stop:lS,toRaw:Wt,toRef:lp,toRefs:HS,triggerRef:DS,unref:Ee,camelize:Ve,capitalize:ia,normalizeClass:ea,normalizeProps:Xw,normalizeStyle:ta,toDisplayString:Ug,toHandlerKey:ks,BaseTransition:Lh,Comment:Fe,Fragment:ue,KeepAlive:gC,Static:si,Suspense:rC,Teleport:Wp,Text:li,callWithAsyncErrorHandling:ln,callWithErrorHandling:er,cloneVNode:Bn,compatUtils:hx,computed:kr,createBlock:Nn,createCommentVNode:Eo,createElementBlock:an,createElementVNode:Qo,createHydrationRenderer:Hp,createPropsRestProxy:rx,createRenderer:Bp,createSlots:yC,createStaticVNode:WC,createTextVNode:Bh,createVNode:Bt,defineAsyncComponent:cC,defineComponent:Ih,defineEmits:ZC,defineExpose:JC,defineProps:jC,get devtools(){return Gi},getCurrentInstance:sr,getTransitionRawChildren:Xo,guardReactiveProps:Xp,h:e_,handleError:fi,initCustomFormatter:sx,inject:Ki,isMemoSame:i_,isRuntimeOnly:XC,isVNode:Lr,mergeDefaults:nx,mergeProps:qp,nextTick:aa,onActivated:bp,onBeforeMount:Cp,onBeforeUnmount:jo,onBeforeUpdate:xp,onDeactivated:wp,onErrorCaptured:Pp,onMounted:ci,onRenderTracked:Ap,onRenderTriggered:Tp,onServerPrefetch:Ep,onUnmounted:Zo,onUpdated:Vo,openBlock:le,popScopeId:jS,provide:Oh,pushScopeId:VS,queuePostFlushCb:Ah,registerRuntimeCompiler:KC,renderList:qi,renderSlot:bC,resolveComponent:Er,resolveDirective:mC,resolveDynamicComponent:vC,resolveFilter:ux,resolveTransitionHooks:Ji,setBlockTracking:Xu,setDevtoolsHook:dp,setTransitionHooks:oi,ssrContextKey:n_,ssrUtils:lx,toHandlers:wC,transformVNodeArgs:HC,useAttrs:ex,useSSRContext:r_,useSlots:tx,useTransitionState:Mh,version:s_,warn:zS,watch:Xi,watchEffect:lC,watchPostEffect:vp,watchSyncEffect:uC,withAsyncContext:ix,withCtx:qs,withDefaults:QC,withDirectives:Rp,withMemo:ax,withScopeId:ZS,Transition:Uh,TransitionGroup:Fx,VueElement:el,createApp:S_,createSSRApp:qx,defineCustomElement:a_,defineSSRCustomElement:Ax,hydrate:w_,initDirectivesForSSR:Vx,render:th,useCssModule:Rx,useCssVars:Ox,vModelCheckbox:Wh,vModelDynamic:p_,vModelRadio:zh,vModelSelect:d_,vModelText:js,vShow:v_,withKeys:Kx,withModifiers:Yx},Symbol.toStringTag,{value:"Module"})),Yh=n=>+(n/100).toFixed(2),To=n=>{const{xDiff:t,yDiff:e}=x_(n);return Math.sqrt(t**2+e**2)},x_=n=>{const{config:t}=n,{points:e}=t,i=e.slice(0,2),s=e.slice(2),o=i[0]-s[0],l=i[1]-s[1];return{xDiff:o,yDiff:l}},Jx=n=>n.reduce((t,e)=>{const i=To(e);return t+i},0),Tr={RECT:"rect",T_FIGURE:"t_figure",L_FIGURE:"l_figure"};var Bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function $h(n){var t=n.default;if(typeof t=="function"){var e=function(){return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),e}var eh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,t){(function(){var e,i="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",h="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,g="__lodash_placeholder__",p=1,v=2,w=4,m=1,P=2,T=1,A=2,S=4,C=8,M=16,B=32,G=64,W=128,F=256,$=512,K=30,V="...",j=800,H=16,N=1,rt=2,Q=3,ht=1/0,dt=9007199254740991,Tt=17976931348623157e292,ot=0/0,yt=4294967295,It=yt-1,Ht=yt>>>1,ye=[["ary",W],["bind",T],["bindKey",A],["curry",C],["curryRight",M],["flip",$],["partial",B],["partialRight",G],["rearg",F]],qt="[object Arguments]",Jt="[object Array]",je="[object AsyncFunction]",ie="[object Boolean]",Me="[object Date]",Br="[object DOMException]",Sn="[object Error]",R="[object Function]",I="[object GeneratorFunction]",z="[object Map]",Z="[object Number]",tt="[object Null]",it="[object Object]",ct="[object Promise]",lt="[object Proxy]",ut="[object RegExp]",J="[object Set]",bt="[object String]",pt="[object Symbol]",wt="[object Undefined]",Ct="[object WeakMap]",kt="[object WeakSet]",zt="[object ArrayBuffer]",Nt="[object DataView]",se="[object Float32Array]",De="[object Float64Array]",Mn="[object Int8Array]",mi="[object Int16Array]",Un="[object Int32Array]",yi="[object Uint8Array]",Te="[object Uint8ClampedArray]",Ue="[object Uint16Array]",bi="[object Uint32Array]",l0=/\b__p \+= '';/g,u0=/\b(__p \+=) '' \+/g,h0=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zh=/&(?:amp|lt|gt|quot|#39);/g,Jh=/[&<>"']/g,f0=RegExp(Zh.source),c0=RegExp(Jh.source),d0=/<%-([\s\S]+?)%>/g,g0=/<%([\s\S]+?)%>/g,Qh=/<%=([\s\S]+?)%>/g,p0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_0=/^\w*$/,v0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sl=/[\\^$.*+?()[\]{}|]/g,m0=RegExp(sl.source),al=/^\s+/,y0=/\s/,b0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,w0=/\{\n\/\* \[wrapped with (.+)\] \*/,S0=/,? & /,C0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,x0=/[()=,{}\[\]\/\s]/,E0=/\\(\\)?/g,T0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tf=/\w*$/,A0=/^[-+]0x[0-9a-f]+$/i,P0=/^0b[01]+$/i,R0=/^\[object .+?Constructor\]$/,O0=/^0o[0-7]+$/i,M0=/^(?:0|[1-9]\d*)$/,L0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ca=/($^)/,I0=/['\n\r\u2028\u2029\\]/g,da="\\ud800-\\udfff",k0="\\u0300-\\u036f",F0="\\ufe20-\\ufe2f",D0="\\u20d0-\\u20ff",ef=k0+F0+D0,nf="\\u2700-\\u27bf",rf="a-z\\xdf-\\xf6\\xf8-\\xff",N0="\\xac\\xb1\\xd7\\xf7",G0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",B0="\\u2000-\\u206f",H0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",sf="A-Z\\xc0-\\xd6\\xd8-\\xde",af="\\ufe0e\\ufe0f",of=N0+G0+B0+H0,ol="['\u2019]",U0="["+da+"]",lf="["+of+"]",ga="["+ef+"]",uf="\\d+",W0="["+nf+"]",hf="["+rf+"]",ff="[^"+da+of+uf+nf+rf+sf+"]",ll="\\ud83c[\\udffb-\\udfff]",z0="(?:"+ga+"|"+ll+")",cf="[^"+da+"]",ul="(?:\\ud83c[\\udde6-\\uddff]){2}",hl="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="["+sf+"]",df="\\u200d",gf="(?:"+hf+"|"+ff+")",Y0="(?:"+wi+"|"+ff+")",pf="(?:"+ol+"(?:d|ll|m|re|s|t|ve))?",_f="(?:"+ol+"(?:D|LL|M|RE|S|T|VE))?",vf=z0+"?",mf="["+af+"]?",$0="(?:"+df+"(?:"+[cf,ul,hl].join("|")+")"+mf+vf+")*",K0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",X0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yf=mf+vf+$0,q0="(?:"+[W0,ul,hl].join("|")+")"+yf,V0="(?:"+[cf+ga+"?",ga,ul,hl,U0].join("|")+")",j0=RegExp(ol,"g"),Z0=RegExp(ga,"g"),fl=RegExp(ll+"(?="+ll+")|"+V0+yf,"g"),J0=RegExp([wi+"?"+hf+"+"+pf+"(?="+[lf,wi,"$"].join("|")+")",Y0+"+"+_f+"(?="+[lf,wi+gf,"$"].join("|")+")",wi+"?"+gf+"+"+pf,wi+"+"+_f,X0,K0,uf,q0].join("|"),"g"),Q0=RegExp("["+df+da+ef+af+"]"),tv=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ev=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nv=-1,re={};re[se]=re[De]=re[Mn]=re[mi]=re[Un]=re[yi]=re[Te]=re[Ue]=re[bi]=!0,re[qt]=re[Jt]=re[zt]=re[ie]=re[Nt]=re[Me]=re[Sn]=re[R]=re[z]=re[Z]=re[it]=re[ut]=re[J]=re[bt]=re[Ct]=!1;var ne={};ne[qt]=ne[Jt]=ne[zt]=ne[Nt]=ne[ie]=ne[Me]=ne[se]=ne[De]=ne[Mn]=ne[mi]=ne[Un]=ne[z]=ne[Z]=ne[it]=ne[ut]=ne[J]=ne[bt]=ne[pt]=ne[yi]=ne[Te]=ne[Ue]=ne[bi]=!0,ne[Sn]=ne[R]=ne[Ct]=!1;var rv={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},iv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},av={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ov=parseFloat,lv=parseInt,bf=typeof Bi=="object"&&Bi&&Bi.Object===Object&&Bi,uv=typeof self=="object"&&self&&self.Object===Object&&self,Ae=bf||uv||Function("return this")(),cl=t&&!t.nodeType&&t,Hr=cl&&!0&&n&&!n.nodeType&&n,wf=Hr&&Hr.exports===cl,dl=wf&&bf.process,fn=function(){try{var L=Hr&&Hr.require&&Hr.require("util").types;return L||dl&&dl.binding&&dl.binding("util")}catch{}}(),Sf=fn&&fn.isArrayBuffer,Cf=fn&&fn.isDate,xf=fn&&fn.isMap,Ef=fn&&fn.isRegExp,Tf=fn&&fn.isSet,Af=fn&&fn.isTypedArray;function Ze(L,Y,U){switch(U.length){case 0:return L.call(Y);case 1:return L.call(Y,U[0]);case 2:return L.call(Y,U[0],U[1]);case 3:return L.call(Y,U[0],U[1],U[2])}return L.apply(Y,U)}function hv(L,Y,U,gt){for(var Pt=-1,$t=L==null?0:L.length;++Pt<$t;){var be=L[Pt];Y(gt,be,U(be),L)}return gt}function cn(L,Y){for(var U=-1,gt=L==null?0:L.length;++U<gt&&Y(L[U],U,L)!==!1;);return L}function fv(L,Y){for(var U=L==null?0:L.length;U--&&Y(L[U],U,L)!==!1;);return L}function Pf(L,Y){for(var U=-1,gt=L==null?0:L.length;++U<gt;)if(!Y(L[U],U,L))return!1;return!0}function ur(L,Y){for(var U=-1,gt=L==null?0:L.length,Pt=0,$t=[];++U<gt;){var be=L[U];Y(be,U,L)&&($t[Pt++]=be)}return $t}function pa(L,Y){var U=L==null?0:L.length;return!!U&&Si(L,Y,0)>-1}function gl(L,Y,U){for(var gt=-1,Pt=L==null?0:L.length;++gt<Pt;)if(U(Y,L[gt]))return!0;return!1}function ae(L,Y){for(var U=-1,gt=L==null?0:L.length,Pt=Array(gt);++U<gt;)Pt[U]=Y(L[U],U,L);return Pt}function hr(L,Y){for(var U=-1,gt=Y.length,Pt=L.length;++U<gt;)L[Pt+U]=Y[U];return L}function pl(L,Y,U,gt){var Pt=-1,$t=L==null?0:L.length;for(gt&&$t&&(U=L[++Pt]);++Pt<$t;)U=Y(U,L[Pt],Pt,L);return U}function cv(L,Y,U,gt){var Pt=L==null?0:L.length;for(gt&&Pt&&(U=L[--Pt]);Pt--;)U=Y(U,L[Pt],Pt,L);return U}function _l(L,Y){for(var U=-1,gt=L==null?0:L.length;++U<gt;)if(Y(L[U],U,L))return!0;return!1}var dv=vl("length");function gv(L){return L.split("")}function pv(L){return L.match(C0)||[]}function Rf(L,Y,U){var gt;return U(L,function(Pt,$t,be){if(Y(Pt,$t,be))return gt=$t,!1}),gt}function _a(L,Y,U,gt){for(var Pt=L.length,$t=U+(gt?1:-1);gt?$t--:++$t<Pt;)if(Y(L[$t],$t,L))return $t;return-1}function Si(L,Y,U){return Y===Y?Av(L,Y,U):_a(L,Of,U)}function _v(L,Y,U,gt){for(var Pt=U-1,$t=L.length;++Pt<$t;)if(gt(L[Pt],Y))return Pt;return-1}function Of(L){return L!==L}function Mf(L,Y){var U=L==null?0:L.length;return U?yl(L,Y)/U:ot}function vl(L){return function(Y){return Y==null?e:Y[L]}}function ml(L){return function(Y){return L==null?e:L[Y]}}function Lf(L,Y,U,gt,Pt){return Pt(L,function($t,be,Qt){U=gt?(gt=!1,$t):Y(U,$t,be,Qt)}),U}function vv(L,Y){var U=L.length;for(L.sort(Y);U--;)L[U]=L[U].value;return L}function yl(L,Y){for(var U,gt=-1,Pt=L.length;++gt<Pt;){var $t=Y(L[gt]);$t!==e&&(U=U===e?$t:U+$t)}return U}function bl(L,Y){for(var U=-1,gt=Array(L);++U<L;)gt[U]=Y(U);return gt}function mv(L,Y){return ae(Y,function(U){return[U,L[U]]})}function If(L){return L&&L.slice(0,Nf(L)+1).replace(al,"")}function Je(L){return function(Y){return L(Y)}}function wl(L,Y){return ae(Y,function(U){return L[U]})}function as(L,Y){return L.has(Y)}function kf(L,Y){for(var U=-1,gt=L.length;++U<gt&&Si(Y,L[U],0)>-1;);return U}function Ff(L,Y){for(var U=L.length;U--&&Si(Y,L[U],0)>-1;);return U}function yv(L,Y){for(var U=L.length,gt=0;U--;)L[U]===Y&&++gt;return gt}var bv=ml(rv),wv=ml(iv);function Sv(L){return"\\"+av[L]}function Cv(L,Y){return L==null?e:L[Y]}function Ci(L){return Q0.test(L)}function xv(L){return tv.test(L)}function Ev(L){for(var Y,U=[];!(Y=L.next()).done;)U.push(Y.value);return U}function Sl(L){var Y=-1,U=Array(L.size);return L.forEach(function(gt,Pt){U[++Y]=[Pt,gt]}),U}function Df(L,Y){return function(U){return L(Y(U))}}function fr(L,Y){for(var U=-1,gt=L.length,Pt=0,$t=[];++U<gt;){var be=L[U];(be===Y||be===g)&&(L[U]=g,$t[Pt++]=U)}return $t}function va(L){var Y=-1,U=Array(L.size);return L.forEach(function(gt){U[++Y]=gt}),U}function Tv(L){var Y=-1,U=Array(L.size);return L.forEach(function(gt){U[++Y]=[gt,gt]}),U}function Av(L,Y,U){for(var gt=U-1,Pt=L.length;++gt<Pt;)if(L[gt]===Y)return gt;return-1}function Pv(L,Y,U){for(var gt=U+1;gt--;)if(L[gt]===Y)return gt;return gt}function xi(L){return Ci(L)?Ov(L):dv(L)}function Cn(L){return Ci(L)?Mv(L):gv(L)}function Nf(L){for(var Y=L.length;Y--&&y0.test(L.charAt(Y)););return Y}var Rv=ml(sv);function Ov(L){for(var Y=fl.lastIndex=0;fl.test(L);)++Y;return Y}function Mv(L){return L.match(fl)||[]}function Lv(L){return L.match(J0)||[]}var Iv=function L(Y){Y=Y==null?Ae:Ei.defaults(Ae.Object(),Y,Ei.pick(Ae,ev));var U=Y.Array,gt=Y.Date,Pt=Y.Error,$t=Y.Function,be=Y.Math,Qt=Y.Object,Cl=Y.RegExp,kv=Y.String,dn=Y.TypeError,ma=U.prototype,Fv=$t.prototype,Ti=Qt.prototype,ya=Y["__core-js_shared__"],ba=Fv.toString,Vt=Ti.hasOwnProperty,Dv=0,Gf=function(){var r=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),wa=Ti.toString,Nv=ba.call(Qt),Gv=Ae._,Bv=Cl("^"+ba.call(Vt).replace(sl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sa=wf?Y.Buffer:e,cr=Y.Symbol,Ca=Y.Uint8Array,Bf=Sa?Sa.allocUnsafe:e,xa=Df(Qt.getPrototypeOf,Qt),Hf=Qt.create,Uf=Ti.propertyIsEnumerable,Ea=ma.splice,Wf=cr?cr.isConcatSpreadable:e,os=cr?cr.iterator:e,Ur=cr?cr.toStringTag:e,Ta=function(){try{var r=Kr(Qt,"defineProperty");return r({},"",{}),r}catch{}}(),Hv=Y.clearTimeout!==Ae.clearTimeout&&Y.clearTimeout,Uv=gt&&gt.now!==Ae.Date.now&&gt.now,Wv=Y.setTimeout!==Ae.setTimeout&&Y.setTimeout,Aa=be.ceil,Pa=be.floor,xl=Qt.getOwnPropertySymbols,zv=Sa?Sa.isBuffer:e,zf=Y.isFinite,Yv=ma.join,$v=Df(Qt.keys,Qt),we=be.max,Le=be.min,Kv=gt.now,Xv=Y.parseInt,Yf=be.random,qv=ma.reverse,El=Kr(Y,"DataView"),ls=Kr(Y,"Map"),Tl=Kr(Y,"Promise"),Ai=Kr(Y,"Set"),us=Kr(Y,"WeakMap"),hs=Kr(Qt,"create"),Ra=us&&new us,Pi={},Vv=Xr(El),jv=Xr(ls),Zv=Xr(Tl),Jv=Xr(Ai),Qv=Xr(us),Oa=cr?cr.prototype:e,fs=Oa?Oa.valueOf:e,$f=Oa?Oa.toString:e;function y(r){if(de(r)&&!Rt(r)&&!(r instanceof Dt)){if(r instanceof gn)return r;if(Vt.call(r,"__wrapped__"))return Kc(r)}return new gn(r)}var Ri=function(){function r(){}return function(a){if(!oe(a))return{};if(Hf)return Hf(a);r.prototype=a;var u=new r;return r.prototype=e,u}}();function Ma(){}function gn(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}y.templateSettings={escape:d0,evaluate:g0,interpolate:Qh,variable:"",imports:{_:y}},y.prototype=Ma.prototype,y.prototype.constructor=y,gn.prototype=Ri(Ma.prototype),gn.prototype.constructor=gn;function Dt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=yt,this.__views__=[]}function tm(){var r=new Dt(this.__wrapped__);return r.__actions__=We(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=We(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=We(this.__views__),r}function em(){if(this.__filtered__){var r=new Dt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function nm(){var r=this.__wrapped__.value(),a=this.__dir__,u=Rt(r),d=a<0,_=u?r.length:0,b=g1(0,_,this.__views__),x=b.start,O=b.end,k=O-x,X=d?O:x-1,q=this.__iteratees__,et=q.length,ft=0,mt=Le(k,this.__takeCount__);if(!u||!d&&_==k&&mt==k)return pc(r,this.__actions__);var xt=[];t:for(;k--&&ft<mt;){X+=a;for(var Mt=-1,Et=r[X];++Mt<et;){var Ft=q[Mt],Gt=Ft.iteratee,en=Ft.type,Be=Gt(Et);if(en==rt)Et=Be;else if(!Be){if(en==N)continue t;break t}}xt[ft++]=Et}return xt}Dt.prototype=Ri(Ma.prototype),Dt.prototype.constructor=Dt;function Wr(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var d=r[a];this.set(d[0],d[1])}}function rm(){this.__data__=hs?hs(null):{},this.size=0}function im(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function sm(r){var a=this.__data__;if(hs){var u=a[r];return u===f?e:u}return Vt.call(a,r)?a[r]:e}function am(r){var a=this.__data__;return hs?a[r]!==e:Vt.call(a,r)}function om(r,a){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=hs&&a===e?f:a,this}Wr.prototype.clear=rm,Wr.prototype.delete=im,Wr.prototype.get=sm,Wr.prototype.has=am,Wr.prototype.set=om;function Wn(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var d=r[a];this.set(d[0],d[1])}}function lm(){this.__data__=[],this.size=0}function um(r){var a=this.__data__,u=La(a,r);if(u<0)return!1;var d=a.length-1;return u==d?a.pop():Ea.call(a,u,1),--this.size,!0}function hm(r){var a=this.__data__,u=La(a,r);return u<0?e:a[u][1]}function fm(r){return La(this.__data__,r)>-1}function cm(r,a){var u=this.__data__,d=La(u,r);return d<0?(++this.size,u.push([r,a])):u[d][1]=a,this}Wn.prototype.clear=lm,Wn.prototype.delete=um,Wn.prototype.get=hm,Wn.prototype.has=fm,Wn.prototype.set=cm;function zn(r){var a=-1,u=r==null?0:r.length;for(this.clear();++a<u;){var d=r[a];this.set(d[0],d[1])}}function dm(){this.size=0,this.__data__={hash:new Wr,map:new(ls||Wn),string:new Wr}}function gm(r){var a=Ya(this,r).delete(r);return this.size-=a?1:0,a}function pm(r){return Ya(this,r).get(r)}function _m(r){return Ya(this,r).has(r)}function vm(r,a){var u=Ya(this,r),d=u.size;return u.set(r,a),this.size+=u.size==d?0:1,this}zn.prototype.clear=dm,zn.prototype.delete=gm,zn.prototype.get=pm,zn.prototype.has=_m,zn.prototype.set=vm;function zr(r){var a=-1,u=r==null?0:r.length;for(this.__data__=new zn;++a<u;)this.add(r[a])}function mm(r){return this.__data__.set(r,f),this}function ym(r){return this.__data__.has(r)}zr.prototype.add=zr.prototype.push=mm,zr.prototype.has=ym;function xn(r){var a=this.__data__=new Wn(r);this.size=a.size}function bm(){this.__data__=new Wn,this.size=0}function wm(r){var a=this.__data__,u=a.delete(r);return this.size=a.size,u}function Sm(r){return this.__data__.get(r)}function Cm(r){return this.__data__.has(r)}function xm(r,a){var u=this.__data__;if(u instanceof Wn){var d=u.__data__;if(!ls||d.length<s-1)return d.push([r,a]),this.size=++u.size,this;u=this.__data__=new zn(d)}return u.set(r,a),this.size=u.size,this}xn.prototype.clear=bm,xn.prototype.delete=wm,xn.prototype.get=Sm,xn.prototype.has=Cm,xn.prototype.set=xm;function Kf(r,a){var u=Rt(r),d=!u&&qr(r),_=!u&&!d&&vr(r),b=!u&&!d&&!_&&Ii(r),x=u||d||_||b,O=x?bl(r.length,kv):[],k=O.length;for(var X in r)(a||Vt.call(r,X))&&!(x&&(X=="length"||_&&(X=="offset"||X=="parent")||b&&(X=="buffer"||X=="byteLength"||X=="byteOffset")||Xn(X,k)))&&O.push(X);return O}function Xf(r){var a=r.length;return a?r[Nl(0,a-1)]:e}function Em(r,a){return $a(We(r),Yr(a,0,r.length))}function Tm(r){return $a(We(r))}function Al(r,a,u){(u!==e&&!En(r[a],u)||u===e&&!(a in r))&&Yn(r,a,u)}function cs(r,a,u){var d=r[a];(!(Vt.call(r,a)&&En(d,u))||u===e&&!(a in r))&&Yn(r,a,u)}function La(r,a){for(var u=r.length;u--;)if(En(r[u][0],a))return u;return-1}function Am(r,a,u,d){return dr(r,function(_,b,x){a(d,_,u(_),x)}),d}function qf(r,a){return r&&In(a,xe(a),r)}function Pm(r,a){return r&&In(a,Ye(a),r)}function Yn(r,a,u){a=="__proto__"&&Ta?Ta(r,a,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[a]=u}function Pl(r,a){for(var u=-1,d=a.length,_=U(d),b=r==null;++u<d;)_[u]=b?e:lu(r,a[u]);return _}function Yr(r,a,u){return r===r&&(u!==e&&(r=r<=u?r:u),a!==e&&(r=r>=a?r:a)),r}function pn(r,a,u,d,_,b){var x,O=a&p,k=a&v,X=a&w;if(u&&(x=_?u(r,d,_,b):u(r)),x!==e)return x;if(!oe(r))return r;var q=Rt(r);if(q){if(x=_1(r),!O)return We(r,x)}else{var et=Ie(r),ft=et==R||et==I;if(vr(r))return mc(r,O);if(et==it||et==qt||ft&&!_){if(x=k||ft?{}:Nc(r),!O)return k?s1(r,Pm(x,r)):i1(r,qf(x,r))}else{if(!ne[et])return _?r:{};x=v1(r,et,O)}}b||(b=new xn);var mt=b.get(r);if(mt)return mt;b.set(r,x),cd(r)?r.forEach(function(Et){x.add(pn(Et,a,u,Et,r,b))}):hd(r)&&r.forEach(function(Et,Ft){x.set(Ft,pn(Et,a,u,Ft,r,b))});var xt=X?k?ql:Xl:k?Ye:xe,Mt=q?e:xt(r);return cn(Mt||r,function(Et,Ft){Mt&&(Ft=Et,Et=r[Ft]),cs(x,Ft,pn(Et,a,u,Ft,r,b))}),x}function Rm(r){var a=xe(r);return function(u){return Vf(u,r,a)}}function Vf(r,a,u){var d=u.length;if(r==null)return!d;for(r=Qt(r);d--;){var _=u[d],b=a[_],x=r[_];if(x===e&&!(_ in r)||!b(x))return!1}return!0}function jf(r,a,u){if(typeof r!="function")throw new dn(l);return ys(function(){r.apply(e,u)},a)}function ds(r,a,u,d){var _=-1,b=pa,x=!0,O=r.length,k=[],X=a.length;if(!O)return k;u&&(a=ae(a,Je(u))),d?(b=gl,x=!1):a.length>=s&&(b=as,x=!1,a=new zr(a));t:for(;++_<O;){var q=r[_],et=u==null?q:u(q);if(q=d||q!==0?q:0,x&&et===et){for(var ft=X;ft--;)if(a[ft]===et)continue t;k.push(q)}else b(a,et,d)||k.push(q)}return k}var dr=Cc(Ln),Zf=Cc(Ol,!0);function Om(r,a){var u=!0;return dr(r,function(d,_,b){return u=!!a(d,_,b),u}),u}function Ia(r,a,u){for(var d=-1,_=r.length;++d<_;){var b=r[d],x=a(b);if(x!=null&&(O===e?x===x&&!tn(x):u(x,O)))var O=x,k=b}return k}function Mm(r,a,u,d){var _=r.length;for(u=Ot(u),u<0&&(u=-u>_?0:_+u),d=d===e||d>_?_:Ot(d),d<0&&(d+=_),d=u>d?0:gd(d);u<d;)r[u++]=a;return r}function Jf(r,a){var u=[];return dr(r,function(d,_,b){a(d,_,b)&&u.push(d)}),u}function Pe(r,a,u,d,_){var b=-1,x=r.length;for(u||(u=y1),_||(_=[]);++b<x;){var O=r[b];a>0&&u(O)?a>1?Pe(O,a-1,u,d,_):hr(_,O):d||(_[_.length]=O)}return _}var Rl=xc(),Qf=xc(!0);function Ln(r,a){return r&&Rl(r,a,xe)}function Ol(r,a){return r&&Qf(r,a,xe)}function ka(r,a){return ur(a,function(u){return qn(r[u])})}function $r(r,a){a=pr(a,r);for(var u=0,d=a.length;r!=null&&u<d;)r=r[kn(a[u++])];return u&&u==d?r:e}function tc(r,a,u){var d=a(r);return Rt(r)?d:hr(d,u(r))}function Ne(r){return r==null?r===e?wt:tt:Ur&&Ur in Qt(r)?d1(r):T1(r)}function Ml(r,a){return r>a}function Lm(r,a){return r!=null&&Vt.call(r,a)}function Im(r,a){return r!=null&&a in Qt(r)}function km(r,a,u){return r>=Le(a,u)&&r<we(a,u)}function Ll(r,a,u){for(var d=u?gl:pa,_=r[0].length,b=r.length,x=b,O=U(b),k=1/0,X=[];x--;){var q=r[x];x&&a&&(q=ae(q,Je(a))),k=Le(q.length,k),O[x]=!u&&(a||_>=120&&q.length>=120)?new zr(x&&q):e}q=r[0];var et=-1,ft=O[0];t:for(;++et<_&&X.length<k;){var mt=q[et],xt=a?a(mt):mt;if(mt=u||mt!==0?mt:0,!(ft?as(ft,xt):d(X,xt,u))){for(x=b;--x;){var Mt=O[x];if(!(Mt?as(Mt,xt):d(r[x],xt,u)))continue t}ft&&ft.push(xt),X.push(mt)}}return X}function Fm(r,a,u,d){return Ln(r,function(_,b,x){a(d,u(_),b,x)}),d}function gs(r,a,u){a=pr(a,r),r=Uc(r,a);var d=r==null?r:r[kn(vn(a))];return d==null?e:Ze(d,r,u)}function ec(r){return de(r)&&Ne(r)==qt}function Dm(r){return de(r)&&Ne(r)==zt}function Nm(r){return de(r)&&Ne(r)==Me}function ps(r,a,u,d,_){return r===a?!0:r==null||a==null||!de(r)&&!de(a)?r!==r&&a!==a:Gm(r,a,u,d,ps,_)}function Gm(r,a,u,d,_,b){var x=Rt(r),O=Rt(a),k=x?Jt:Ie(r),X=O?Jt:Ie(a);k=k==qt?it:k,X=X==qt?it:X;var q=k==it,et=X==it,ft=k==X;if(ft&&vr(r)){if(!vr(a))return!1;x=!0,q=!1}if(ft&&!q)return b||(b=new xn),x||Ii(r)?kc(r,a,u,d,_,b):f1(r,a,k,u,d,_,b);if(!(u&m)){var mt=q&&Vt.call(r,"__wrapped__"),xt=et&&Vt.call(a,"__wrapped__");if(mt||xt){var Mt=mt?r.value():r,Et=xt?a.value():a;return b||(b=new xn),_(Mt,Et,u,d,b)}}return ft?(b||(b=new xn),c1(r,a,u,d,_,b)):!1}function Bm(r){return de(r)&&Ie(r)==z}function Il(r,a,u,d){var _=u.length,b=_,x=!d;if(r==null)return!b;for(r=Qt(r);_--;){var O=u[_];if(x&&O[2]?O[1]!==r[O[0]]:!(O[0]in r))return!1}for(;++_<b;){O=u[_];var k=O[0],X=r[k],q=O[1];if(x&&O[2]){if(X===e&&!(k in r))return!1}else{var et=new xn;if(d)var ft=d(X,q,k,r,a,et);if(!(ft===e?ps(q,X,m|P,d,et):ft))return!1}}return!0}function nc(r){if(!oe(r)||w1(r))return!1;var a=qn(r)?Bv:R0;return a.test(Xr(r))}function Hm(r){return de(r)&&Ne(r)==ut}function Um(r){return de(r)&&Ie(r)==J}function Wm(r){return de(r)&&Za(r.length)&&!!re[Ne(r)]}function rc(r){return typeof r=="function"?r:r==null?$e:typeof r=="object"?Rt(r)?ac(r[0],r[1]):sc(r):Ed(r)}function kl(r){if(!ms(r))return $v(r);var a=[];for(var u in Qt(r))Vt.call(r,u)&&u!="constructor"&&a.push(u);return a}function zm(r){if(!oe(r))return E1(r);var a=ms(r),u=[];for(var d in r)d=="constructor"&&(a||!Vt.call(r,d))||u.push(d);return u}function Fl(r,a){return r<a}function ic(r,a){var u=-1,d=ze(r)?U(r.length):[];return dr(r,function(_,b,x){d[++u]=a(_,b,x)}),d}function sc(r){var a=jl(r);return a.length==1&&a[0][2]?Bc(a[0][0],a[0][1]):function(u){return u===r||Il(u,r,a)}}function ac(r,a){return Jl(r)&&Gc(a)?Bc(kn(r),a):function(u){var d=lu(u,r);return d===e&&d===a?uu(u,r):ps(a,d,m|P)}}function Fa(r,a,u,d,_){r!==a&&Rl(a,function(b,x){if(_||(_=new xn),oe(b))Ym(r,a,x,u,Fa,d,_);else{var O=d?d(tu(r,x),b,x+"",r,a,_):e;O===e&&(O=b),Al(r,x,O)}},Ye)}function Ym(r,a,u,d,_,b,x){var O=tu(r,u),k=tu(a,u),X=x.get(k);if(X){Al(r,u,X);return}var q=b?b(O,k,u+"",r,a,x):e,et=q===e;if(et){var ft=Rt(k),mt=!ft&&vr(k),xt=!ft&&!mt&&Ii(k);q=k,ft||mt||xt?Rt(O)?q=O:pe(O)?q=We(O):mt?(et=!1,q=mc(k,!0)):xt?(et=!1,q=yc(k,!0)):q=[]:bs(k)||qr(k)?(q=O,qr(O)?q=pd(O):(!oe(O)||qn(O))&&(q=Nc(k))):et=!1}et&&(x.set(k,q),_(q,k,d,b,x),x.delete(k)),Al(r,u,q)}function oc(r,a){var u=r.length;if(!!u)return a+=a<0?u:0,Xn(a,u)?r[a]:e}function lc(r,a,u){a.length?a=ae(a,function(b){return Rt(b)?function(x){return $r(x,b.length===1?b[0]:b)}:b}):a=[$e];var d=-1;a=ae(a,Je(St()));var _=ic(r,function(b,x,O){var k=ae(a,function(X){return X(b)});return{criteria:k,index:++d,value:b}});return vv(_,function(b,x){return r1(b,x,u)})}function $m(r,a){return uc(r,a,function(u,d){return uu(r,d)})}function uc(r,a,u){for(var d=-1,_=a.length,b={};++d<_;){var x=a[d],O=$r(r,x);u(O,x)&&_s(b,pr(x,r),O)}return b}function Km(r){return function(a){return $r(a,r)}}function Dl(r,a,u,d){var _=d?_v:Si,b=-1,x=a.length,O=r;for(r===a&&(a=We(a)),u&&(O=ae(r,Je(u)));++b<x;)for(var k=0,X=a[b],q=u?u(X):X;(k=_(O,q,k,d))>-1;)O!==r&&Ea.call(O,k,1),Ea.call(r,k,1);return r}function hc(r,a){for(var u=r?a.length:0,d=u-1;u--;){var _=a[u];if(u==d||_!==b){var b=_;Xn(_)?Ea.call(r,_,1):Hl(r,_)}}return r}function Nl(r,a){return r+Pa(Yf()*(a-r+1))}function Xm(r,a,u,d){for(var _=-1,b=we(Aa((a-r)/(u||1)),0),x=U(b);b--;)x[d?b:++_]=r,r+=u;return x}function Gl(r,a){var u="";if(!r||a<1||a>dt)return u;do a%2&&(u+=r),a=Pa(a/2),a&&(r+=r);while(a);return u}function Lt(r,a){return eu(Hc(r,a,$e),r+"")}function qm(r){return Xf(ki(r))}function Vm(r,a){var u=ki(r);return $a(u,Yr(a,0,u.length))}function _s(r,a,u,d){if(!oe(r))return r;a=pr(a,r);for(var _=-1,b=a.length,x=b-1,O=r;O!=null&&++_<b;){var k=kn(a[_]),X=u;if(k==="__proto__"||k==="constructor"||k==="prototype")return r;if(_!=x){var q=O[k];X=d?d(q,k,O):e,X===e&&(X=oe(q)?q:Xn(a[_+1])?[]:{})}cs(O,k,X),O=O[k]}return r}var fc=Ra?function(r,a){return Ra.set(r,a),r}:$e,jm=Ta?function(r,a){return Ta(r,"toString",{configurable:!0,enumerable:!1,value:fu(a),writable:!0})}:$e;function Zm(r){return $a(ki(r))}function _n(r,a,u){var d=-1,_=r.length;a<0&&(a=-a>_?0:_+a),u=u>_?_:u,u<0&&(u+=_),_=a>u?0:u-a>>>0,a>>>=0;for(var b=U(_);++d<_;)b[d]=r[d+a];return b}function Jm(r,a){var u;return dr(r,function(d,_,b){return u=a(d,_,b),!u}),!!u}function Da(r,a,u){var d=0,_=r==null?d:r.length;if(typeof a=="number"&&a===a&&_<=Ht){for(;d<_;){var b=d+_>>>1,x=r[b];x!==null&&!tn(x)&&(u?x<=a:x<a)?d=b+1:_=b}return _}return Bl(r,a,$e,u)}function Bl(r,a,u,d){var _=0,b=r==null?0:r.length;if(b===0)return 0;a=u(a);for(var x=a!==a,O=a===null,k=tn(a),X=a===e;_<b;){var q=Pa((_+b)/2),et=u(r[q]),ft=et!==e,mt=et===null,xt=et===et,Mt=tn(et);if(x)var Et=d||xt;else X?Et=xt&&(d||ft):O?Et=xt&&ft&&(d||!mt):k?Et=xt&&ft&&!mt&&(d||!Mt):mt||Mt?Et=!1:Et=d?et<=a:et<a;Et?_=q+1:b=q}return Le(b,It)}function cc(r,a){for(var u=-1,d=r.length,_=0,b=[];++u<d;){var x=r[u],O=a?a(x):x;if(!u||!En(O,k)){var k=O;b[_++]=x===0?0:x}}return b}function dc(r){return typeof r=="number"?r:tn(r)?ot:+r}function Qe(r){if(typeof r=="string")return r;if(Rt(r))return ae(r,Qe)+"";if(tn(r))return $f?$f.call(r):"";var a=r+"";return a=="0"&&1/r==-ht?"-0":a}function gr(r,a,u){var d=-1,_=pa,b=r.length,x=!0,O=[],k=O;if(u)x=!1,_=gl;else if(b>=s){var X=a?null:u1(r);if(X)return va(X);x=!1,_=as,k=new zr}else k=a?[]:O;t:for(;++d<b;){var q=r[d],et=a?a(q):q;if(q=u||q!==0?q:0,x&&et===et){for(var ft=k.length;ft--;)if(k[ft]===et)continue t;a&&k.push(et),O.push(q)}else _(k,et,u)||(k!==O&&k.push(et),O.push(q))}return O}function Hl(r,a){return a=pr(a,r),r=Uc(r,a),r==null||delete r[kn(vn(a))]}function gc(r,a,u,d){return _s(r,a,u($r(r,a)),d)}function Na(r,a,u,d){for(var _=r.length,b=d?_:-1;(d?b--:++b<_)&&a(r[b],b,r););return u?_n(r,d?0:b,d?b+1:_):_n(r,d?b+1:0,d?_:b)}function pc(r,a){var u=r;return u instanceof Dt&&(u=u.value()),pl(a,function(d,_){return _.func.apply(_.thisArg,hr([d],_.args))},u)}function Ul(r,a,u){var d=r.length;if(d<2)return d?gr(r[0]):[];for(var _=-1,b=U(d);++_<d;)for(var x=r[_],O=-1;++O<d;)O!=_&&(b[_]=ds(b[_]||x,r[O],a,u));return gr(Pe(b,1),a,u)}function _c(r,a,u){for(var d=-1,_=r.length,b=a.length,x={};++d<_;){var O=d<b?a[d]:e;u(x,r[d],O)}return x}function Wl(r){return pe(r)?r:[]}function zl(r){return typeof r=="function"?r:$e}function pr(r,a){return Rt(r)?r:Jl(r,a)?[r]:$c(Kt(r))}var Qm=Lt;function _r(r,a,u){var d=r.length;return u=u===e?d:u,!a&&u>=d?r:_n(r,a,u)}var vc=Hv||function(r){return Ae.clearTimeout(r)};function mc(r,a){if(a)return r.slice();var u=r.length,d=Bf?Bf(u):new r.constructor(u);return r.copy(d),d}function Yl(r){var a=new r.constructor(r.byteLength);return new Ca(a).set(new Ca(r)),a}function t1(r,a){var u=a?Yl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function e1(r){var a=new r.constructor(r.source,tf.exec(r));return a.lastIndex=r.lastIndex,a}function n1(r){return fs?Qt(fs.call(r)):{}}function yc(r,a){var u=a?Yl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function bc(r,a){if(r!==a){var u=r!==e,d=r===null,_=r===r,b=tn(r),x=a!==e,O=a===null,k=a===a,X=tn(a);if(!O&&!X&&!b&&r>a||b&&x&&k&&!O&&!X||d&&x&&k||!u&&k||!_)return 1;if(!d&&!b&&!X&&r<a||X&&u&&_&&!d&&!b||O&&u&&_||!x&&_||!k)return-1}return 0}function r1(r,a,u){for(var d=-1,_=r.criteria,b=a.criteria,x=_.length,O=u.length;++d<x;){var k=bc(_[d],b[d]);if(k){if(d>=O)return k;var X=u[d];return k*(X=="desc"?-1:1)}}return r.index-a.index}function wc(r,a,u,d){for(var _=-1,b=r.length,x=u.length,O=-1,k=a.length,X=we(b-x,0),q=U(k+X),et=!d;++O<k;)q[O]=a[O];for(;++_<x;)(et||_<b)&&(q[u[_]]=r[_]);for(;X--;)q[O++]=r[_++];return q}function Sc(r,a,u,d){for(var _=-1,b=r.length,x=-1,O=u.length,k=-1,X=a.length,q=we(b-O,0),et=U(q+X),ft=!d;++_<q;)et[_]=r[_];for(var mt=_;++k<X;)et[mt+k]=a[k];for(;++x<O;)(ft||_<b)&&(et[mt+u[x]]=r[_++]);return et}function We(r,a){var u=-1,d=r.length;for(a||(a=U(d));++u<d;)a[u]=r[u];return a}function In(r,a,u,d){var _=!u;u||(u={});for(var b=-1,x=a.length;++b<x;){var O=a[b],k=d?d(u[O],r[O],O,u,r):e;k===e&&(k=r[O]),_?Yn(u,O,k):cs(u,O,k)}return u}function i1(r,a){return In(r,Zl(r),a)}function s1(r,a){return In(r,Fc(r),a)}function Ga(r,a){return function(u,d){var _=Rt(u)?hv:Am,b=a?a():{};return _(u,r,St(d,2),b)}}function Oi(r){return Lt(function(a,u){var d=-1,_=u.length,b=_>1?u[_-1]:e,x=_>2?u[2]:e;for(b=r.length>3&&typeof b=="function"?(_--,b):e,x&&Ge(u[0],u[1],x)&&(b=_<3?e:b,_=1),a=Qt(a);++d<_;){var O=u[d];O&&r(a,O,d,b)}return a})}function Cc(r,a){return function(u,d){if(u==null)return u;if(!ze(u))return r(u,d);for(var _=u.length,b=a?_:-1,x=Qt(u);(a?b--:++b<_)&&d(x[b],b,x)!==!1;);return u}}function xc(r){return function(a,u,d){for(var _=-1,b=Qt(a),x=d(a),O=x.length;O--;){var k=x[r?O:++_];if(u(b[k],k,b)===!1)break}return a}}function a1(r,a,u){var d=a&T,_=vs(r);function b(){var x=this&&this!==Ae&&this instanceof b?_:r;return x.apply(d?u:this,arguments)}return b}function Ec(r){return function(a){a=Kt(a);var u=Ci(a)?Cn(a):e,d=u?u[0]:a.charAt(0),_=u?_r(u,1).join(""):a.slice(1);return d[r]()+_}}function Mi(r){return function(a){return pl(Cd(Sd(a).replace(j0,"")),r,"")}}function vs(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var u=Ri(r.prototype),d=r.apply(u,a);return oe(d)?d:u}}function o1(r,a,u){var d=vs(r);function _(){for(var b=arguments.length,x=U(b),O=b,k=Li(_);O--;)x[O]=arguments[O];var X=b<3&&x[0]!==k&&x[b-1]!==k?[]:fr(x,k);if(b-=X.length,b<u)return Oc(r,a,Ba,_.placeholder,e,x,X,e,e,u-b);var q=this&&this!==Ae&&this instanceof _?d:r;return Ze(q,this,x)}return _}function Tc(r){return function(a,u,d){var _=Qt(a);if(!ze(a)){var b=St(u,3);a=xe(a),u=function(O){return b(_[O],O,_)}}var x=r(a,u,d);return x>-1?_[b?a[x]:x]:e}}function Ac(r){return Kn(function(a){var u=a.length,d=u,_=gn.prototype.thru;for(r&&a.reverse();d--;){var b=a[d];if(typeof b!="function")throw new dn(l);if(_&&!x&&za(b)=="wrapper")var x=new gn([],!0)}for(d=x?d:u;++d<u;){b=a[d];var O=za(b),k=O=="wrapper"?Vl(b):e;k&&Ql(k[0])&&k[1]==(W|C|B|F)&&!k[4].length&&k[9]==1?x=x[za(k[0])].apply(x,k[3]):x=b.length==1&&Ql(b)?x[O]():x.thru(b)}return function(){var X=arguments,q=X[0];if(x&&X.length==1&&Rt(q))return x.plant(q).value();for(var et=0,ft=u?a[et].apply(this,X):q;++et<u;)ft=a[et].call(this,ft);return ft}})}function Ba(r,a,u,d,_,b,x,O,k,X){var q=a&W,et=a&T,ft=a&A,mt=a&(C|M),xt=a&$,Mt=ft?e:vs(r);function Et(){for(var Ft=arguments.length,Gt=U(Ft),en=Ft;en--;)Gt[en]=arguments[en];if(mt)var Be=Li(Et),nn=yv(Gt,Be);if(d&&(Gt=wc(Gt,d,_,mt)),b&&(Gt=Sc(Gt,b,x,mt)),Ft-=nn,mt&&Ft<X){var _e=fr(Gt,Be);return Oc(r,a,Ba,Et.placeholder,u,Gt,_e,O,k,X-Ft)}var Tn=et?u:this,jn=ft?Tn[r]:r;return Ft=Gt.length,O?Gt=A1(Gt,O):xt&&Ft>1&&Gt.reverse(),q&&k<Ft&&(Gt.length=k),this&&this!==Ae&&this instanceof Et&&(jn=Mt||vs(jn)),jn.apply(Tn,Gt)}return Et}function Pc(r,a){return function(u,d){return Fm(u,r,a(d),{})}}function Ha(r,a){return function(u,d){var _;if(u===e&&d===e)return a;if(u!==e&&(_=u),d!==e){if(_===e)return d;typeof u=="string"||typeof d=="string"?(u=Qe(u),d=Qe(d)):(u=dc(u),d=dc(d)),_=r(u,d)}return _}}function $l(r){return Kn(function(a){return a=ae(a,Je(St())),Lt(function(u){var d=this;return r(a,function(_){return Ze(_,d,u)})})})}function Ua(r,a){a=a===e?" ":Qe(a);var u=a.length;if(u<2)return u?Gl(a,r):a;var d=Gl(a,Aa(r/xi(a)));return Ci(a)?_r(Cn(d),0,r).join(""):d.slice(0,r)}function l1(r,a,u,d){var _=a&T,b=vs(r);function x(){for(var O=-1,k=arguments.length,X=-1,q=d.length,et=U(q+k),ft=this&&this!==Ae&&this instanceof x?b:r;++X<q;)et[X]=d[X];for(;k--;)et[X++]=arguments[++O];return Ze(ft,_?u:this,et)}return x}function Rc(r){return function(a,u,d){return d&&typeof d!="number"&&Ge(a,u,d)&&(u=d=e),a=Vn(a),u===e?(u=a,a=0):u=Vn(u),d=d===e?a<u?1:-1:Vn(d),Xm(a,u,d,r)}}function Wa(r){return function(a,u){return typeof a=="string"&&typeof u=="string"||(a=mn(a),u=mn(u)),r(a,u)}}function Oc(r,a,u,d,_,b,x,O,k,X){var q=a&C,et=q?x:e,ft=q?e:x,mt=q?b:e,xt=q?e:b;a|=q?B:G,a&=~(q?G:B),a&S||(a&=~(T|A));var Mt=[r,a,_,mt,et,xt,ft,O,k,X],Et=u.apply(e,Mt);return Ql(r)&&Wc(Et,Mt),Et.placeholder=d,zc(Et,r,a)}function Kl(r){var a=be[r];return function(u,d){if(u=mn(u),d=d==null?0:Le(Ot(d),292),d&&zf(u)){var _=(Kt(u)+"e").split("e"),b=a(_[0]+"e"+(+_[1]+d));return _=(Kt(b)+"e").split("e"),+(_[0]+"e"+(+_[1]-d))}return a(u)}}var u1=Ai&&1/va(new Ai([,-0]))[1]==ht?function(r){return new Ai(r)}:gu;function Mc(r){return function(a){var u=Ie(a);return u==z?Sl(a):u==J?Tv(a):mv(a,r(a))}}function $n(r,a,u,d,_,b,x,O){var k=a&A;if(!k&&typeof r!="function")throw new dn(l);var X=d?d.length:0;if(X||(a&=~(B|G),d=_=e),x=x===e?x:we(Ot(x),0),O=O===e?O:Ot(O),X-=_?_.length:0,a&G){var q=d,et=_;d=_=e}var ft=k?e:Vl(r),mt=[r,a,u,d,_,q,et,b,x,O];if(ft&&x1(mt,ft),r=mt[0],a=mt[1],u=mt[2],d=mt[3],_=mt[4],O=mt[9]=mt[9]===e?k?0:r.length:we(mt[9]-X,0),!O&&a&(C|M)&&(a&=~(C|M)),!a||a==T)var xt=a1(r,a,u);else a==C||a==M?xt=o1(r,a,O):(a==B||a==(T|B))&&!_.length?xt=l1(r,a,u,d):xt=Ba.apply(e,mt);var Mt=ft?fc:Wc;return zc(Mt(xt,mt),r,a)}function Lc(r,a,u,d){return r===e||En(r,Ti[u])&&!Vt.call(d,u)?a:r}function Ic(r,a,u,d,_,b){return oe(r)&&oe(a)&&(b.set(a,r),Fa(r,a,e,Ic,b),b.delete(a)),r}function h1(r){return bs(r)?e:r}function kc(r,a,u,d,_,b){var x=u&m,O=r.length,k=a.length;if(O!=k&&!(x&&k>O))return!1;var X=b.get(r),q=b.get(a);if(X&&q)return X==a&&q==r;var et=-1,ft=!0,mt=u&P?new zr:e;for(b.set(r,a),b.set(a,r);++et<O;){var xt=r[et],Mt=a[et];if(d)var Et=x?d(Mt,xt,et,a,r,b):d(xt,Mt,et,r,a,b);if(Et!==e){if(Et)continue;ft=!1;break}if(mt){if(!_l(a,function(Ft,Gt){if(!as(mt,Gt)&&(xt===Ft||_(xt,Ft,u,d,b)))return mt.push(Gt)})){ft=!1;break}}else if(!(xt===Mt||_(xt,Mt,u,d,b))){ft=!1;break}}return b.delete(r),b.delete(a),ft}function f1(r,a,u,d,_,b,x){switch(u){case Nt:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case zt:return!(r.byteLength!=a.byteLength||!b(new Ca(r),new Ca(a)));case ie:case Me:case Z:return En(+r,+a);case Sn:return r.name==a.name&&r.message==a.message;case ut:case bt:return r==a+"";case z:var O=Sl;case J:var k=d&m;if(O||(O=va),r.size!=a.size&&!k)return!1;var X=x.get(r);if(X)return X==a;d|=P,x.set(r,a);var q=kc(O(r),O(a),d,_,b,x);return x.delete(r),q;case pt:if(fs)return fs.call(r)==fs.call(a)}return!1}function c1(r,a,u,d,_,b){var x=u&m,O=Xl(r),k=O.length,X=Xl(a),q=X.length;if(k!=q&&!x)return!1;for(var et=k;et--;){var ft=O[et];if(!(x?ft in a:Vt.call(a,ft)))return!1}var mt=b.get(r),xt=b.get(a);if(mt&&xt)return mt==a&&xt==r;var Mt=!0;b.set(r,a),b.set(a,r);for(var Et=x;++et<k;){ft=O[et];var Ft=r[ft],Gt=a[ft];if(d)var en=x?d(Gt,Ft,ft,a,r,b):d(Ft,Gt,ft,r,a,b);if(!(en===e?Ft===Gt||_(Ft,Gt,u,d,b):en)){Mt=!1;break}Et||(Et=ft=="constructor")}if(Mt&&!Et){var Be=r.constructor,nn=a.constructor;Be!=nn&&"constructor"in r&&"constructor"in a&&!(typeof Be=="function"&&Be instanceof Be&&typeof nn=="function"&&nn instanceof nn)&&(Mt=!1)}return b.delete(r),b.delete(a),Mt}function Kn(r){return eu(Hc(r,e,Vc),r+"")}function Xl(r){return tc(r,xe,Zl)}function ql(r){return tc(r,Ye,Fc)}var Vl=Ra?function(r){return Ra.get(r)}:gu;function za(r){for(var a=r.name+"",u=Pi[a],d=Vt.call(Pi,a)?u.length:0;d--;){var _=u[d],b=_.func;if(b==null||b==r)return _.name}return a}function Li(r){var a=Vt.call(y,"placeholder")?y:r;return a.placeholder}function St(){var r=y.iteratee||cu;return r=r===cu?rc:r,arguments.length?r(arguments[0],arguments[1]):r}function Ya(r,a){var u=r.__data__;return b1(a)?u[typeof a=="string"?"string":"hash"]:u.map}function jl(r){for(var a=xe(r),u=a.length;u--;){var d=a[u],_=r[d];a[u]=[d,_,Gc(_)]}return a}function Kr(r,a){var u=Cv(r,a);return nc(u)?u:e}function d1(r){var a=Vt.call(r,Ur),u=r[Ur];try{r[Ur]=e;var d=!0}catch{}var _=wa.call(r);return d&&(a?r[Ur]=u:delete r[Ur]),_}var Zl=xl?function(r){return r==null?[]:(r=Qt(r),ur(xl(r),function(a){return Uf.call(r,a)}))}:pu,Fc=xl?function(r){for(var a=[];r;)hr(a,Zl(r)),r=xa(r);return a}:pu,Ie=Ne;(El&&Ie(new El(new ArrayBuffer(1)))!=Nt||ls&&Ie(new ls)!=z||Tl&&Ie(Tl.resolve())!=ct||Ai&&Ie(new Ai)!=J||us&&Ie(new us)!=Ct)&&(Ie=function(r){var a=Ne(r),u=a==it?r.constructor:e,d=u?Xr(u):"";if(d)switch(d){case Vv:return Nt;case jv:return z;case Zv:return ct;case Jv:return J;case Qv:return Ct}return a});function g1(r,a,u){for(var d=-1,_=u.length;++d<_;){var b=u[d],x=b.size;switch(b.type){case"drop":r+=x;break;case"dropRight":a-=x;break;case"take":a=Le(a,r+x);break;case"takeRight":r=we(r,a-x);break}}return{start:r,end:a}}function p1(r){var a=r.match(w0);return a?a[1].split(S0):[]}function Dc(r,a,u){a=pr(a,r);for(var d=-1,_=a.length,b=!1;++d<_;){var x=kn(a[d]);if(!(b=r!=null&&u(r,x)))break;r=r[x]}return b||++d!=_?b:(_=r==null?0:r.length,!!_&&Za(_)&&Xn(x,_)&&(Rt(r)||qr(r)))}function _1(r){var a=r.length,u=new r.constructor(a);return a&&typeof r[0]=="string"&&Vt.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function Nc(r){return typeof r.constructor=="function"&&!ms(r)?Ri(xa(r)):{}}function v1(r,a,u){var d=r.constructor;switch(a){case zt:return Yl(r);case ie:case Me:return new d(+r);case Nt:return t1(r,u);case se:case De:case Mn:case mi:case Un:case yi:case Te:case Ue:case bi:return yc(r,u);case z:return new d;case Z:case bt:return new d(r);case ut:return e1(r);case J:return new d;case pt:return n1(r)}}function m1(r,a){var u=a.length;if(!u)return r;var d=u-1;return a[d]=(u>1?"& ":"")+a[d],a=a.join(u>2?", ":" "),r.replace(b0,`{
/* [wrapped with `+a+`] */
`)}function y1(r){return Rt(r)||qr(r)||!!(Wf&&r&&r[Wf])}function Xn(r,a){var u=typeof r;return a=a==null?dt:a,!!a&&(u=="number"||u!="symbol"&&M0.test(r))&&r>-1&&r%1==0&&r<a}function Ge(r,a,u){if(!oe(u))return!1;var d=typeof a;return(d=="number"?ze(u)&&Xn(a,u.length):d=="string"&&a in u)?En(u[a],r):!1}function Jl(r,a){if(Rt(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||tn(r)?!0:_0.test(r)||!p0.test(r)||a!=null&&r in Qt(a)}function b1(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function Ql(r){var a=za(r),u=y[a];if(typeof u!="function"||!(a in Dt.prototype))return!1;if(r===u)return!0;var d=Vl(u);return!!d&&r===d[0]}function w1(r){return!!Gf&&Gf in r}var S1=ya?qn:_u;function ms(r){var a=r&&r.constructor,u=typeof a=="function"&&a.prototype||Ti;return r===u}function Gc(r){return r===r&&!oe(r)}function Bc(r,a){return function(u){return u==null?!1:u[r]===a&&(a!==e||r in Qt(u))}}function C1(r){var a=Va(r,function(d){return u.size===c&&u.clear(),d}),u=a.cache;return a}function x1(r,a){var u=r[1],d=a[1],_=u|d,b=_<(T|A|W),x=d==W&&u==C||d==W&&u==F&&r[7].length<=a[8]||d==(W|F)&&a[7].length<=a[8]&&u==C;if(!(b||x))return r;d&T&&(r[2]=a[2],_|=u&T?0:S);var O=a[3];if(O){var k=r[3];r[3]=k?wc(k,O,a[4]):O,r[4]=k?fr(r[3],g):a[4]}return O=a[5],O&&(k=r[5],r[5]=k?Sc(k,O,a[6]):O,r[6]=k?fr(r[5],g):a[6]),O=a[7],O&&(r[7]=O),d&W&&(r[8]=r[8]==null?a[8]:Le(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=_,r}function E1(r){var a=[];if(r!=null)for(var u in Qt(r))a.push(u);return a}function T1(r){return wa.call(r)}function Hc(r,a,u){return a=we(a===e?r.length-1:a,0),function(){for(var d=arguments,_=-1,b=we(d.length-a,0),x=U(b);++_<b;)x[_]=d[a+_];_=-1;for(var O=U(a+1);++_<a;)O[_]=d[_];return O[a]=u(x),Ze(r,this,O)}}function Uc(r,a){return a.length<2?r:$r(r,_n(a,0,-1))}function A1(r,a){for(var u=r.length,d=Le(a.length,u),_=We(r);d--;){var b=a[d];r[d]=Xn(b,u)?_[b]:e}return r}function tu(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var Wc=Yc(fc),ys=Wv||function(r,a){return Ae.setTimeout(r,a)},eu=Yc(jm);function zc(r,a,u){var d=a+"";return eu(r,m1(d,P1(p1(d),u)))}function Yc(r){var a=0,u=0;return function(){var d=Kv(),_=H-(d-u);if(u=d,_>0){if(++a>=j)return arguments[0]}else a=0;return r.apply(e,arguments)}}function $a(r,a){var u=-1,d=r.length,_=d-1;for(a=a===e?d:a;++u<a;){var b=Nl(u,_),x=r[b];r[b]=r[u],r[u]=x}return r.length=a,r}var $c=C1(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(v0,function(u,d,_,b){a.push(_?b.replace(E0,"$1"):d||u)}),a});function kn(r){if(typeof r=="string"||tn(r))return r;var a=r+"";return a=="0"&&1/r==-ht?"-0":a}function Xr(r){if(r!=null){try{return ba.call(r)}catch{}try{return r+""}catch{}}return""}function P1(r,a){return cn(ye,function(u){var d="_."+u[0];a&u[1]&&!pa(r,d)&&r.push(d)}),r.sort()}function Kc(r){if(r instanceof Dt)return r.clone();var a=new gn(r.__wrapped__,r.__chain__);return a.__actions__=We(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function R1(r,a,u){(u?Ge(r,a,u):a===e)?a=1:a=we(Ot(a),0);var d=r==null?0:r.length;if(!d||a<1)return[];for(var _=0,b=0,x=U(Aa(d/a));_<d;)x[b++]=_n(r,_,_+=a);return x}function O1(r){for(var a=-1,u=r==null?0:r.length,d=0,_=[];++a<u;){var b=r[a];b&&(_[d++]=b)}return _}function M1(){var r=arguments.length;if(!r)return[];for(var a=U(r-1),u=arguments[0],d=r;d--;)a[d-1]=arguments[d];return hr(Rt(u)?We(u):[u],Pe(a,1))}var L1=Lt(function(r,a){return pe(r)?ds(r,Pe(a,1,pe,!0)):[]}),I1=Lt(function(r,a){var u=vn(a);return pe(u)&&(u=e),pe(r)?ds(r,Pe(a,1,pe,!0),St(u,2)):[]}),k1=Lt(function(r,a){var u=vn(a);return pe(u)&&(u=e),pe(r)?ds(r,Pe(a,1,pe,!0),e,u):[]});function F1(r,a,u){var d=r==null?0:r.length;return d?(a=u||a===e?1:Ot(a),_n(r,a<0?0:a,d)):[]}function D1(r,a,u){var d=r==null?0:r.length;return d?(a=u||a===e?1:Ot(a),a=d-a,_n(r,0,a<0?0:a)):[]}function N1(r,a){return r&&r.length?Na(r,St(a,3),!0,!0):[]}function G1(r,a){return r&&r.length?Na(r,St(a,3),!0):[]}function B1(r,a,u,d){var _=r==null?0:r.length;return _?(u&&typeof u!="number"&&Ge(r,a,u)&&(u=0,d=_),Mm(r,a,u,d)):[]}function Xc(r,a,u){var d=r==null?0:r.length;if(!d)return-1;var _=u==null?0:Ot(u);return _<0&&(_=we(d+_,0)),_a(r,St(a,3),_)}function qc(r,a,u){var d=r==null?0:r.length;if(!d)return-1;var _=d-1;return u!==e&&(_=Ot(u),_=u<0?we(d+_,0):Le(_,d-1)),_a(r,St(a,3),_,!0)}function Vc(r){var a=r==null?0:r.length;return a?Pe(r,1):[]}function H1(r){var a=r==null?0:r.length;return a?Pe(r,ht):[]}function U1(r,a){var u=r==null?0:r.length;return u?(a=a===e?1:Ot(a),Pe(r,a)):[]}function W1(r){for(var a=-1,u=r==null?0:r.length,d={};++a<u;){var _=r[a];d[_[0]]=_[1]}return d}function jc(r){return r&&r.length?r[0]:e}function z1(r,a,u){var d=r==null?0:r.length;if(!d)return-1;var _=u==null?0:Ot(u);return _<0&&(_=we(d+_,0)),Si(r,a,_)}function Y1(r){var a=r==null?0:r.length;return a?_n(r,0,-1):[]}var $1=Lt(function(r){var a=ae(r,Wl);return a.length&&a[0]===r[0]?Ll(a):[]}),K1=Lt(function(r){var a=vn(r),u=ae(r,Wl);return a===vn(u)?a=e:u.pop(),u.length&&u[0]===r[0]?Ll(u,St(a,2)):[]}),X1=Lt(function(r){var a=vn(r),u=ae(r,Wl);return a=typeof a=="function"?a:e,a&&u.pop(),u.length&&u[0]===r[0]?Ll(u,e,a):[]});function q1(r,a){return r==null?"":Yv.call(r,a)}function vn(r){var a=r==null?0:r.length;return a?r[a-1]:e}function V1(r,a,u){var d=r==null?0:r.length;if(!d)return-1;var _=d;return u!==e&&(_=Ot(u),_=_<0?we(d+_,0):Le(_,d-1)),a===a?Pv(r,a,_):_a(r,Of,_,!0)}function j1(r,a){return r&&r.length?oc(r,Ot(a)):e}var Z1=Lt(Zc);function Zc(r,a){return r&&r.length&&a&&a.length?Dl(r,a):r}function J1(r,a,u){return r&&r.length&&a&&a.length?Dl(r,a,St(u,2)):r}function Q1(r,a,u){return r&&r.length&&a&&a.length?Dl(r,a,e,u):r}var ty=Kn(function(r,a){var u=r==null?0:r.length,d=Pl(r,a);return hc(r,ae(a,function(_){return Xn(_,u)?+_:_}).sort(bc)),d});function ey(r,a){var u=[];if(!(r&&r.length))return u;var d=-1,_=[],b=r.length;for(a=St(a,3);++d<b;){var x=r[d];a(x,d,r)&&(u.push(x),_.push(d))}return hc(r,_),u}function nu(r){return r==null?r:qv.call(r)}function ny(r,a,u){var d=r==null?0:r.length;return d?(u&&typeof u!="number"&&Ge(r,a,u)?(a=0,u=d):(a=a==null?0:Ot(a),u=u===e?d:Ot(u)),_n(r,a,u)):[]}function ry(r,a){return Da(r,a)}function iy(r,a,u){return Bl(r,a,St(u,2))}function sy(r,a){var u=r==null?0:r.length;if(u){var d=Da(r,a);if(d<u&&En(r[d],a))return d}return-1}function ay(r,a){return Da(r,a,!0)}function oy(r,a,u){return Bl(r,a,St(u,2),!0)}function ly(r,a){var u=r==null?0:r.length;if(u){var d=Da(r,a,!0)-1;if(En(r[d],a))return d}return-1}function uy(r){return r&&r.length?cc(r):[]}function hy(r,a){return r&&r.length?cc(r,St(a,2)):[]}function fy(r){var a=r==null?0:r.length;return a?_n(r,1,a):[]}function cy(r,a,u){return r&&r.length?(a=u||a===e?1:Ot(a),_n(r,0,a<0?0:a)):[]}function dy(r,a,u){var d=r==null?0:r.length;return d?(a=u||a===e?1:Ot(a),a=d-a,_n(r,a<0?0:a,d)):[]}function gy(r,a){return r&&r.length?Na(r,St(a,3),!1,!0):[]}function py(r,a){return r&&r.length?Na(r,St(a,3)):[]}var _y=Lt(function(r){return gr(Pe(r,1,pe,!0))}),vy=Lt(function(r){var a=vn(r);return pe(a)&&(a=e),gr(Pe(r,1,pe,!0),St(a,2))}),my=Lt(function(r){var a=vn(r);return a=typeof a=="function"?a:e,gr(Pe(r,1,pe,!0),e,a)});function yy(r){return r&&r.length?gr(r):[]}function by(r,a){return r&&r.length?gr(r,St(a,2)):[]}function wy(r,a){return a=typeof a=="function"?a:e,r&&r.length?gr(r,e,a):[]}function ru(r){if(!(r&&r.length))return[];var a=0;return r=ur(r,function(u){if(pe(u))return a=we(u.length,a),!0}),bl(a,function(u){return ae(r,vl(u))})}function Jc(r,a){if(!(r&&r.length))return[];var u=ru(r);return a==null?u:ae(u,function(d){return Ze(a,e,d)})}var Sy=Lt(function(r,a){return pe(r)?ds(r,a):[]}),Cy=Lt(function(r){return Ul(ur(r,pe))}),xy=Lt(function(r){var a=vn(r);return pe(a)&&(a=e),Ul(ur(r,pe),St(a,2))}),Ey=Lt(function(r){var a=vn(r);return a=typeof a=="function"?a:e,Ul(ur(r,pe),e,a)}),Ty=Lt(ru);function Ay(r,a){return _c(r||[],a||[],cs)}function Py(r,a){return _c(r||[],a||[],_s)}var Ry=Lt(function(r){var a=r.length,u=a>1?r[a-1]:e;return u=typeof u=="function"?(r.pop(),u):e,Jc(r,u)});function Qc(r){var a=y(r);return a.__chain__=!0,a}function Oy(r,a){return a(r),r}function Ka(r,a){return a(r)}var My=Kn(function(r){var a=r.length,u=a?r[0]:0,d=this.__wrapped__,_=function(b){return Pl(b,r)};return a>1||this.__actions__.length||!(d instanceof Dt)||!Xn(u)?this.thru(_):(d=d.slice(u,+u+(a?1:0)),d.__actions__.push({func:Ka,args:[_],thisArg:e}),new gn(d,this.__chain__).thru(function(b){return a&&!b.length&&b.push(e),b}))});function Ly(){return Qc(this)}function Iy(){return new gn(this.value(),this.__chain__)}function ky(){this.__values__===e&&(this.__values__=dd(this.value()));var r=this.__index__>=this.__values__.length,a=r?e:this.__values__[this.__index__++];return{done:r,value:a}}function Fy(){return this}function Dy(r){for(var a,u=this;u instanceof Ma;){var d=Kc(u);d.__index__=0,d.__values__=e,a?_.__wrapped__=d:a=d;var _=d;u=u.__wrapped__}return _.__wrapped__=r,a}function Ny(){var r=this.__wrapped__;if(r instanceof Dt){var a=r;return this.__actions__.length&&(a=new Dt(this)),a=a.reverse(),a.__actions__.push({func:Ka,args:[nu],thisArg:e}),new gn(a,this.__chain__)}return this.thru(nu)}function Gy(){return pc(this.__wrapped__,this.__actions__)}var By=Ga(function(r,a,u){Vt.call(r,u)?++r[u]:Yn(r,u,1)});function Hy(r,a,u){var d=Rt(r)?Pf:Om;return u&&Ge(r,a,u)&&(a=e),d(r,St(a,3))}function Uy(r,a){var u=Rt(r)?ur:Jf;return u(r,St(a,3))}var Wy=Tc(Xc),zy=Tc(qc);function Yy(r,a){return Pe(Xa(r,a),1)}function $y(r,a){return Pe(Xa(r,a),ht)}function Ky(r,a,u){return u=u===e?1:Ot(u),Pe(Xa(r,a),u)}function td(r,a){var u=Rt(r)?cn:dr;return u(r,St(a,3))}function ed(r,a){var u=Rt(r)?fv:Zf;return u(r,St(a,3))}var Xy=Ga(function(r,a,u){Vt.call(r,u)?r[u].push(a):Yn(r,u,[a])});function qy(r,a,u,d){r=ze(r)?r:ki(r),u=u&&!d?Ot(u):0;var _=r.length;return u<0&&(u=we(_+u,0)),Ja(r)?u<=_&&r.indexOf(a,u)>-1:!!_&&Si(r,a,u)>-1}var Vy=Lt(function(r,a,u){var d=-1,_=typeof a=="function",b=ze(r)?U(r.length):[];return dr(r,function(x){b[++d]=_?Ze(a,x,u):gs(x,a,u)}),b}),jy=Ga(function(r,a,u){Yn(r,u,a)});function Xa(r,a){var u=Rt(r)?ae:ic;return u(r,St(a,3))}function Zy(r,a,u,d){return r==null?[]:(Rt(a)||(a=a==null?[]:[a]),u=d?e:u,Rt(u)||(u=u==null?[]:[u]),lc(r,a,u))}var Jy=Ga(function(r,a,u){r[u?0:1].push(a)},function(){return[[],[]]});function Qy(r,a,u){var d=Rt(r)?pl:Lf,_=arguments.length<3;return d(r,St(a,4),u,_,dr)}function t2(r,a,u){var d=Rt(r)?cv:Lf,_=arguments.length<3;return d(r,St(a,4),u,_,Zf)}function e2(r,a){var u=Rt(r)?ur:Jf;return u(r,ja(St(a,3)))}function n2(r){var a=Rt(r)?Xf:qm;return a(r)}function r2(r,a,u){(u?Ge(r,a,u):a===e)?a=1:a=Ot(a);var d=Rt(r)?Em:Vm;return d(r,a)}function i2(r){var a=Rt(r)?Tm:Zm;return a(r)}function s2(r){if(r==null)return 0;if(ze(r))return Ja(r)?xi(r):r.length;var a=Ie(r);return a==z||a==J?r.size:kl(r).length}function a2(r,a,u){var d=Rt(r)?_l:Jm;return u&&Ge(r,a,u)&&(a=e),d(r,St(a,3))}var o2=Lt(function(r,a){if(r==null)return[];var u=a.length;return u>1&&Ge(r,a[0],a[1])?a=[]:u>2&&Ge(a[0],a[1],a[2])&&(a=[a[0]]),lc(r,Pe(a,1),[])}),qa=Uv||function(){return Ae.Date.now()};function l2(r,a){if(typeof a!="function")throw new dn(l);return r=Ot(r),function(){if(--r<1)return a.apply(this,arguments)}}function nd(r,a,u){return a=u?e:a,a=r&&a==null?r.length:a,$n(r,W,e,e,e,e,a)}function rd(r,a){var u;if(typeof a!="function")throw new dn(l);return r=Ot(r),function(){return--r>0&&(u=a.apply(this,arguments)),r<=1&&(a=e),u}}var iu=Lt(function(r,a,u){var d=T;if(u.length){var _=fr(u,Li(iu));d|=B}return $n(r,d,a,u,_)}),id=Lt(function(r,a,u){var d=T|A;if(u.length){var _=fr(u,Li(id));d|=B}return $n(a,d,r,u,_)});function sd(r,a,u){a=u?e:a;var d=$n(r,C,e,e,e,e,e,a);return d.placeholder=sd.placeholder,d}function ad(r,a,u){a=u?e:a;var d=$n(r,M,e,e,e,e,e,a);return d.placeholder=ad.placeholder,d}function od(r,a,u){var d,_,b,x,O,k,X=0,q=!1,et=!1,ft=!0;if(typeof r!="function")throw new dn(l);a=mn(a)||0,oe(u)&&(q=!!u.leading,et="maxWait"in u,b=et?we(mn(u.maxWait)||0,a):b,ft="trailing"in u?!!u.trailing:ft);function mt(_e){var Tn=d,jn=_;return d=_=e,X=_e,x=r.apply(jn,Tn),x}function xt(_e){return X=_e,O=ys(Ft,a),q?mt(_e):x}function Mt(_e){var Tn=_e-k,jn=_e-X,Td=a-Tn;return et?Le(Td,b-jn):Td}function Et(_e){var Tn=_e-k,jn=_e-X;return k===e||Tn>=a||Tn<0||et&&jn>=b}function Ft(){var _e=qa();if(Et(_e))return Gt(_e);O=ys(Ft,Mt(_e))}function Gt(_e){return O=e,ft&&d?mt(_e):(d=_=e,x)}function en(){O!==e&&vc(O),X=0,d=k=_=O=e}function Be(){return O===e?x:Gt(qa())}function nn(){var _e=qa(),Tn=Et(_e);if(d=arguments,_=this,k=_e,Tn){if(O===e)return xt(k);if(et)return vc(O),O=ys(Ft,a),mt(k)}return O===e&&(O=ys(Ft,a)),x}return nn.cancel=en,nn.flush=Be,nn}var u2=Lt(function(r,a){return jf(r,1,a)}),h2=Lt(function(r,a,u){return jf(r,mn(a)||0,u)});function f2(r){return $n(r,$)}function Va(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new dn(l);var u=function(){var d=arguments,_=a?a.apply(this,d):d[0],b=u.cache;if(b.has(_))return b.get(_);var x=r.apply(this,d);return u.cache=b.set(_,x)||b,x};return u.cache=new(Va.Cache||zn),u}Va.Cache=zn;function ja(r){if(typeof r!="function")throw new dn(l);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function c2(r){return rd(2,r)}var d2=Qm(function(r,a){a=a.length==1&&Rt(a[0])?ae(a[0],Je(St())):ae(Pe(a,1),Je(St()));var u=a.length;return Lt(function(d){for(var _=-1,b=Le(d.length,u);++_<b;)d[_]=a[_].call(this,d[_]);return Ze(r,this,d)})}),su=Lt(function(r,a){var u=fr(a,Li(su));return $n(r,B,e,a,u)}),ld=Lt(function(r,a){var u=fr(a,Li(ld));return $n(r,G,e,a,u)}),g2=Kn(function(r,a){return $n(r,F,e,e,e,a)});function p2(r,a){if(typeof r!="function")throw new dn(l);return a=a===e?a:Ot(a),Lt(r,a)}function _2(r,a){if(typeof r!="function")throw new dn(l);return a=a==null?0:we(Ot(a),0),Lt(function(u){var d=u[a],_=_r(u,0,a);return d&&hr(_,d),Ze(r,this,_)})}function v2(r,a,u){var d=!0,_=!0;if(typeof r!="function")throw new dn(l);return oe(u)&&(d="leading"in u?!!u.leading:d,_="trailing"in u?!!u.trailing:_),od(r,a,{leading:d,maxWait:a,trailing:_})}function m2(r){return nd(r,1)}function y2(r,a){return su(zl(a),r)}function b2(){if(!arguments.length)return[];var r=arguments[0];return Rt(r)?r:[r]}function w2(r){return pn(r,w)}function S2(r,a){return a=typeof a=="function"?a:e,pn(r,w,a)}function C2(r){return pn(r,p|w)}function x2(r,a){return a=typeof a=="function"?a:e,pn(r,p|w,a)}function E2(r,a){return a==null||Vf(r,a,xe(a))}function En(r,a){return r===a||r!==r&&a!==a}var T2=Wa(Ml),A2=Wa(function(r,a){return r>=a}),qr=ec(function(){return arguments}())?ec:function(r){return de(r)&&Vt.call(r,"callee")&&!Uf.call(r,"callee")},Rt=U.isArray,P2=Sf?Je(Sf):Dm;function ze(r){return r!=null&&Za(r.length)&&!qn(r)}function pe(r){return de(r)&&ze(r)}function R2(r){return r===!0||r===!1||de(r)&&Ne(r)==ie}var vr=zv||_u,O2=Cf?Je(Cf):Nm;function M2(r){return de(r)&&r.nodeType===1&&!bs(r)}function L2(r){if(r==null)return!0;if(ze(r)&&(Rt(r)||typeof r=="string"||typeof r.splice=="function"||vr(r)||Ii(r)||qr(r)))return!r.length;var a=Ie(r);if(a==z||a==J)return!r.size;if(ms(r))return!kl(r).length;for(var u in r)if(Vt.call(r,u))return!1;return!0}function I2(r,a){return ps(r,a)}function k2(r,a,u){u=typeof u=="function"?u:e;var d=u?u(r,a):e;return d===e?ps(r,a,e,u):!!d}function au(r){if(!de(r))return!1;var a=Ne(r);return a==Sn||a==Br||typeof r.message=="string"&&typeof r.name=="string"&&!bs(r)}function F2(r){return typeof r=="number"&&zf(r)}function qn(r){if(!oe(r))return!1;var a=Ne(r);return a==R||a==I||a==je||a==lt}function ud(r){return typeof r=="number"&&r==Ot(r)}function Za(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=dt}function oe(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function de(r){return r!=null&&typeof r=="object"}var hd=xf?Je(xf):Bm;function D2(r,a){return r===a||Il(r,a,jl(a))}function N2(r,a,u){return u=typeof u=="function"?u:e,Il(r,a,jl(a),u)}function G2(r){return fd(r)&&r!=+r}function B2(r){if(S1(r))throw new Pt(o);return nc(r)}function H2(r){return r===null}function U2(r){return r==null}function fd(r){return typeof r=="number"||de(r)&&Ne(r)==Z}function bs(r){if(!de(r)||Ne(r)!=it)return!1;var a=xa(r);if(a===null)return!0;var u=Vt.call(a,"constructor")&&a.constructor;return typeof u=="function"&&u instanceof u&&ba.call(u)==Nv}var ou=Ef?Je(Ef):Hm;function W2(r){return ud(r)&&r>=-dt&&r<=dt}var cd=Tf?Je(Tf):Um;function Ja(r){return typeof r=="string"||!Rt(r)&&de(r)&&Ne(r)==bt}function tn(r){return typeof r=="symbol"||de(r)&&Ne(r)==pt}var Ii=Af?Je(Af):Wm;function z2(r){return r===e}function Y2(r){return de(r)&&Ie(r)==Ct}function $2(r){return de(r)&&Ne(r)==kt}var K2=Wa(Fl),X2=Wa(function(r,a){return r<=a});function dd(r){if(!r)return[];if(ze(r))return Ja(r)?Cn(r):We(r);if(os&&r[os])return Ev(r[os]());var a=Ie(r),u=a==z?Sl:a==J?va:ki;return u(r)}function Vn(r){if(!r)return r===0?r:0;if(r=mn(r),r===ht||r===-ht){var a=r<0?-1:1;return a*Tt}return r===r?r:0}function Ot(r){var a=Vn(r),u=a%1;return a===a?u?a-u:a:0}function gd(r){return r?Yr(Ot(r),0,yt):0}function mn(r){if(typeof r=="number")return r;if(tn(r))return ot;if(oe(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=oe(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=If(r);var u=P0.test(r);return u||O0.test(r)?lv(r.slice(2),u?2:8):A0.test(r)?ot:+r}function pd(r){return In(r,Ye(r))}function q2(r){return r?Yr(Ot(r),-dt,dt):r===0?r:0}function Kt(r){return r==null?"":Qe(r)}var V2=Oi(function(r,a){if(ms(a)||ze(a)){In(a,xe(a),r);return}for(var u in a)Vt.call(a,u)&&cs(r,u,a[u])}),_d=Oi(function(r,a){In(a,Ye(a),r)}),Qa=Oi(function(r,a,u,d){In(a,Ye(a),r,d)}),j2=Oi(function(r,a,u,d){In(a,xe(a),r,d)}),Z2=Kn(Pl);function J2(r,a){var u=Ri(r);return a==null?u:qf(u,a)}var Q2=Lt(function(r,a){r=Qt(r);var u=-1,d=a.length,_=d>2?a[2]:e;for(_&&Ge(a[0],a[1],_)&&(d=1);++u<d;)for(var b=a[u],x=Ye(b),O=-1,k=x.length;++O<k;){var X=x[O],q=r[X];(q===e||En(q,Ti[X])&&!Vt.call(r,X))&&(r[X]=b[X])}return r}),tb=Lt(function(r){return r.push(e,Ic),Ze(vd,e,r)});function eb(r,a){return Rf(r,St(a,3),Ln)}function nb(r,a){return Rf(r,St(a,3),Ol)}function rb(r,a){return r==null?r:Rl(r,St(a,3),Ye)}function ib(r,a){return r==null?r:Qf(r,St(a,3),Ye)}function sb(r,a){return r&&Ln(r,St(a,3))}function ab(r,a){return r&&Ol(r,St(a,3))}function ob(r){return r==null?[]:ka(r,xe(r))}function lb(r){return r==null?[]:ka(r,Ye(r))}function lu(r,a,u){var d=r==null?e:$r(r,a);return d===e?u:d}function ub(r,a){return r!=null&&Dc(r,a,Lm)}function uu(r,a){return r!=null&&Dc(r,a,Im)}var hb=Pc(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=wa.call(a)),r[a]=u},fu($e)),fb=Pc(function(r,a,u){a!=null&&typeof a.toString!="function"&&(a=wa.call(a)),Vt.call(r,a)?r[a].push(u):r[a]=[u]},St),cb=Lt(gs);function xe(r){return ze(r)?Kf(r):kl(r)}function Ye(r){return ze(r)?Kf(r,!0):zm(r)}function db(r,a){var u={};return a=St(a,3),Ln(r,function(d,_,b){Yn(u,a(d,_,b),d)}),u}function gb(r,a){var u={};return a=St(a,3),Ln(r,function(d,_,b){Yn(u,_,a(d,_,b))}),u}var pb=Oi(function(r,a,u){Fa(r,a,u)}),vd=Oi(function(r,a,u,d){Fa(r,a,u,d)}),_b=Kn(function(r,a){var u={};if(r==null)return u;var d=!1;a=ae(a,function(b){return b=pr(b,r),d||(d=b.length>1),b}),In(r,ql(r),u),d&&(u=pn(u,p|v|w,h1));for(var _=a.length;_--;)Hl(u,a[_]);return u});function vb(r,a){return md(r,ja(St(a)))}var mb=Kn(function(r,a){return r==null?{}:$m(r,a)});function md(r,a){if(r==null)return{};var u=ae(ql(r),function(d){return[d]});return a=St(a),uc(r,u,function(d,_){return a(d,_[0])})}function yb(r,a,u){a=pr(a,r);var d=-1,_=a.length;for(_||(_=1,r=e);++d<_;){var b=r==null?e:r[kn(a[d])];b===e&&(d=_,b=u),r=qn(b)?b.call(r):b}return r}function bb(r,a,u){return r==null?r:_s(r,a,u)}function wb(r,a,u,d){return d=typeof d=="function"?d:e,r==null?r:_s(r,a,u,d)}var yd=Mc(xe),bd=Mc(Ye);function Sb(r,a,u){var d=Rt(r),_=d||vr(r)||Ii(r);if(a=St(a,4),u==null){var b=r&&r.constructor;_?u=d?new b:[]:oe(r)?u=qn(b)?Ri(xa(r)):{}:u={}}return(_?cn:Ln)(r,function(x,O,k){return a(u,x,O,k)}),u}function Cb(r,a){return r==null?!0:Hl(r,a)}function xb(r,a,u){return r==null?r:gc(r,a,zl(u))}function Eb(r,a,u,d){return d=typeof d=="function"?d:e,r==null?r:gc(r,a,zl(u),d)}function ki(r){return r==null?[]:wl(r,xe(r))}function Tb(r){return r==null?[]:wl(r,Ye(r))}function Ab(r,a,u){return u===e&&(u=a,a=e),u!==e&&(u=mn(u),u=u===u?u:0),a!==e&&(a=mn(a),a=a===a?a:0),Yr(mn(r),a,u)}function Pb(r,a,u){return a=Vn(a),u===e?(u=a,a=0):u=Vn(u),r=mn(r),km(r,a,u)}function Rb(r,a,u){if(u&&typeof u!="boolean"&&Ge(r,a,u)&&(a=u=e),u===e&&(typeof a=="boolean"?(u=a,a=e):typeof r=="boolean"&&(u=r,r=e)),r===e&&a===e?(r=0,a=1):(r=Vn(r),a===e?(a=r,r=0):a=Vn(a)),r>a){var d=r;r=a,a=d}if(u||r%1||a%1){var _=Yf();return Le(r+_*(a-r+ov("1e-"+((_+"").length-1))),a)}return Nl(r,a)}var Ob=Mi(function(r,a,u){return a=a.toLowerCase(),r+(u?wd(a):a)});function wd(r){return hu(Kt(r).toLowerCase())}function Sd(r){return r=Kt(r),r&&r.replace(L0,bv).replace(Z0,"")}function Mb(r,a,u){r=Kt(r),a=Qe(a);var d=r.length;u=u===e?d:Yr(Ot(u),0,d);var _=u;return u-=a.length,u>=0&&r.slice(u,_)==a}function Lb(r){return r=Kt(r),r&&c0.test(r)?r.replace(Jh,wv):r}function Ib(r){return r=Kt(r),r&&m0.test(r)?r.replace(sl,"\\$&"):r}var kb=Mi(function(r,a,u){return r+(u?"-":"")+a.toLowerCase()}),Fb=Mi(function(r,a,u){return r+(u?" ":"")+a.toLowerCase()}),Db=Ec("toLowerCase");function Nb(r,a,u){r=Kt(r),a=Ot(a);var d=a?xi(r):0;if(!a||d>=a)return r;var _=(a-d)/2;return Ua(Pa(_),u)+r+Ua(Aa(_),u)}function Gb(r,a,u){r=Kt(r),a=Ot(a);var d=a?xi(r):0;return a&&d<a?r+Ua(a-d,u):r}function Bb(r,a,u){r=Kt(r),a=Ot(a);var d=a?xi(r):0;return a&&d<a?Ua(a-d,u)+r:r}function Hb(r,a,u){return u||a==null?a=0:a&&(a=+a),Xv(Kt(r).replace(al,""),a||0)}function Ub(r,a,u){return(u?Ge(r,a,u):a===e)?a=1:a=Ot(a),Gl(Kt(r),a)}function Wb(){var r=arguments,a=Kt(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var zb=Mi(function(r,a,u){return r+(u?"_":"")+a.toLowerCase()});function Yb(r,a,u){return u&&typeof u!="number"&&Ge(r,a,u)&&(a=u=e),u=u===e?yt:u>>>0,u?(r=Kt(r),r&&(typeof a=="string"||a!=null&&!ou(a))&&(a=Qe(a),!a&&Ci(r))?_r(Cn(r),0,u):r.split(a,u)):[]}var $b=Mi(function(r,a,u){return r+(u?" ":"")+hu(a)});function Kb(r,a,u){return r=Kt(r),u=u==null?0:Yr(Ot(u),0,r.length),a=Qe(a),r.slice(u,u+a.length)==a}function Xb(r,a,u){var d=y.templateSettings;u&&Ge(r,a,u)&&(a=e),r=Kt(r),a=Qa({},a,d,Lc);var _=Qa({},a.imports,d.imports,Lc),b=xe(_),x=wl(_,b),O,k,X=0,q=a.interpolate||ca,et="__p += '",ft=Cl((a.escape||ca).source+"|"+q.source+"|"+(q===Qh?T0:ca).source+"|"+(a.evaluate||ca).source+"|$","g"),mt="//# sourceURL="+(Vt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nv+"]")+`
`;r.replace(ft,function(Et,Ft,Gt,en,Be,nn){return Gt||(Gt=en),et+=r.slice(X,nn).replace(I0,Sv),Ft&&(O=!0,et+=`' +
__e(`+Ft+`) +
'`),Be&&(k=!0,et+=`';
`+Be+`;
__p += '`),Gt&&(et+=`' +
((__t = (`+Gt+`)) == null ? '' : __t) +
'`),X=nn+Et.length,Et}),et+=`';
`;var xt=Vt.call(a,"variable")&&a.variable;if(!xt)et=`with (obj) {
`+et+`
}
`;else if(x0.test(xt))throw new Pt(h);et=(k?et.replace(l0,""):et).replace(u0,"$1").replace(h0,"$1;"),et="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var Mt=xd(function(){return $t(b,mt+"return "+et).apply(e,x)});if(Mt.source=et,au(Mt))throw Mt;return Mt}function qb(r){return Kt(r).toLowerCase()}function Vb(r){return Kt(r).toUpperCase()}function jb(r,a,u){if(r=Kt(r),r&&(u||a===e))return If(r);if(!r||!(a=Qe(a)))return r;var d=Cn(r),_=Cn(a),b=kf(d,_),x=Ff(d,_)+1;return _r(d,b,x).join("")}function Zb(r,a,u){if(r=Kt(r),r&&(u||a===e))return r.slice(0,Nf(r)+1);if(!r||!(a=Qe(a)))return r;var d=Cn(r),_=Ff(d,Cn(a))+1;return _r(d,0,_).join("")}function Jb(r,a,u){if(r=Kt(r),r&&(u||a===e))return r.replace(al,"");if(!r||!(a=Qe(a)))return r;var d=Cn(r),_=kf(d,Cn(a));return _r(d,_).join("")}function Qb(r,a){var u=K,d=V;if(oe(a)){var _="separator"in a?a.separator:_;u="length"in a?Ot(a.length):u,d="omission"in a?Qe(a.omission):d}r=Kt(r);var b=r.length;if(Ci(r)){var x=Cn(r);b=x.length}if(u>=b)return r;var O=u-xi(d);if(O<1)return d;var k=x?_r(x,0,O).join(""):r.slice(0,O);if(_===e)return k+d;if(x&&(O+=k.length-O),ou(_)){if(r.slice(O).search(_)){var X,q=k;for(_.global||(_=Cl(_.source,Kt(tf.exec(_))+"g")),_.lastIndex=0;X=_.exec(q);)var et=X.index;k=k.slice(0,et===e?O:et)}}else if(r.indexOf(Qe(_),O)!=O){var ft=k.lastIndexOf(_);ft>-1&&(k=k.slice(0,ft))}return k+d}function tw(r){return r=Kt(r),r&&f0.test(r)?r.replace(Zh,Rv):r}var ew=Mi(function(r,a,u){return r+(u?" ":"")+a.toUpperCase()}),hu=Ec("toUpperCase");function Cd(r,a,u){return r=Kt(r),a=u?e:a,a===e?xv(r)?Lv(r):pv(r):r.match(a)||[]}var xd=Lt(function(r,a){try{return Ze(r,e,a)}catch(u){return au(u)?u:new Pt(u)}}),nw=Kn(function(r,a){return cn(a,function(u){u=kn(u),Yn(r,u,iu(r[u],r))}),r});function rw(r){var a=r==null?0:r.length,u=St();return r=a?ae(r,function(d){if(typeof d[1]!="function")throw new dn(l);return[u(d[0]),d[1]]}):[],Lt(function(d){for(var _=-1;++_<a;){var b=r[_];if(Ze(b[0],this,d))return Ze(b[1],this,d)}})}function iw(r){return Rm(pn(r,p))}function fu(r){return function(){return r}}function sw(r,a){return r==null||r!==r?a:r}var aw=Ac(),ow=Ac(!0);function $e(r){return r}function cu(r){return rc(typeof r=="function"?r:pn(r,p))}function lw(r){return sc(pn(r,p))}function uw(r,a){return ac(r,pn(a,p))}var hw=Lt(function(r,a){return function(u){return gs(u,r,a)}}),fw=Lt(function(r,a){return function(u){return gs(r,u,a)}});function du(r,a,u){var d=xe(a),_=ka(a,d);u==null&&!(oe(a)&&(_.length||!d.length))&&(u=a,a=r,r=this,_=ka(a,xe(a)));var b=!(oe(u)&&"chain"in u)||!!u.chain,x=qn(r);return cn(_,function(O){var k=a[O];r[O]=k,x&&(r.prototype[O]=function(){var X=this.__chain__;if(b||X){var q=r(this.__wrapped__),et=q.__actions__=We(this.__actions__);return et.push({func:k,args:arguments,thisArg:r}),q.__chain__=X,q}return k.apply(r,hr([this.value()],arguments))})}),r}function cw(){return Ae._===this&&(Ae._=Gv),this}function gu(){}function dw(r){return r=Ot(r),Lt(function(a){return oc(a,r)})}var gw=$l(ae),pw=$l(Pf),_w=$l(_l);function Ed(r){return Jl(r)?vl(kn(r)):Km(r)}function vw(r){return function(a){return r==null?e:$r(r,a)}}var mw=Rc(),yw=Rc(!0);function pu(){return[]}function _u(){return!1}function bw(){return{}}function ww(){return""}function Sw(){return!0}function Cw(r,a){if(r=Ot(r),r<1||r>dt)return[];var u=yt,d=Le(r,yt);a=St(a),r-=yt;for(var _=bl(d,a);++u<r;)a(u);return _}function xw(r){return Rt(r)?ae(r,kn):tn(r)?[r]:We($c(Kt(r)))}function Ew(r){var a=++Dv;return Kt(r)+a}var Tw=Ha(function(r,a){return r+a},0),Aw=Kl("ceil"),Pw=Ha(function(r,a){return r/a},1),Rw=Kl("floor");function Ow(r){return r&&r.length?Ia(r,$e,Ml):e}function Mw(r,a){return r&&r.length?Ia(r,St(a,2),Ml):e}function Lw(r){return Mf(r,$e)}function Iw(r,a){return Mf(r,St(a,2))}function kw(r){return r&&r.length?Ia(r,$e,Fl):e}function Fw(r,a){return r&&r.length?Ia(r,St(a,2),Fl):e}var Dw=Ha(function(r,a){return r*a},1),Nw=Kl("round"),Gw=Ha(function(r,a){return r-a},0);function Bw(r){return r&&r.length?yl(r,$e):0}function Hw(r,a){return r&&r.length?yl(r,St(a,2)):0}return y.after=l2,y.ary=nd,y.assign=V2,y.assignIn=_d,y.assignInWith=Qa,y.assignWith=j2,y.at=Z2,y.before=rd,y.bind=iu,y.bindAll=nw,y.bindKey=id,y.castArray=b2,y.chain=Qc,y.chunk=R1,y.compact=O1,y.concat=M1,y.cond=rw,y.conforms=iw,y.constant=fu,y.countBy=By,y.create=J2,y.curry=sd,y.curryRight=ad,y.debounce=od,y.defaults=Q2,y.defaultsDeep=tb,y.defer=u2,y.delay=h2,y.difference=L1,y.differenceBy=I1,y.differenceWith=k1,y.drop=F1,y.dropRight=D1,y.dropRightWhile=N1,y.dropWhile=G1,y.fill=B1,y.filter=Uy,y.flatMap=Yy,y.flatMapDeep=$y,y.flatMapDepth=Ky,y.flatten=Vc,y.flattenDeep=H1,y.flattenDepth=U1,y.flip=f2,y.flow=aw,y.flowRight=ow,y.fromPairs=W1,y.functions=ob,y.functionsIn=lb,y.groupBy=Xy,y.initial=Y1,y.intersection=$1,y.intersectionBy=K1,y.intersectionWith=X1,y.invert=hb,y.invertBy=fb,y.invokeMap=Vy,y.iteratee=cu,y.keyBy=jy,y.keys=xe,y.keysIn=Ye,y.map=Xa,y.mapKeys=db,y.mapValues=gb,y.matches=lw,y.matchesProperty=uw,y.memoize=Va,y.merge=pb,y.mergeWith=vd,y.method=hw,y.methodOf=fw,y.mixin=du,y.negate=ja,y.nthArg=dw,y.omit=_b,y.omitBy=vb,y.once=c2,y.orderBy=Zy,y.over=gw,y.overArgs=d2,y.overEvery=pw,y.overSome=_w,y.partial=su,y.partialRight=ld,y.partition=Jy,y.pick=mb,y.pickBy=md,y.property=Ed,y.propertyOf=vw,y.pull=Z1,y.pullAll=Zc,y.pullAllBy=J1,y.pullAllWith=Q1,y.pullAt=ty,y.range=mw,y.rangeRight=yw,y.rearg=g2,y.reject=e2,y.remove=ey,y.rest=p2,y.reverse=nu,y.sampleSize=r2,y.set=bb,y.setWith=wb,y.shuffle=i2,y.slice=ny,y.sortBy=o2,y.sortedUniq=uy,y.sortedUniqBy=hy,y.split=Yb,y.spread=_2,y.tail=fy,y.take=cy,y.takeRight=dy,y.takeRightWhile=gy,y.takeWhile=py,y.tap=Oy,y.throttle=v2,y.thru=Ka,y.toArray=dd,y.toPairs=yd,y.toPairsIn=bd,y.toPath=xw,y.toPlainObject=pd,y.transform=Sb,y.unary=m2,y.union=_y,y.unionBy=vy,y.unionWith=my,y.uniq=yy,y.uniqBy=by,y.uniqWith=wy,y.unset=Cb,y.unzip=ru,y.unzipWith=Jc,y.update=xb,y.updateWith=Eb,y.values=ki,y.valuesIn=Tb,y.without=Sy,y.words=Cd,y.wrap=y2,y.xor=Cy,y.xorBy=xy,y.xorWith=Ey,y.zip=Ty,y.zipObject=Ay,y.zipObjectDeep=Py,y.zipWith=Ry,y.entries=yd,y.entriesIn=bd,y.extend=_d,y.extendWith=Qa,du(y,y),y.add=Tw,y.attempt=xd,y.camelCase=Ob,y.capitalize=wd,y.ceil=Aw,y.clamp=Ab,y.clone=w2,y.cloneDeep=C2,y.cloneDeepWith=x2,y.cloneWith=S2,y.conformsTo=E2,y.deburr=Sd,y.defaultTo=sw,y.divide=Pw,y.endsWith=Mb,y.eq=En,y.escape=Lb,y.escapeRegExp=Ib,y.every=Hy,y.find=Wy,y.findIndex=Xc,y.findKey=eb,y.findLast=zy,y.findLastIndex=qc,y.findLastKey=nb,y.floor=Rw,y.forEach=td,y.forEachRight=ed,y.forIn=rb,y.forInRight=ib,y.forOwn=sb,y.forOwnRight=ab,y.get=lu,y.gt=T2,y.gte=A2,y.has=ub,y.hasIn=uu,y.head=jc,y.identity=$e,y.includes=qy,y.indexOf=z1,y.inRange=Pb,y.invoke=cb,y.isArguments=qr,y.isArray=Rt,y.isArrayBuffer=P2,y.isArrayLike=ze,y.isArrayLikeObject=pe,y.isBoolean=R2,y.isBuffer=vr,y.isDate=O2,y.isElement=M2,y.isEmpty=L2,y.isEqual=I2,y.isEqualWith=k2,y.isError=au,y.isFinite=F2,y.isFunction=qn,y.isInteger=ud,y.isLength=Za,y.isMap=hd,y.isMatch=D2,y.isMatchWith=N2,y.isNaN=G2,y.isNative=B2,y.isNil=U2,y.isNull=H2,y.isNumber=fd,y.isObject=oe,y.isObjectLike=de,y.isPlainObject=bs,y.isRegExp=ou,y.isSafeInteger=W2,y.isSet=cd,y.isString=Ja,y.isSymbol=tn,y.isTypedArray=Ii,y.isUndefined=z2,y.isWeakMap=Y2,y.isWeakSet=$2,y.join=q1,y.kebabCase=kb,y.last=vn,y.lastIndexOf=V1,y.lowerCase=Fb,y.lowerFirst=Db,y.lt=K2,y.lte=X2,y.max=Ow,y.maxBy=Mw,y.mean=Lw,y.meanBy=Iw,y.min=kw,y.minBy=Fw,y.stubArray=pu,y.stubFalse=_u,y.stubObject=bw,y.stubString=ww,y.stubTrue=Sw,y.multiply=Dw,y.nth=j1,y.noConflict=cw,y.noop=gu,y.now=qa,y.pad=Nb,y.padEnd=Gb,y.padStart=Bb,y.parseInt=Hb,y.random=Rb,y.reduce=Qy,y.reduceRight=t2,y.repeat=Ub,y.replace=Wb,y.result=yb,y.round=Nw,y.runInContext=L,y.sample=n2,y.size=s2,y.snakeCase=zb,y.some=a2,y.sortedIndex=ry,y.sortedIndexBy=iy,y.sortedIndexOf=sy,y.sortedLastIndex=ay,y.sortedLastIndexBy=oy,y.sortedLastIndexOf=ly,y.startCase=$b,y.startsWith=Kb,y.subtract=Gw,y.sum=Bw,y.sumBy=Hw,y.template=Xb,y.times=Cw,y.toFinite=Vn,y.toInteger=Ot,y.toLength=gd,y.toLower=qb,y.toNumber=mn,y.toSafeInteger=q2,y.toString=Kt,y.toUpper=Vb,y.trim=jb,y.trimEnd=Zb,y.trimStart=Jb,y.truncate=Qb,y.unescape=tw,y.uniqueId=Ew,y.upperCase=ew,y.upperFirst=hu,y.each=td,y.eachRight=ed,y.first=jc,du(y,function(){var r={};return Ln(y,function(a,u){Vt.call(y.prototype,u)||(r[u]=a)}),r}(),{chain:!1}),y.VERSION=i,cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),cn(["drop","take"],function(r,a){Dt.prototype[r]=function(u){u=u===e?1:we(Ot(u),0);var d=this.__filtered__&&!a?new Dt(this):this.clone();return d.__filtered__?d.__takeCount__=Le(u,d.__takeCount__):d.__views__.push({size:Le(u,yt),type:r+(d.__dir__<0?"Right":"")}),d},Dt.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),cn(["filter","map","takeWhile"],function(r,a){var u=a+1,d=u==N||u==Q;Dt.prototype[r]=function(_){var b=this.clone();return b.__iteratees__.push({iteratee:St(_,3),type:u}),b.__filtered__=b.__filtered__||d,b}}),cn(["head","last"],function(r,a){var u="take"+(a?"Right":"");Dt.prototype[r]=function(){return this[u](1).value()[0]}}),cn(["initial","tail"],function(r,a){var u="drop"+(a?"":"Right");Dt.prototype[r]=function(){return this.__filtered__?new Dt(this):this[u](1)}}),Dt.prototype.compact=function(){return this.filter($e)},Dt.prototype.find=function(r){return this.filter(r).head()},Dt.prototype.findLast=function(r){return this.reverse().find(r)},Dt.prototype.invokeMap=Lt(function(r,a){return typeof r=="function"?new Dt(this):this.map(function(u){return gs(u,r,a)})}),Dt.prototype.reject=function(r){return this.filter(ja(St(r)))},Dt.prototype.slice=function(r,a){r=Ot(r);var u=this;return u.__filtered__&&(r>0||a<0)?new Dt(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),a!==e&&(a=Ot(a),u=a<0?u.dropRight(-a):u.take(a-r)),u)},Dt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Dt.prototype.toArray=function(){return this.take(yt)},Ln(Dt.prototype,function(r,a){var u=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),_=y[d?"take"+(a=="last"?"Right":""):a],b=d||/^find/.test(a);!_||(y.prototype[a]=function(){var x=this.__wrapped__,O=d?[1]:arguments,k=x instanceof Dt,X=O[0],q=k||Rt(x),et=function(Ft){var Gt=_.apply(y,hr([Ft],O));return d&&ft?Gt[0]:Gt};q&&u&&typeof X=="function"&&X.length!=1&&(k=q=!1);var ft=this.__chain__,mt=!!this.__actions__.length,xt=b&&!ft,Mt=k&&!mt;if(!b&&q){x=Mt?x:new Dt(this);var Et=r.apply(x,O);return Et.__actions__.push({func:Ka,args:[et],thisArg:e}),new gn(Et,ft)}return xt&&Mt?r.apply(this,O):(Et=this.thru(et),xt?d?Et.value()[0]:Et.value():Et)})}),cn(["pop","push","shift","sort","splice","unshift"],function(r){var a=ma[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var _=arguments;if(d&&!this.__chain__){var b=this.value();return a.apply(Rt(b)?b:[],_)}return this[u](function(x){return a.apply(Rt(x)?x:[],_)})}}),Ln(Dt.prototype,function(r,a){var u=y[a];if(u){var d=u.name+"";Vt.call(Pi,d)||(Pi[d]=[]),Pi[d].push({name:a,func:u})}}),Pi[Ba(e,A).name]=[{name:"wrapper",func:e}],Dt.prototype.clone=tm,Dt.prototype.reverse=em,Dt.prototype.value=nm,y.prototype.at=My,y.prototype.chain=Ly,y.prototype.commit=Iy,y.prototype.next=ky,y.prototype.plant=Dy,y.prototype.reverse=Ny,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=Gy,y.prototype.first=y.prototype.head,os&&(y.prototype[os]=Fy),y},Ei=Iv();Hr?((Hr.exports=Ei)._=Ei,cl._=Ei):Ae._=Ei}).call(Bi)})(eh,eh.exports);function tE(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zs={exports:{}};const eE={},nE=Object.freeze(Object.defineProperty({__proto__:null,default:eE},Symbol.toStringTag,{value:"Module"})),rE=$h(nE);var E_=typeof process<"u"&&process.pid?process.pid.toString(36):"",T_="";if(typeof __webpack_require__!="function"&&typeof tE<"u"){var Eu="",hg=rE;if(hg.networkInterfaces)var Tu=hg.networkInterfaces();if(Tu){t:for(let n in Tu){const t=Tu[n],e=t.length;for(var Fi=0;Fi<e;Fi++)if(t[Fi]!==void 0&&t[Fi].mac&&t[Fi].mac!="00:00:00:00:00:00"){Eu=t[Fi].mac;break t}}T_=Eu?parseInt(Eu.replace(/\:|\D+/gi,"")).toString(36):""}}Zs.exports=Zs.exports.default=function(n,t){return(n||"")+T_+E_+Js().toString(36)+(t||"")};Zs.exports.process=function(n,t){return(n||"")+E_+Js().toString(36)+(t||"")};Zs.exports.time=function(n,t){return(n||"")+Js().toString(36)+(t||"")};function Js(){var n=Date.now(),t=Js.last||n;return Js.last=n>t?n:t+1}const iE="#000",A_={fill:"#fff",radius:10,draggable:!0},sE={stroke:iE,strokeWidth:5},fg=()=>({circles:[],lines:[],figureType:null}),aE={[Tr.RECT]:[50,50,250,50,250,250,50,250],[Tr.T_FIGURE]:[50,50,350,50,350,150,250,150,250,350,150,350,150,150,50,150],[Tr.L_FIGURE]:[50,50,50,450,150,450,150,150,350,150,350,50]},oE=()=>{const n=Mr(fg()),t=(l=Tr.RECT)=>{o(),n.figureType=l;const h=aE[l]||[];n.circles=i(h),n.lines=s(n.circles)},e=(l,h)=>Mr({...A_,x:l,y:h}),i=l=>eh.exports.chunk(l,2).reduce((h,f)=>{const[c,g]=f,p=e(c,g);return[...h,p]},[]),s=l=>l.map((h,f)=>{const c=l[f+1]||l[0],g=Zs.exports();return{config:{...sE,id:g,points:[h.x,h.y,c.x,c.y]},circles:{start:h,end:c}}}),o=()=>{Object.assign(n,fg())};return{circles:kr(()=>n.circles),lines:kr(()=>n.lines),setFigure:t,clear:o}},lE=()=>{const n=Xe(null),{circles:t,lines:e,clear:i,setFigure:s}=oE(),o=Cr(()=>e.value.map(m=>{const{config:P,circles:T}=m,{id:A}=P,{start:S,end:C}=T,M=(S.x+C.x)/2,B=(S.y+C.y)/2,G=To(m),W=Yh(G).toFixed(2),F=W.length*20,$={x:0,y:0};return{x:M+$.x-F/2,y:B+$.y-20/2,text:W,width:F,fontSize:20,align:"center",fill:"#fff",lineId:A}})),l=Cr(()=>{const w=t.value.map(C=>C.x),m=w.map(C=>w.map(M=>Math.abs(C-M))).flat(),P=+Math.max(...m).toFixed(2),T=t.value.map(C=>C.y),A=T.map(C=>T.map(M=>Math.abs(C-M))).flat(),S=+Math.max(...A).toFixed(2);return{width:P,height:S}}),h=Cr(()=>{const w=t.value.map(A=>A.x),m=t.value.map(A=>A.y),P=Math.min(...w),T=Math.min(...m);return{x:P,y:T}}),f=Cr(()=>e.value.find(w=>w.config.id===n.value)),c=Cr({get(){return f.value?To(f.value):0},set(w){p(f.value,w)}}),g=Cr(()=>{const{width:w,height:m}=l.value,{x:P,y:T}=h.value;return{x:P-10,y:T-10,stroke:"black",strokeWidth:1,width:w+20,height:m+20,draggable:!0}}),p=(w,m)=>{if(!m)return;const{circles:P}=w,{xDiff:T,yDiff:A}=x_(w),S=To(w),C=m/S,M=T*C,B=A*C,G=T-M,W=A-B,{end:F}=P;F.x+=G,F.y+=W,v()},v=()=>{e.value.forEach(w=>{const{config:m,circles:P}=w,{start:T,end:A}=P;m.points=[T.x,T.y,A.x,A.y]})};return{lines:e,circles:t,fullSize:l,position:h,selectedLine:f,selectedLineId:n,selectedLineLength:c,lineSizesTextConfigs:o,groupConfig:g,updateLineSize:p,updateLinesPosition:v,clear:i,setFigure:s}};var cg;const ua=typeof window<"u";ua&&((cg=window==null?void 0:window.navigator)==null?void 0:cg.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function uE(n){return typeof n=="function"?n():Ee(n)}function hE(n){return n}function fE(n){return Kg()?(Xg(n),!0):!1}function cE(n,t=!0){sr()?ci(n):t?n():aa(n)}function dE(n){var t;const e=uE(n);return(t=e==null?void 0:e.$el)!=null?t:e}const gE=ua?window:void 0;ua&&window.document;ua&&window.navigator;ua&&window.location;function pE(n,t=!1){const e=Xe(),i=()=>e.value=Boolean(n());return i(),cE(i,t),e}const nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rh="__vueuse_ssr_handlers__";nh[rh]=nh[rh]||{};nh[rh];var dg=Object.getOwnPropertySymbols,_E=Object.prototype.hasOwnProperty,vE=Object.prototype.propertyIsEnumerable,mE=(n,t)=>{var e={};for(var i in n)_E.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&dg)for(var i of dg(n))t.indexOf(i)<0&&vE.call(n,i)&&(e[i]=n[i]);return e};function yE(n,t,e={}){const i=e,{window:s=gE}=i,o=mE(i,["window"]);let l;const h=pE(()=>s&&"ResizeObserver"in s),f=()=>{l&&(l.disconnect(),l=void 0)},c=Xi(()=>dE(n),p=>{f(),h.value&&s&&p&&(l=new ResizeObserver(t),l.observe(p,o))},{immediate:!0,flush:"post"}),g=()=>{f(),c()};return fE(g),{isSupported:h,stop:g}}var gg;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(gg||(gg={}));var bE=Object.defineProperty,pg=Object.getOwnPropertySymbols,wE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable,_g=(n,t,e)=>t in n?bE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,CE=(n,t)=>{for(var e in t||(t={}))wE.call(t,e)&&_g(n,e,t[e]);if(pg)for(var e of pg(t))SE.call(t,e)&&_g(n,e,t[e]);return n};const xE={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};CE({linear:hE},xE);const EE=n=>+(n*100).toFixed(2);const ha=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e},TE={class:"floor-planner-input-box"},AE={__name:"FloorPlannerInputBox",props:{modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(n,{expose:t,emit:e}){const i=n,s=Xe(null),o=Cr({get(){return Yh(i.modelValue)},set(h){const f=EE(h);e("update:modelValue",f)}});function l(){s==null||s.value.focus(),s==null||s.value.select()}return t({focus:l}),(h,f)=>(le(),an("div",TE,[Rp(Qo("input",{"onUpdate:modelValue":f[0]||(f[0]=c=>me(o)?o.value=c:null),ref_key:"inputRef",ref:s,min:0,type:"number"},null,512),[[js,Ee(o),void 0,{lazy:!0}]])]))}},PE=ha(AE,[["__scopeId","data-v-fa3008e6"]]),RE={__name:"CanvasLine",props:{config:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:t}){const e=n,i="#faea00",s=kr(()=>{const l={...e.config};return e.selected&&(l.stroke=i),l}),o=l=>{t("click",l,e.config.id)};return(l,h)=>{const f=Er("v-line");return le(),Nn(f,{config:Ee(s),onClick:o},null,8,["config"])}}},OE={__name:"CanvasGrid",props:{width:Number,height:Number},setup(n){const t=n,e=100,i=kr(()=>{const o=[],l=Math.ceil(t.width/e),h=Math.ceil(t.height/e);for(let f=0;f<l;f++){const c=f*e,g=s({x:c,points:[0,0,0,t.height]});o.push(g)}for(let f=0;f<h;f++){const c=f*e,g=s({y:c,points:[0,0,t.width,0]});o.push(g)}return o}),s=({x:o=0,y:l=0,points:h=[]})=>({x:o,y:l,stroke:"rgba(0, 0, 0, 0.2)",strokeWidth:1,points:h});return(o,l)=>{const h=Er("v-line");return le(!0),an(ue,null,qi(Ee(i),f=>(le(),Nn(h,{config:f},null,8,["config"]))),256)}}};const ME={__name:"FloorPlanner",setup(n,{expose:t}){const e=Mr({width:600,height:600}),i=Xe(null),s=Xe(0),o=Xe(0),l=Xe([]),h=Xe([]),f=Xe(null),c=Mr({visible:!1,config:{...A_,draggable:!1}}),{circles:g,lines:p,selectedLine:v,selectedLineId:w,selectedLineLength:m,lineSizesTextConfigs:P,groupConfig:T,updateLinesPosition:A,setFigure:S,clear:C}=lE(),M=kr(()=>{const Q=e.width-300-25,ht=e.height-100-25;return{width:300,height:100,stroke:"#555",strokeWidth:5,x:Q,y:ht}}),B=kr(()=>{const N=Jx(p.value),rt=Yh(N).toFixed(2);return{width:M.value.width,text:`P = ${rt}`,x:M.value.x+10,y:M.value.y+10,fontSize:20}}),G=(H,N)=>{const{target:rt}=H,{x:Q,y:ht}=rt.position(),{width:dt,height:Tt}=rt.size(),ot={x:Q,y:ht},yt=Math.round(Q/100)*100;Math.abs(yt-Q)<dt/2&&(ot.x=yt);const Ht=Math.round(ht/100)*100;Math.abs(Ht-ht)<Tt/2&&(ot.y=Ht),N.x=ot.x,N.y=ot.y,c.config.x=ot.x,c.config.y=ot.y,A()},W=H=>{const{x:N,y:rt}=H.target.position();H.target.fill("transparent"),c.visible=!0,c.config.x=N,c.config.y=rt},F=H=>{H.target.fill("#fff"),c.visible=!1;const{x:N,y:rt}=c.config;H.target.position({x:N,y:rt})},$=H=>{const{x:N,y:rt}=H.target.position(),Q=N-s.value,ht=rt-o.value;g.value.forEach((dt,Tt)=>{const ot=l.value[Tt],yt=h.value[Tt];dt.x=ot+Q,dt.y=yt+ht}),A()},K=H=>{const{x:N,y:rt}=H.target.position();s.value=N,o.value=rt,l.value=g.value.map(Q=>Q.x),h.value=g.value.map(Q=>Q.y)},V=async(H,N)=>{H.cancelBubble=!0,w.value=N,await aa(),f.value.focus()};yE(i,H=>{const[N]=H,{width:rt,height:Q}=N.contentRect;e.width=rt,e.height=Q});function j(){w.value=null}return t({clear:C,setFigure:S}),(H,N)=>{const rt=Er("v-rect"),Q=Er("v-text"),ht=Er("v-circle"),dt=Er("v-layer"),Tt=Er("v-stage");return le(),an(ue,null,[Ee(v)?(le(),Nn(Wp,{key:0,to:"body"},[Bt(PE,{modelValue:Ee(m),"onUpdate:modelValue":N[0]||(N[0]=ot=>me(m)?m.value=ot:null),ref_key:"inputBoxRef",ref:f},null,8,["modelValue"])])):Eo("",!0),Ee(g).length&&Ee(p).length?(le(),an("div",{key:1,class:"floor-planner",ref_key:"floorPlannerRef",ref:i},[Bt(Tt,{ref:"stage",config:e,onClick:j},{default:qs(()=>[Bt(dt,null,{default:qs(()=>[Bt(OE,{width:e.width,height:e.height},null,8,["width","height"]),Bt(rt,{config:Ee(T),onDragStart:K,onDragMove:$},null,8,["config"]),(le(!0),an(ue,null,qi(Ee(p),ot=>(le(),Nn(RE,{config:ot.config,selected:ot.config.id===Ee(w),onClick:V},null,8,["config","selected"]))),256)),(le(!0),an(ue,null,qi(Ee(P),ot=>(le(),Nn(Q,{config:ot,onClick:yt=>V(yt,ot.lineId)},null,8,["config","onClick"]))),256)),c.visible?(le(),Nn(ht,{key:0,config:c.config},null,8,["config"])):Eo("",!0),(le(!0),an(ue,null,qi(Ee(g),ot=>(le(),Nn(ht,{config:ot,onDragStart:W,onDragMove:yt=>G(yt,ot),onDragEnd:F},null,8,["config","onDragMove"]))),256)),Bt(rt,{config:Ee(M)},null,8,["config"]),Bt(Q,{config:Ee(B)},null,8,["config"])]),_:1})]),_:1},8,["config"])],512)):Eo("",!0)],64)}}},LE=ha(ME,[["__scopeId","data-v-a8f1dfd8"]]);const IE={class:"figure-list"},kE=["onClick"],FE={__name:"FloorPlannerFigureList",setup(n){const t=Ki("setFigure"),e={[Tr.RECT]:"[]",[Tr.L_FIGURE]:"\u0413",[Tr.T_FIGURE]:"\u0422"},i=Object.values(Tr).map(o=>({type:o,icon:e[o]})),s=o=>{t(o)};return(o,l)=>(le(),an("div",IE,[(le(!0),an(ue,null,qi(Ee(i),h=>(le(),an("div",{key:h.type,class:"figure-item",onClick:f=>s(h.type)},Ug(h.icon),9,kE))),128))]))}},DE=ha(FE,[["__scopeId","data-v-3411ba8a"]]);const NE={class:"floor-planner-panel"},GE={__name:"FloorPlannerPanel",setup(n){return(t,e)=>(le(),an("div",NE,[Bt(DE)]))}},BE=ha(GE,[["__scopeId","data-v-2955ff53"]]);const HE={class:"wrapper"},UE={__name:"App",setup(n){const t=Xe(null),e=i=>{t.value.setFigure(i)};return ci(()=>{e()}),Oh("setFigure",e),(i,s)=>(le(),an("div",HE,[Bt(BE),Bt(LE,{ref_key:"planner",ref:t},null,512)]))}},WE=ha(UE,[["__scopeId","data-v-b8d0c736"]]);var P_={exports:{}};const zE=$h(Zx);var YE=Math.PI/180;function $E(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const Vi=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},_t={_global:Vi,version:"8.3.14",isBrowser:$E(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return _t.angleDeg?n*YE:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return _t.DD.isDragging},isDragReady(){return!!_t.DD.node},releaseCanvasOnDestroy:!0,document:Vi.document,_injectGlobal(n){Vi.Konva=n}},ce=n=>{_t[n.prototype.getClassName()]=n};_t._injectGlobal(_t);class on{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new on(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),s=this.m[0]*e+this.m[2]*i,o=this.m[1]*e+this.m[3]*i,l=this.m[0]*-i+this.m[2]*e,h=this.m[1]*-i+this.m[3]*e;return this.m[0]=s,this.m[1]=o,this.m[2]=l,this.m[3]=h,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var i=this.m[0]+this.m[2]*e,s=this.m[1]+this.m[3]*e,o=this.m[2]+this.m[0]*t,l=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=l,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],s=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],l=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],h=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=l,this.m[5]=h,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,s=-this.m[2]*t,o=this.m[0]*t,l=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),h=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=l,this.m[5]=h,this}getMatrix(){return this.m}decompose(){var t=this.m[0],e=this.m[1],i=this.m[2],s=this.m[3],o=this.m[4],l=this.m[5],h=t*s-e*i;let f={x:o,y:l,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||e!=0){var c=Math.sqrt(t*t+e*e);f.rotation=e>0?Math.acos(t/c):-Math.acos(t/c),f.scaleX=c,f.scaleY=h/c,f.skewX=(t*i+e*s)/h,f.skewY=0}else if(i!=0||s!=0){var g=Math.sqrt(i*i+s*s);f.rotation=Math.PI/2-(s>0?Math.acos(-i/g):-Math.acos(i/g)),f.scaleX=h/g,f.scaleY=g,f.skewX=0,f.skewY=(t*i+e*s)/h}return f.rotation=D._getRotation(f.rotation),f}}var KE="[object Array]",XE="[object Number]",qE="[object String]",VE="[object Boolean]",jE=Math.PI/180,ZE=180/Math.PI,Au="#",JE="",QE="0",tT="Konva warning: ",vg="Konva error: ",eT="rgb(",Pu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},nT=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,fo=[];const rT=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)},D={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===KE},_isNumber(n){return Object.prototype.toString.call(n)===XE&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===qE},_isBoolean(n){return Object.prototype.toString.call(n)===VE},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;var t=n[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){fo.push(n),fo.length===1&&rT(function(){const t=fo;fo=[],t.forEach(function(e){e()})})},createCanvasElement(){var n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,t){var e=D.createImageElement();e.onload=function(){t(e)},e.src=n},_rgbToHex(n,t,e){return((1<<24)+(n<<16)+(t<<8)+e).toString(16).slice(1)},_hexToRgb(n){n=n.replace(Au,JE);var t=parseInt(n,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){for(var n=(Math.random()*16777215<<0).toString(16);n.length<6;)n=QE+n;return Au+n},getRGB(n){var t;return n in Pu?(t=Pu[n],{r:t[0],g:t[1],b:t[2]}):n[0]===Au?this._hexToRgb(n.substring(1)):n.substr(0,4)===eT?(t=nT.exec(n.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",D._namedColorToRBA(n)||D._hex3ColorToRGBA(n)||D._hex6ColorToRGBA(n)||D._rgbColorToRGBA(n)||D._rgbaColorToRGBA(n)||D._hslColorToRGBA(n)},_namedColorToRBA(n){var t=Pu[n.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];var t=n.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];var t=n.split(/ *, */).map((e,i)=>e.slice(-1)==="%"?i===3?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[t,...e]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),i=Number(e[0])/360,s=Number(e[1])/100,o=Number(e[2])/100;let l,h,f;if(s===0)return f=o*255,{r:Math.round(f),g:Math.round(f),b:Math.round(f),a:1};o<.5?l=o*(1+s):l=o+s-o*s;const c=2*o-l,g=[0,0,0];for(let p=0;p<3;p++)h=i+1/3*-(p-1),h<0&&h++,h>1&&h--,6*h<1?f=c+(l-c)*6*h:2*h<1?f=l:3*h<2?f=c+(l-c)*(2/3-h)*6:f=c,g[p]=f*255;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}},haveIntersection(n,t){return!(t.x>n.x+n.width||t.x+t.width<n.x||t.y>n.y+n.height||t.y+t.height<n.y)},cloneObject(n){var t={};for(var e in n)this._isPlainObject(n[e])?t[e]=this.cloneObject(n[e]):this._isArray(n[e])?t[e]=this.cloneArray(n[e]):t[e]=n[e];return t},cloneArray(n){return n.slice(0)},degToRad(n){return n*jE},radToDeg(n){return n*ZE},_degToRad(n){return D.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),D.degToRad(n)},_radToDeg(n){return D.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),D.radToDeg(n)},_getRotation(n){return _t.angleDeg?D.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(vg+n)},error(n){console.error(vg+n)},warn(n){!_t.showWarnings||console.warn(tT+n)},each(n,t){for(var e in n)t(e,n[e])},_inRange(n,t,e){return t<=n&&n<e},_getProjectionToSegment(n,t,e,i,s,o){var l,h,f,c=(n-e)*(n-e)+(t-i)*(t-i);if(c==0)l=n,h=t,f=(s-e)*(s-e)+(o-i)*(o-i);else{var g=((s-n)*(e-n)+(o-t)*(i-t))/c;g<0?(l=n,h=t,f=(n-s)*(n-s)+(t-o)*(t-o)):g>1?(l=e,h=i,f=(e-s)*(e-s)+(i-o)*(i-o)):(l=n+g*(e-n),h=t+g*(i-t),f=(l-s)*(l-s)+(h-o)*(h-o))}return[l,h,f]},_getProjectionToLine(n,t,e){var i=D.cloneObject(n),s=Number.MAX_VALUE;return t.forEach(function(o,l){if(!(!e&&l===t.length-1)){var h=t[(l+1)%t.length],f=D._getProjectionToSegment(o.x,o.y,h.x,h.y,n.x,n.y),c=f[0],g=f[1],p=f[2];p<s&&(i.x=c,i.y=g,s=p)}}),i},_prepareArrayForTween(n,t,e){var i,s=[],o=[];if(n.length>t.length){var l=t;t=n,n=l}for(i=0;i<n.length;i+=2)s.push({x:n[i],y:n[i+1]});for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});var h=[];return o.forEach(function(f){var c=D._getProjectionToLine(f,s,e);h.push(c.x),h.push(c.y)}),h},_prepareToStringify(n){var t;n.visitedByCircularReferenceRemoval=!0;for(var e in n)if(!!(n.hasOwnProperty(e)&&n[e]&&typeof n[e]=="object")){if(t=Object.getOwnPropertyDescriptor(n,e),n[e].visitedByCircularReferenceRemoval||D._isElement(n[e]))if(t.configurable)delete n[e];else return null;else if(D._prepareToStringify(n[e])===null)if(t.configurable)delete n[e];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,t){for(var e in t)n[e]=t[e];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){!_t.releaseCanvasOnDestroy||n.forEach(t=>{t.width=0,t.height=0})}};function Dr(n){return D._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||D._isBoolean(n)?n:Object.prototype.toString.call(n)}function R_(n){return n>255?255:n<0?0:Math.round(n)}function st(){if(_t.isUnminified)return function(n,t){return D._isNumber(n)||D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),n}}function O_(n){if(_t.isUnminified)return function(t,e){let i=D._isNumber(t),s=D._isArray(t)&&t.length==n;return!i&&!s&&D.warn(Dr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or Array<number>('+n+")"),t}}function Kh(){if(_t.isUnminified)return function(n,t){var e=D._isNumber(n),i=n==="auto";return e||i||D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),n}}function is(){if(_t.isUnminified)return function(n,t){return D._isString(n)||D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),n}}function M_(){if(_t.isUnminified)return function(n,t){const e=D._isString(n),i=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return e||i||D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),n}}function iT(){if(_t.isUnminified)return function(n,t){const e=Int8Array?Object.getPrototypeOf(Int8Array):null;return e&&n instanceof e||(D._isArray(n)?n.forEach(function(i){D._isNumber(i)||D.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),n}}function Rn(){if(_t.isUnminified)return function(n,t){var e=n===!0||n===!1;return e||D.warn(Dr(n)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),n}}function sT(n){if(_t.isUnminified)return function(t,e){return t==null||D.isObject(t)||D.warn(Dr(t)+' is a not valid value for "'+e+'" attribute. The value should be an object with properties '+n),t}}var Cs="get",xs="set";const E={addGetterSetter(n,t,e,i,s){E.addGetter(n,t,e),E.addSetter(n,t,i,s),E.addOverloadedGetterSetter(n,t)},addGetter(n,t,e){var i=Cs+D._capitalize(t);n.prototype[i]=n.prototype[i]||function(){var s=this.attrs[t];return s===void 0?e:s}},addSetter(n,t,e,i){var s=xs+D._capitalize(t);n.prototype[s]||E.overWriteSetter(n,t,e,i)},overWriteSetter(n,t,e,i){var s=xs+D._capitalize(t);n.prototype[s]=function(o){return e&&o!==void 0&&o!==null&&(o=e.call(this,o,t)),this._setAttr(t,o),i&&i.call(this),this}},addComponentsGetterSetter(n,t,e,i,s){var o=e.length,l=D._capitalize,h=Cs+l(t),f=xs+l(t),c,g;n.prototype[h]=function(){var v={};for(c=0;c<o;c++)g=e[c],v[g]=this.getAttr(t+l(g));return v};var p=sT(e);n.prototype[f]=function(v){var w=this.attrs[t],m;i&&(v=i.call(this,v)),p&&p.call(this,v,t);for(m in v)!v.hasOwnProperty(m)||this._setAttr(t+l(m),v[m]);return v||e.forEach(P=>{this._setAttr(t+l(P),void 0)}),this._fireChangeEvent(t,w,v),s&&s.call(this),this},E.addOverloadedGetterSetter(n,t)},addOverloadedGetterSetter(n,t){var e=D._capitalize(t),i=xs+e,s=Cs+e;n.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(n,t,e,i){D.error("Adding deprecated "+t);var s=Cs+D._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[s]=function(){D.error(o);var l=this.attrs[t];return l===void 0?e:l},E.addSetter(n,t,i,function(){D.error(o)}),E.addOverloadedGetterSetter(n,t)},backCompat(n,t){D.each(t,function(e,i){var s=n.prototype[i],o=Cs+D._capitalize(e),l=xs+D._capitalize(e);function h(){s.apply(this,arguments),D.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}n.prototype[e]=h,n.prototype[o]=h,n.prototype[l]=h})},afterSetFilter(){this._filterUpToDate=!1}};function aT(n){var t=[],e=n.length,i=D,s,o;for(s=0;s<e;s++)o=n[s],i._isNumber(o)?o=Math.round(o*1e3)/1e3:i._isString(o)||(o=o+""),t.push(o);return t}var mg=",",oT="(",lT=")",uT="([",hT="])",fT=";",cT="()",dT="=",yg=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],gT=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const pT=100;class nl{constructor(t){this.canvas=t,_t.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var i=this.traceArr,s=i.length,o="",l,h,f,c;for(l=0;l<s;l++)h=i[l],f=h.method,f?(c=h.args,o+=f,t?o+=cT:D._isArray(c[0])?o+=uT+c.join(mg)+hT:(e&&(c=c.map(g=>typeof g=="number"?Math.floor(g):g)),o+=oT+c.join(mg)+lT)):(o+=h.property,t||(o+=dT+h.val)),o+=fT;return o}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr,i;e.push(t),i=e.length,i>=pT&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();e!==1&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,i,s,o,l){this._context.arc(t,e,i,s,o,l)}arcTo(t,e,i,s,o){this._context.arcTo(t,e,i,s,o)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,i,s,o,l){this._context.bezierCurveTo(t,e,i,s,o,l)}clearRect(t,e,i,s){this._context.clearRect(t,e,i,s)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var i=arguments;if(i.length===2)return this._context.createImageData(t,e);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,e,i,s){return this._context.createLinearGradient(t,e,i,s)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,i,s,o,l){return this._context.createRadialGradient(t,e,i,s,o,l)}drawImage(t,e,i,s,o,l,h,f,c){var g=arguments,p=this._context;g.length===3?p.drawImage(t,e,i):g.length===5?p.drawImage(t,e,i,s,o):g.length===9&&p.drawImage(t,e,i,s,o,l,h,f,c)}ellipse(t,e,i,s,o,l,h,f){this._context.ellipse(t,e,i,s,o,l,h,f)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,i,s){this._context.fillRect(t,e,i,s)}strokeRect(t,e,i,s){this._context.strokeRect(t,e,i,s)}fillText(t,e,i,s){s?this._context.fillText(t,e,i,s):this._context.fillText(t,e,i)}measureText(t){return this._context.measureText(t)}getImageData(t,e,i,s){return this._context.getImageData(t,e,i,s)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,i,s){this._context.rect(t,e,i,s)}putImageData(t,e,i){this._context.putImageData(t,e,i)}quadraticCurveTo(t,e,i,s){this._context.quadraticCurveTo(t,e,i,s)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,i,s,o,l){this._context.setTransform(t,e,i,s,o,l)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,i,s){this._context.strokeText(t,e,i,s)}transform(t,e,i,s,o,l){this._context.transform(t,e,i,s,o,l)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t=this,e=yg.length,i=this.setAttr,s,o,l=function(h){var f=t[h],c;t[h]=function(){return o=aT(Array.prototype.slice.call(arguments,0)),c=f.apply(t,arguments),t._trace({method:h,args:o}),c}};for(s=0;s<e;s++)l(yg[s]);t.setAttr=function(){i.apply(t,arguments);var h=arguments[0],f=arguments[1];(h==="shadowOffsetX"||h==="shadowOffsetY"||h==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),t._trace({property:h,val:f})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;var i=!e||e==="source-over";i||this.setAttr("globalCompositeOperation",e)}}gT.forEach(function(n){Object.defineProperty(nl.prototype,n,{get(){return this._context[n]},set(t){this._context[n]=t}})});class _T extends nl{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),i=t.getFillPriority();if(e&&i==="color"){this._fillColor(t);return}var s=t.getFillPatternImage();if(s&&i==="pattern"){this._fillPattern(t);return}var o=t.getFillLinearGradientColorStops();if(o&&i==="linear-gradient"){this._fillLinearGradient(t);return}var l=t.getFillRadialGradientColorStops();if(l&&i==="radial-gradient"){this._fillRadialGradient(t);return}e?this._fillColor(t):s?this._fillPattern(t):o?this._fillLinearGradient(t):l&&this._fillRadialGradient(t)}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),s=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(e.x,e.y,i.x,i.y);if(s){for(var l=0;l<s.length;l+=2)o.addColorStop(s[l],s[l+1]);this.setAttr("strokeStyle",o)}}_stroke(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var o=t.getStrokeLinearGradientColorStops();o?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var e,i,s,o=(e=t.getShadowRGBA())!==null&&e!==void 0?e:"black",l=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,h=(s=t.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},f=t.getAbsoluteScale(),c=this.canvas.getPixelRatio(),g=f.x*c,p=f.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",l*Math.min(Math.abs(g),Math.abs(p))),this.setAttr("shadowOffsetX",h.x*g),this.setAttr("shadowOffsetY",h.y*p)}}class vT extends nl{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var s=t.hitStrokeWidth(),o=s==="auto"?t.strokeWidth():s;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}var co;function mT(){if(co)return co;var n=D.createCanvasElement(),t=n.getContext("2d");return co=function(){var e=_t._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}(),D.releaseCanvas(n),co}class rl{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=t||{},i=e.pixelRatio||_t.pixelRatio||mT();this.pixelRatio=i,this._canvas=D.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch{try{return this._canvas.toDataURL()}catch(s){return D.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}E.addGetterSetter(rl,"pixelRatio",void 0,st());class ji extends rl{constructor(t={width:0,height:0}){super(t),this.context=new _T(this),this.setSize(t.width,t.height)}}class Xh extends rl{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new vT(this),this.setSize(t.width,t.height)}}const Yt={get isDragging(){var n=!1;return Yt._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return Yt._dragElements.forEach(t=>{n=t.node}),n},_dragElements:new Map,_drag(n){const t=[];Yt._dragElements.forEach((e,i)=>{const{node:s}=e,o=s.getStage();o.setPointersPositions(n),e.pointerId===void 0&&(e.pointerId=D._getFirstPointerId(n));const l=o._changedPointerPositions.find(c=>c.id===e.pointerId);if(!!l){if(e.dragStatus!=="dragging"){var h=s.dragDistance(),f=Math.max(Math.abs(l.x-e.startPointerPos.x),Math.abs(l.y-e.startPointerPos.y));if(f<h||(s.startDrag({evt:n}),!s.isDragging()))return}s._setDragPosition(n,e),t.push(s)}}),t.forEach(e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:n},!0)})},_endDragBefore(n){const t=[];Yt._dragElements.forEach(e=>{const{node:i}=e,s=i.getStage();if(n&&s.setPointersPositions(n),!s._changedPointerPositions.find(h=>h.id===e.pointerId))return;(e.dragStatus==="dragging"||e.dragStatus==="stopped")&&(Yt.justDragged=!0,_t._mouseListenClick=!1,_t._touchListenClick=!1,_t._pointerListenClick=!1,e.dragStatus="stopped");const l=e.node.getLayer()||e.node instanceof _t.Stage&&e.node;l&&t.indexOf(l)===-1&&t.push(l)}),t.forEach(e=>{e.draw()})},_endDragAfter(n){Yt._dragElements.forEach((t,e)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:n},!0),t.dragStatus!=="dragging"&&Yt._dragElements.delete(e)})}};_t.isBrowser&&(window.addEventListener("mouseup",Yt._endDragBefore,!0),window.addEventListener("touchend",Yt._endDragBefore,!0),window.addEventListener("mousemove",Yt._drag),window.addEventListener("touchmove",Yt._drag),window.addEventListener("mouseup",Yt._endDragAfter,!1),window.addEventListener("touchend",Yt._endDragAfter,!1));var Ao="absoluteOpacity",go="allEventListeners",Jn="absoluteTransform",bg="absoluteScale",Zr="canvas",yT="Change",bT="children",wT="konva",ih="listening",wg="mouseenter",Sg="mouseleave",Cg="set",xg="Shape",Po=" ",Eg="stage",Sr="transform",ST="Stage",sh="visible",CT=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Po);let xT=1;class at{constructor(t){this._id=xT++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Sr||t===Jn)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,e){var i=this._cache.get(t),s=t===Sr||t===Jn,o=i===void 0||s&&i.dirty===!0;return o&&(i=e.call(this),this._cache.set(t,i)),i}_calculate(t,e,i){if(!this._attachedDepsListeners.get(t)){const s=e.map(o=>o+"Change.konva").join(Po);this.on(s,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(Zr)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Jn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Zr)){const{scene:t,filter:e,hit:i}=this._cache.get(Zr);D.releaseCanvas(t,e,i),this._cache.delete(Zr)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},i={};(e.x===void 0||e.y===void 0||e.width===void 0||e.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var s=Math.ceil(e.width||i.width),o=Math.ceil(e.height||i.height),l=e.pixelRatio,h=e.x===void 0?Math.floor(i.x):e.x,f=e.y===void 0?Math.floor(i.y):e.y,c=e.offset||0,g=e.drawBorder||!1,p=e.hitCanvasPixelRatio||1;if(!s||!o){D.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}s+=c*2+1,o+=c*2+1,h-=c,f-=c;var v=new ji({pixelRatio:l,width:s,height:o}),w=new ji({pixelRatio:l,width:0,height:0}),m=new Xh({pixelRatio:p,width:s,height:o}),P=v.getContext(),T=m.getContext();return m.isCache=!0,v.isCache=!0,this._cache.delete(Zr),this._filterUpToDate=!1,e.imageSmoothingEnabled===!1&&(v.getContext()._context.imageSmoothingEnabled=!1,w.getContext()._context.imageSmoothingEnabled=!1),P.save(),T.save(),P.translate(-h,-f),T.translate(-h,-f),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Ao),this._clearSelfAndDescendantCache(bg),this.drawScene(v,this),this.drawHit(m,this),this._isUnderCache=!1,P.restore(),T.restore(),g&&(P.save(),P.beginPath(),P.rect(0,0,s,o),P.closePath(),P.setAttr("strokeStyle","red"),P.setAttr("lineWidth",5),P.stroke(),P.restore()),this._cache.set(Zr,{scene:v,filter:w,hit:m,x:h,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(Zr)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s,o,l,h,f=this.getAbsoluteTransform(e);return i.forEach(function(c){var g=f.point(c);s===void 0&&(s=l=g.x,o=h=g.y),s=Math.min(s,g.x),o=Math.min(o,g.y),l=Math.max(l,g.x),h=Math.max(h,g.y)}),{x:s,y:o,width:l-s,height:h-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),s=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/s,i.height/s),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),e=this._getCanvasCache(),i=e.scene,s=e.filter,o=s.getContext(),l,h,f,c;if(t){if(!this._filterUpToDate){var g=i.pixelRatio;s.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(l=t.length,o.clear(),o.drawImage(i._canvas,0,0,i.getWidth()/g,i.getHeight()/g),h=o.getImageData(0,0,s.getWidth(),s.getHeight()),f=0;f<l;f++){if(c=t[f],typeof c!="function"){D.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,h),o.putImageData(h,0,0)}}catch(p){D.error("Unable to apply filter. "+p.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return i}on(t,e){if(this._cache&&this._cache.delete(go),arguments.length===3)return this._delegate.apply(this,arguments);var i=t.split(Po),s=i.length,o,l,h,f,c;for(o=0;o<s;o++)l=i[o],h=l.split("."),f=h[0],c=h[1]||"",this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:c,handler:e});return this}off(t,e){var i=(t||"").split(Po),s=i.length,o,l,h,f,c,g;if(this._cache&&this._cache.delete(go),!t)for(l in this.eventListeners)this._off(l);for(o=0;o<s;o++)if(h=i[o],f=h.split("."),c=f[0],g=f[1],c)this.eventListeners[c]&&this._off(c,g,e);else for(l in this.eventListeners)this._off(l,g,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,function(i){e.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,i){var s=this;this.on(t,function(o){for(var l=o.target.findAncestors(e,!0,s),h=0;h<l.length;h++)o=D.cloneObject(o),o.currentTarget=l[h],i.call(l[h],o)})}remove(){return this.isDragging()&&this.stopDrag(),Yt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Jn),this._clearSelfAndDescendantCache(Ao),this._clearSelfAndDescendantCache(bg),this._clearSelfAndDescendantCache(Eg),this._clearSelfAndDescendantCache(sh),this._clearSelfAndDescendantCache(ih)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+D._capitalize(t);return D._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var e,i;if(!t)return this;for(e in t)e!==bT&&(i=Cg+D._capitalize(e),D._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]))}),this}isListening(){return this._getCache(ih,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(sh,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),s=!1;Yt._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===i)&&(s=!0)});var o=!e&&!_t.hitOnDragEnabled&&s;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),e=this,i=0,s,o,l,h;function f(c){for(s=[],o=c.length,l=0;l<o;l++)h=c[l],i++,h.nodeType!==xg&&(s=s.concat(h.getChildren().slice())),h._id===e._id&&(l=o);s.length>0&&s[0].getDepth()<=t&&f(s)}return e.nodeType!==ST&&f(e.getStage().getChildren()),i}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Sr),this._clearSelfAndDescendantCache(Jn)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,i=this.parent;for(;i;){if(i.isCached()){e=!0;break}i=i.parent}e&&!t&&(t=!0);var s=this.getAbsoluteTransform(t).getMatrix(),o=new on,l=this.offset();return o.m=s.slice(),o.translate(l.x,l.y),o.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(Sr);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(Sr),this._clearSelfAndDescendantCache(Jn),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,i=t.y,s=this.x(),o=this.y();return e!==void 0&&(s+=e),i!==void 0&&(o+=i),this.setPosition({x:s,y:o}),this}_eachAncestorReverse(t,e){var i=[],s=this.getParent(),o,l;if(!(e&&e._id===this._id)){for(i.unshift(this);s&&(!e||s._id!==e._id);)i.unshift(s),s=s.parent;for(o=i.length,l=0;l<o;l++)t(i[l])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return D.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,e=this.parent.getChildren().length;return t<e-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return D.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,e=this.parent.getChildren().length;return t<e-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return D.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return D.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return D.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&D.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Ao,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},e=this.getAttrs(),i,s,o,l,h;t.attrs={};for(i in e)s=e[i],h=D.isObject(s)&&!D._isPlainObject(s)&&!D._isArray(s),!h&&(o=typeof this[i]=="function"&&this[i],delete e[i],l=o?o.call(this):null,e[i]=s,l!==s&&(t.attrs[i]=s));return t.className=this.getClassName(),D._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,i){var s=[];e&&this._isMatch(t)&&s.push(this);for(var o=this.parent;o;){if(o===i)return s;o._isMatch(t)&&s.push(o),o=o.parent}return s}isAncestorOf(t){return!1}findAncestor(t,e,i){return this.findAncestors(t,e,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var e=t.replace(/ /g,"").split(","),i=e.length,s,o;for(s=0;s<i;s++)if(o=e[s],D.isValidSelector(o)||(D.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),D.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),D.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(Eg,this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,e={},i){return e.target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Jn,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new on,this._eachAncestorReverse(function(s){var o=s.transformsEnabled();o==="all"?e.multiply(s.getTransform()):o==="position"&&e.translate(s.x()-s.offsetX(),s.y()-s.offsetY())},t),e;e=this._cache.get(Jn)||new on,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var i=this.transformsEnabled();if(i==="all")e.multiply(this.getTransform());else if(i==="position"){const s=this.attrs.x||0,o=this.attrs.y||0,l=this.attrs.offsetX||0,h=this.attrs.offsetY||0;e.translate(s-l,o-h)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const s=this.getAbsoluteTransform(t).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Sr,this._getTransform)}_getTransform(){var t,e,i=this._cache.get(Sr)||new on;i.reset();var s=this.x(),o=this.y(),l=_t.getAngle(this.rotation()),h=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,f=(e=this.attrs.scaleY)!==null&&e!==void 0?e:1,c=this.attrs.skewX||0,g=this.attrs.skewY||0,p=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(s!==0||o!==0)&&i.translate(s,o),l!==0&&i.rotate(l),(c!==0||g!==0)&&i.skew(c,g),(h!==1||f!==1)&&i.scale(h,f),(p!==0||v!==0)&&i.translate(-1*p,-1*v),i.dirty=!1,i}clone(t){var e=D.cloneObject(this.attrs),i,s,o,l,h;for(i in t)e[i]=t[i];var f=new this.constructor(e);for(i in this.eventListeners)for(s=this.eventListeners[i],o=s.length,l=0;l<o;l++)h=s[l],h.name.indexOf(wT)<0&&(f.eventListeners[i]||(f.eventListeners[i]=[]),f.eventListeners[i].push(h));return f}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),s=t.x!==void 0?t.x:Math.floor(e.x),o=t.y!==void 0?t.y:Math.floor(e.y),l=t.pixelRatio||1,h=new ji({width:t.width||Math.ceil(e.width)||(i?i.width():0),height:t.height||Math.ceil(e.height)||(i?i.height():0),pixelRatio:l}),f=h.getContext();return t.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(s||o)&&f.translate(-1*s,-1*o),this.drawScene(h),f.restore(),h}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var e=t.mimeType||null,i=t.quality||null,s=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(s),s}toImage(t){return new Promise((e,i)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,D._urlToImage(this.toDataURL(t),function(o){e(o),s==null||s(o)})}catch(s){i(s)}})}toBlob(t){return new Promise((e,i)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,this.toCanvas(t).toBlob(o=>{e(o),s==null||s(o)})}catch(s){i(s)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():_t.dragDistance}_off(t,e,i){var s=this.eventListeners[t],o,l,h;for(o=0;o<s.length;o++)if(l=s[o].name,h=s[o].handler,(l!=="konva"||e==="konva")&&(!e||l===e)&&(!i||i===h)){if(s.splice(o,1),s.length===0){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,e,i){this._fire(t+yT,{oldVal:e,newVal:i})}addName(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const e=this.name();if(!e)return!1;var i=(e||"").split(/\s/g);return i.indexOf(t)!==-1}removeName(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return i!==-1&&(e.splice(i,1),this.name(e.join(" "))),this}setAttr(t,e){var i=this[Cg+D._capitalize(t)];return D._isFunction(i)?i.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(_t.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,e){var i=this.attrs[t];i===e&&!D.isObject(e)||(e==null?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e),this._requestDraw())}_setComponentAttr(t,e,i){var s;i!==void 0&&(s=this.attrs[t],s||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,s,i))}_fireAndBubble(t,e,i){e&&this.nodeType===xg&&(e.target=this);var s=(t===wg||t===Sg)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!s){this._fire(t,e);var o=(t===wg||t===Sg)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!o&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(go);if(!e){e={};let s=Object.getPrototypeOf(this);for(;s;){if(!s.eventListeners){s=Object.getPrototypeOf(s);continue}for(var i in s.eventListeners){const o=s.eventListeners[i],l=e[i]||[];e[i]=o.concat(l)}s=Object.getPrototypeOf(s)}this._cache.set(go,e)}return e[t]}_fire(t,e){e=e||{},e.currentTarget=this,e.type=t;const i=this._getProtoListeners(t);if(i)for(var s=0;s<i.length;s++)i[s].handler.call(this,e);const o=this.eventListeners[t];if(o)for(var s=0;s<o.length;s++)o[s].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,i=this.getStage(),s=this.getAbsolutePosition(),o=i._getPointerById(e)||i._changedPointerPositions[0]||s;Yt._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-s.x,y:o.y-s.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){Yt._dragElements.has(this._id)||this._createDragElement(t);const i=Yt._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const i=this.getStage()._getPointerById(e.pointerId);if(!!i){var s={x:i.x-e.offset.x,y:i.y-e.offset.y},o=this.dragBoundFunc();if(o!==void 0){const l=o.call(this,s,t);l?s=l:D.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}}stopDrag(t){const e=Yt._dragElements.get(this._id);e&&(e.dragStatus="stopped"),Yt._endDragBefore(t),Yt._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Yt._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var e=t.evt.button!==void 0,i=!e||_t.dragButtons.indexOf(t.evt.button)>=0;if(!!i&&!this.isDragging()){var s=!1;Yt._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(s=!0)}),s||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const e=Yt._dragElements.get(this._id),i=e&&e.dragStatus==="dragging",s=e&&e.dragStatus==="ready";i?this.stopDrag():s&&Yt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const i={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return D.haveIntersection(i,this.getClientRect())}static create(t,e){return D._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var i=at.prototype.getClassName.call(t),s=t.children,o,l,h;e&&(t.attrs.container=e),_t[i]||(D.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const f=_t[i];if(o=new f(t.attrs),s)for(l=s.length,h=0;h<l;h++)o.add(at._createNode(s[h]));return o}}at.prototype.nodeType="Node";at.prototype._attrsAffectingSize=[];at.prototype.eventListeners={};at.prototype.on.call(at.prototype,CT,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Sr),this._clearSelfAndDescendantCache(Jn)});at.prototype.on.call(at.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(sh)});at.prototype.on.call(at.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(ih)});at.prototype.on.call(at.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Ao)});const ee=E.addGetterSetter;ee(at,"zIndex");ee(at,"absolutePosition");ee(at,"position");ee(at,"x",0,st());ee(at,"y",0,st());ee(at,"globalCompositeOperation","source-over",is());ee(at,"opacity",1,st());ee(at,"name","",is());ee(at,"id","",is());ee(at,"rotation",0,st());E.addComponentsGetterSetter(at,"scale",["x","y"]);ee(at,"scaleX",1,st());ee(at,"scaleY",1,st());E.addComponentsGetterSetter(at,"skew",["x","y"]);ee(at,"skewX",0,st());ee(at,"skewY",0,st());E.addComponentsGetterSetter(at,"offset",["x","y"]);ee(at,"offsetX",0,st());ee(at,"offsetY",0,st());ee(at,"dragDistance",null,st());ee(at,"width",0,st());ee(at,"height",0,st());ee(at,"listening",!0,Rn());ee(at,"preventDefault",!0,Rn());ee(at,"filters",null,function(n){return this._filterUpToDate=!1,n});ee(at,"visible",!0,Rn());ee(at,"transformsEnabled","all",is());ee(at,"size");ee(at,"dragBoundFunc");ee(at,"draggable",!1,Rn());E.backCompat(at,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class un extends at{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var i=[];return e.forEach(function(s){t(s)&&i.push(s)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var i=[];return this._descendants(s=>{const o=s._isMatch(t);return o&&i.push(s),!!(o&&e)}),i}_descendants(t){let e=!1;const i=this.getChildren();for(const s of i){if(e=t(s),e)return!0;if(!!s.hasChildren()&&(e=s._descendants(t),e))return!0}return!1}toObject(){var t=at.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(e=>{t.children.push(e.toObject())}),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=at.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){e.add(i.clone())}),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(t)&&e.push(i)}),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),!this.isCached()&&((e=this.children)===null||e===void 0||e.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(e,i){e.index=i}),this._requestDraw()}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas(),o=s&&s.getContext(),l=this._getCanvasCache(),h=l&&l.scene,f=s&&s.isCache;if(!this.isVisible()&&!f)return this;if(h){o.save();var c=this.getAbsoluteTransform(e).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),s=t||i&&i.hitCanvas,o=s&&s.getContext(),l=this._getCanvasCache(),h=l&&l.hit;if(h){o.save();var f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",s,e);return this}_drawChildren(t,e,i){var s,o=e&&e.getContext(),l=this.clipWidth(),h=this.clipHeight(),f=this.clipFunc(),c=l&&h||f;const g=i===this;if(c){o.save();var p=this.getAbsoluteTransform(i),v=p.getMatrix();if(o.transform(v[0],v[1],v[2],v[3],v[4],v[5]),o.beginPath(),f)f.call(this,o,this);else{var w=this.clipX(),m=this.clipY();o.rect(w,m,l,h)}o.clip(),v=p.copy().invert().getMatrix(),o.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var P=!g&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";P&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(T){T[t](e,i)}),P&&o.restore(),c&&o.restore()}getClientRect(t){var e;t=t||{};var i=t.skipTransform,s=t.relativeTo,o,l,h,f,c={x:1/0,y:1/0,width:0,height:0},g=this;(e=this.children)===null||e===void 0||e.forEach(function(P){if(!!P.visible()){var T=P.getClientRect({relativeTo:g,skipShadow:t.skipShadow,skipStroke:t.skipStroke});T.width===0&&T.height===0||(o===void 0?(o=T.x,l=T.y,h=T.x+T.width,f=T.y+T.height):(o=Math.min(o,T.x),l=Math.min(l,T.y),h=Math.max(h,T.x+T.width),f=Math.max(f,T.y+T.height)))}});for(var p=this.find("Shape"),v=!1,w=0;w<p.length;w++){var m=p[w];if(m._isVisible(this)){v=!0;break}}return v&&o!==void 0?c={x:o,y:l,width:h-o,height:f-l}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,s)}}E.addComponentsGetterSetter(un,"clip",["x","y","width","height"]);E.addGetterSetter(un,"clipX",void 0,st());E.addGetterSetter(un,"clipY",void 0,st());E.addGetterSetter(un,"clipWidth",void 0,st());E.addGetterSetter(un,"clipHeight",void 0,st());E.addGetterSetter(un,"clipFunc");const Qs=new Map,L_=_t._global.PointerEvent!==void 0;function Ru(n){return Qs.get(n)}function qh(n){return{evt:n,pointerId:n.pointerId}}function I_(n,t){return Qs.get(n)===t}function k_(n,t){Bs(n),t.getStage()&&(Qs.set(n,t),L_&&t._fire("gotpointercapture",qh(new PointerEvent("gotpointercapture"))))}function Bs(n,t){const e=Qs.get(n);if(!e)return;const i=e.getStage();i&&i.content,Qs.delete(n),L_&&e._fire("lostpointercapture",qh(new PointerEvent("lostpointercapture")))}var ET="Stage",TT="string",Tg="px",AT="mouseout",F_="mouseleave",D_="mouseover",N_="mouseenter",G_="mousemove",B_="mousedown",H_="mouseup",Rs="pointermove",Os="pointerdown",Hi="pointerup",Ms="pointercancel",PT="lostpointercapture",po="pointerout",_o="pointerleave",vo="pointerover",mo="pointerenter",ah="contextmenu",U_="touchstart",W_="touchend",z_="touchmove",Y_="touchcancel",oh="wheel",RT=5,OT=[[N_,"_pointerenter"],[B_,"_pointerdown"],[G_,"_pointermove"],[H_,"_pointerup"],[F_,"_pointerleave"],[U_,"_pointerdown"],[z_,"_pointermove"],[W_,"_pointerup"],[Y_,"_pointercancel"],[D_,"_pointerover"],[oh,"_wheel"],[ah,"_contextmenu"],[Os,"_pointerdown"],[Rs,"_pointermove"],[Hi,"_pointerup"],[Ms,"_pointercancel"],[PT,"_lostpointercapture"]];const Ou={mouse:{[po]:AT,[_o]:F_,[vo]:D_,[mo]:N_,[Rs]:G_,[Os]:B_,[Hi]:H_,[Ms]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[po]:"touchout",[_o]:"touchleave",[vo]:"touchover",[mo]:"touchenter",[Rs]:z_,[Os]:U_,[Hi]:W_,[Ms]:Y_,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[po]:po,[_o]:_o,[vo]:vo,[mo]:mo,[Rs]:Rs,[Os]:Os,[Hi]:Hi,[Ms]:Ms,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ls=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Di=n=>{const t=Ls(n);if(t==="pointer")return _t.pointerEventsEnabled&&Ou.pointer;if(t==="touch")return Ou.touch;if(t==="mouse")return Ou.mouse};function Ag(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&D.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const MT="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Ro=[];class il extends un{constructor(t){super(Ag(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Ro.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Ag(this.attrs)}),this._checkVisibility()}_validateAdd(t){const e=t.getType()==="Layer",i=t.getType()==="FastLayer";e||i||D.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===TT){if(t.charAt(0)==="."){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;t.charAt(0)!=="#"?i=t:i=t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t=this.children,e=t.length,i;for(i=0;i<e;i++)t[i].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),un.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&D._isInDocument(t)&&this.container().removeChild(t);var e=Ro.indexOf(this);return e>-1&&Ro.splice(e,1),D.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(D.warn(MT),null)}_getPointerById(t){return this._pointerPositions.find(e=>e.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t=t||{},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new ji({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=e.getContext()._context,s=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),s.forEach(function(o){if(!!o.isVisible()){var l=o._toKonvaCanvas(t);i.drawImage(l._canvas,t.x,t.y,l.getWidth()/l.getPixelRatio(),l.getHeight()/l.getPixelRatio())}}),e}getIntersection(t){if(!t)return null;var e=this.children,i=e.length,s=i-1,o;for(o=s;o>=0;o--){const l=e[o].getIntersection(t);if(l)return l}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+Tg,this.content.style.height=e+Tg),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach(i=>{i.setSize({width:t,height:e}),i.draw()})}add(t,...e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(t);var s=this.children.length;return s>RT&&D.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),_t.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return I_(t,this)}setPointerCapture(t){k_(t,this)}releaseCapture(t){Bs(t)}getLayers(){return this.children}_bindContentEvents(){!_t.isBrowser||OT.forEach(([t,e])=>{this.content.addEventListener(t,i=>{this[e](i)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const e=Di(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=Di(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=Di(t.type),i=Ls(t.type);if(!!e){this.setPointersPositions(t);var s=this._getTargetShape(i),o=!Yt.isDragging||_t.hitOnDragEnabled;s&&o?(s._fireAndBubble(e.pointerout,{evt:t}),s._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[i+"targetShape"]=null):o&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=Di(t.type),i=Ls(t.type);if(!!e){this.setPointersPositions(t);var s=!1;this._changedPointerPositions.forEach(o=>{var l=this.getIntersection(o);if(Yt.justDragged=!1,_t["_"+i+"ListenClick"]=!0,!(l&&l.isListening()))return;_t.capturePointerEventsEnabled&&l.setPointerCapture(o.id),this[i+"ClickStartShape"]=l,l._fireAndBubble(e.pointerdown,{evt:t,pointerId:o.id}),s=!0;const f=t.type.indexOf("touch")>=0;l.preventDefault()&&t.cancelable&&f&&t.preventDefault()}),s||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=Di(t.type),i=Ls(t.type);if(!e)return;Yt.isDragging&&Yt.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t);var s=!Yt.isDragging||_t.hitOnDragEnabled;if(!s)return;var o={};let l=!1;var h=this._getTargetShape(i);this._changedPointerPositions.forEach(f=>{const c=Ru(f.id)||this.getIntersection(f),g=f.id,p={evt:t,pointerId:g};var v=h!==c;if(v&&h&&(h._fireAndBubble(e.pointerout,Object.assign({},p),c),h._fireAndBubble(e.pointerleave,Object.assign({},p),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(l=!0,v&&(c._fireAndBubble(e.pointerover,Object.assign({},p),h),c._fireAndBubble(e.pointerenter,Object.assign({},p),h),this[i+"targetShape"]=c),c._fireAndBubble(e.pointermove,Object.assign({},p))):h&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:g}),this[i+"targetShape"]=null)}),l||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=Di(t.type),i=Ls(t.type);if(!e)return;this.setPointersPositions(t);const s=this[i+"ClickStartShape"],o=this[i+"ClickEndShape"];var l={};let h=!1;this._changedPointerPositions.forEach(f=>{const c=Ru(f.id)||this.getIntersection(f);if(c){if(c.releaseCapture(f.id),l[c._id])return;l[c._id]=!0}const g=f.id,p={evt:t,pointerId:g};let v=!1;_t["_"+i+"InDblClickWindow"]?(v=!0,clearTimeout(this[i+"DblTimeout"])):Yt.justDragged||(_t["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout(function(){_t["_"+i+"InDblClickWindow"]=!1},_t.dblClickWindow),c&&c.isListening()?(h=!0,this[i+"ClickEndShape"]=c,c._fireAndBubble(e.pointerup,Object.assign({},p)),_t["_"+i+"ListenClick"]&&s&&s===c&&(c._fireAndBubble(e.pointerclick,Object.assign({},p)),v&&o&&o===c&&c._fireAndBubble(e.pointerdblclick,Object.assign({},p)))):(this[i+"ClickEndShape"]=null,_t["_"+i+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:g}),v&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:g}))}),h||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),_t["_"+i+"ListenClick"]=!1,t.cancelable&&i!=="touch"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(ah,{evt:t}):this._fire(ah,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(oh,{evt:t}):this._fire(oh,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=Ru(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(Hi,qh(t)),Bs(t.pointerId)}_lostpointercapture(t){Bs(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),i=null,s=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-e.left)/e.scaleX,y:(o.clientY-e.top)/e.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-e.left)/e.scaleX,y:(o.clientY-e.top)/e.scaleY})})):(i=(t.clientX-e.left)/e.scaleX,s=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:i,y:s},this._pointerPositions=[{x:i,y:s,id:D._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:s,id:D._getFirstPointerId(t)}])}_setPointerPosition(t){D.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ji({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Xh({pixelRatio:1,width:this.width(),height:this.height()}),!!_t.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return D.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}}il.prototype.nodeType=ET;ce(il);E.addGetterSetter(il,"container");var $_="hasShadow",K_="shadowRGBA",X_="patternImage",q_="linearGradient",V_="radialGradient";let yo;function Mu(){return yo||(yo=D.createCanvasElement().getContext("2d"),yo)}const Hs={};function LT(n){n.fill()}function IT(n){n.stroke()}function kT(n){n.fill()}function FT(n){n.stroke()}function DT(){this._clearCache($_)}function NT(){this._clearCache(K_)}function GT(){this._clearCache(X_)}function BT(){this._clearCache(q_)}function HT(){this._clearCache(V_)}class nt extends at{constructor(t){super(t);let e;for(;e=D.getRandomColor(),!(e&&!(e in Hs)););this.colorKey=e,Hs[e]=this}getContext(){return D.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return D.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache($_,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(X_,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var t=Mu();const e=t.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const i=new on;i.translate(this.fillPatternX(),this.fillPatternY()),i.rotate(_t.getAngle(this.fillPatternRotation())),i.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),i.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=i.getMatrix(),o=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);e.setTransform(o)}return e}}_getLinearGradient(){return this._getCache(q_,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=Mu(),i=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),o=e.createLinearGradient(i.x,i.y,s.x,s.y),l=0;l<t.length;l+=2)o.addColorStop(t[l],t[l+1]);return o}}_getRadialGradient(){return this._getCache(V_,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=Mu(),i=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),o=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius()),l=0;l<t.length;l+=2)o.addColorStop(t[l],t[l+1]);return o}}getShadowRGBA(){return this._getCache(K_,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var t=D.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage(),i=e.bufferHitCanvas,s;return i.getContext().clear(),this.drawHit(i,null,!0),s=i.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,s[3]>0}destroy(){return at.prototype.destroy.call(this),delete Hs[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage()||!((e=this.attrs.perfectDrawEnabled)!==null&&e!==void 0?e:!0))return!1;const s=t||this.hasFill(),o=this.hasStroke(),l=this.getAbsoluteOpacity()!==1;if(s&&o&&l)return!0;const h=this.hasShadow(),f=this.shadowForStrokeEnabled();return!!(s&&o&&h&&f)}setStrokeHitEnabled(t){D.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,i=t.relativeTo,s=this.getSelfRect(),l=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,h=s.width+l,f=s.height+l,c=!t.skipShadow&&this.hasShadow(),g=c?this.shadowOffsetX():0,p=c?this.shadowOffsetY():0,v=h+Math.abs(g),w=f+Math.abs(p),m=c&&this.shadowBlur()||0,P=v+m*2,T=w+m*2,A={width:P,height:T,x:-(l/2+m)+Math.min(g,0)+s.x,y:-(l/2+m)+Math.min(p,0)+s.y};return e?A:this._transformedRect(A,i)}drawScene(t,e){var i=this.getLayer(),s=t||i.getCanvas(),o=s.getContext(),l=this._getCanvasCache(),h=this.getSceneFunc(),f=this.hasShadow(),c,g,p,v=s.isCache,w=e===this;if(!this.isVisible()&&!w)return this;if(l){o.save();var m=this.getAbsoluteTransform(e).getMatrix();return o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!h)return this;if(o.save(),this._useBufferCanvas()&&!v){c=this.getStage(),g=c.bufferCanvas,p=g.getContext(),p.clear(),p.save(),p._applyLineJoin(this);var P=this.getAbsoluteTransform(e).getMatrix();p.transform(P[0],P[1],P[2],P[3],P[4],P[5]),h.call(this,p,this),p.restore();var T=g.pixelRatio;f&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(g._canvas,0,0,g.width/T,g.height/T)}else{if(o._applyLineJoin(this),!w){var P=this.getAbsoluteTransform(e).getMatrix();o.transform(P[0],P[1],P[2],P[3],P[4],P[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}f&&o._applyShadow(this),h.call(this,o,this)}return o.restore(),this}drawHit(t,e,i=!1){if(!this.shouldDrawHit(e,i))return this;var s=this.getLayer(),o=t||s.hitCanvas,l=o&&o.getContext(),h=this.hitFunc()||this.sceneFunc(),f=this._getCanvasCache(),c=f&&f.hit;if(this.colorKey||D.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){l.save();var g=this.getAbsoluteTransform(e).getMatrix();return l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore(),this}if(!h)return this;if(l.save(),l._applyLineJoin(this),!(this===e)){var v=this.getAbsoluteTransform(e).getMatrix();l.transform(v[0],v[1],v[2],v[3],v[4],v[5])}return h.call(this,l,this),l.restore(),this}drawHitFromCache(t=0){var e=this._getCanvasCache(),i=this._getCachedSceneCanvas(),s=e.hit,o=s.getContext(),l=s.getWidth(),h=s.getHeight(),f,c,g,p,v,w;o.clear(),o.drawImage(i._canvas,0,0,l,h);try{for(f=o.getImageData(0,0,l,h),c=f.data,g=c.length,p=D._hexToRgb(this.colorKey),v=0;v<g;v+=4)w=c[v+3],w>t?(c[v]=p.r,c[v+1]=p.g,c[v+2]=p.b,c[v+3]=255):c[v+3]=0;o.putImageData(f,0,0)}catch(m){D.error("Unable to draw hit graph from cached scene canvas. "+m.message)}return this}hasPointerCapture(t){return I_(t,this)}setPointerCapture(t){k_(t,this)}releaseCapture(t){Bs(t)}}nt.prototype._fillFunc=LT;nt.prototype._strokeFunc=IT;nt.prototype._fillFuncHit=kT;nt.prototype._strokeFuncHit=FT;nt.prototype._centroid=!1;nt.prototype.nodeType="Shape";ce(nt);nt.prototype.eventListeners={};nt.prototype.on.call(nt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",DT);nt.prototype.on.call(nt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",NT);nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",GT);nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",BT);nt.prototype.on.call(nt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",HT);E.addGetterSetter(nt,"stroke",void 0,M_());E.addGetterSetter(nt,"strokeWidth",2,st());E.addGetterSetter(nt,"fillAfterStrokeEnabled",!1);E.addGetterSetter(nt,"hitStrokeWidth","auto",Kh());E.addGetterSetter(nt,"strokeHitEnabled",!0,Rn());E.addGetterSetter(nt,"perfectDrawEnabled",!0,Rn());E.addGetterSetter(nt,"shadowForStrokeEnabled",!0,Rn());E.addGetterSetter(nt,"lineJoin");E.addGetterSetter(nt,"lineCap");E.addGetterSetter(nt,"sceneFunc");E.addGetterSetter(nt,"hitFunc");E.addGetterSetter(nt,"dash");E.addGetterSetter(nt,"dashOffset",0,st());E.addGetterSetter(nt,"shadowColor",void 0,is());E.addGetterSetter(nt,"shadowBlur",0,st());E.addGetterSetter(nt,"shadowOpacity",1,st());E.addComponentsGetterSetter(nt,"shadowOffset",["x","y"]);E.addGetterSetter(nt,"shadowOffsetX",0,st());E.addGetterSetter(nt,"shadowOffsetY",0,st());E.addGetterSetter(nt,"fillPatternImage");E.addGetterSetter(nt,"fill",void 0,M_());E.addGetterSetter(nt,"fillPatternX",0,st());E.addGetterSetter(nt,"fillPatternY",0,st());E.addGetterSetter(nt,"fillLinearGradientColorStops");E.addGetterSetter(nt,"strokeLinearGradientColorStops");E.addGetterSetter(nt,"fillRadialGradientStartRadius",0);E.addGetterSetter(nt,"fillRadialGradientEndRadius",0);E.addGetterSetter(nt,"fillRadialGradientColorStops");E.addGetterSetter(nt,"fillPatternRepeat","repeat");E.addGetterSetter(nt,"fillEnabled",!0);E.addGetterSetter(nt,"strokeEnabled",!0);E.addGetterSetter(nt,"shadowEnabled",!0);E.addGetterSetter(nt,"dashEnabled",!0);E.addGetterSetter(nt,"strokeScaleEnabled",!0);E.addGetterSetter(nt,"fillPriority","color");E.addComponentsGetterSetter(nt,"fillPatternOffset",["x","y"]);E.addGetterSetter(nt,"fillPatternOffsetX",0,st());E.addGetterSetter(nt,"fillPatternOffsetY",0,st());E.addComponentsGetterSetter(nt,"fillPatternScale",["x","y"]);E.addGetterSetter(nt,"fillPatternScaleX",1,st());E.addGetterSetter(nt,"fillPatternScaleY",1,st());E.addComponentsGetterSetter(nt,"fillLinearGradientStartPoint",["x","y"]);E.addComponentsGetterSetter(nt,"strokeLinearGradientStartPoint",["x","y"]);E.addGetterSetter(nt,"fillLinearGradientStartPointX",0);E.addGetterSetter(nt,"strokeLinearGradientStartPointX",0);E.addGetterSetter(nt,"fillLinearGradientStartPointY",0);E.addGetterSetter(nt,"strokeLinearGradientStartPointY",0);E.addComponentsGetterSetter(nt,"fillLinearGradientEndPoint",["x","y"]);E.addComponentsGetterSetter(nt,"strokeLinearGradientEndPoint",["x","y"]);E.addGetterSetter(nt,"fillLinearGradientEndPointX",0);E.addGetterSetter(nt,"strokeLinearGradientEndPointX",0);E.addGetterSetter(nt,"fillLinearGradientEndPointY",0);E.addGetterSetter(nt,"strokeLinearGradientEndPointY",0);E.addComponentsGetterSetter(nt,"fillRadialGradientStartPoint",["x","y"]);E.addGetterSetter(nt,"fillRadialGradientStartPointX",0);E.addGetterSetter(nt,"fillRadialGradientStartPointY",0);E.addComponentsGetterSetter(nt,"fillRadialGradientEndPoint",["x","y"]);E.addGetterSetter(nt,"fillRadialGradientEndPointX",0);E.addGetterSetter(nt,"fillRadialGradientEndPointY",0);E.addGetterSetter(nt,"fillPatternRotation",0);E.backCompat(nt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var UT="#",WT="beforeDraw",zT="draw",j_=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],YT=j_.length;class di extends un{constructor(t){super(t),this.canvas=new ji,this.hitCanvas=new Xh({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){at.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=at.prototype.moveUp.call(this);if(!t)return!1;var e=this.getStage();return!e||!e.content?!1:(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(at.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(at.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return at.prototype.remove.call(this),t&&t.parentNode&&D._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();e!=="Group"&&e!=="Shape"&&D.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),at.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){D.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){D.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,D.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,i=!1;;){for(let s=0;s<YT;s++){const o=j_[s],l=this._getIntersection({x:t.x+o.x*e,y:t.y+o.y*e}),h=l.shape;if(h)return h;if(i=!!l.antialiased,!l.antialiased)break}if(i)e+=1;else return null}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,s=i[3];if(s===255){const o=D._rgbToHex(i[0],i[1],i[2]),l=Hs[UT+o];return l?{shape:l}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas();return this._fire(WT,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),un.prototype.drawScene.call(this,s,e),this._fire(zT,{node:this}),this}drawHit(t,e){var i=this.getLayer(),s=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),un.prototype.drawHit.call(this,s,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){D.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return D.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,e=!!this.hitCanvas._canvas.parentNode;e?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return D.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}di.prototype.nodeType="Layer";ce(di);E.addGetterSetter(di,"imageSmoothingEnabled",!0);E.addGetterSetter(di,"clearBeforeDraw",!0);E.addGetterSetter(di,"hitGraphEnabled",!0,Rn());class Vh extends di{constructor(t){super(t),this.listening(!1),D.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Vh.prototype.nodeType="FastLayer";ce(Vh);class es extends un{_validateAdd(t){var e=t.getType();e!=="Group"&&e!=="Shape"&&D.throw("You may only add groups and shapes to groups.")}}es.prototype.nodeType="Group";ce(es);var Lu=function(){return Vi.performance&&Vi.performance.now?function(){return Vi.performance.now()}:function(){return new Date().getTime()}}();class wn{constructor(t,e){this.id=wn.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Lu(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return t?t.length>0?e=t:e=[t]:e=[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e=this.layers,i=e.length,s;for(s=0;s<i;s++)if(e[s]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t=wn,e=t.animations,i=e.length,s;for(s=0;s<i;s++)if(e[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Lu(),wn._addAnimation(this),this}stop(){return wn._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e=t.id,i=this.animations,s=i.length,o;for(o=0;o<s;o++)if(i[o].id===e){this.animations.splice(o,1);break}}static _runFrames(){var t={},e=this.animations,i,s,o,l,h,f,c,g,p;for(l=0;l<e.length;l++)if(i=e[l],s=i.layers,o=i.func,i._updateFrameObject(Lu()),f=s.length,o?p=o.call(i,i.frame)!==!1:p=!0,!!p)for(h=0;h<f;h++)c=s[h],c._id!==void 0&&(t[c._id]=c);for(g in t)!t.hasOwnProperty(g)||t[g].batchDraw()}static _animationLoop(){var t=wn;t.animations.length?(t._runFrames(),D.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,D.requestAnimFrame(this._animationLoop))}}wn.animations=[];wn.animIdCounter=0;wn.animRunning=!1;var $T={node:1,duration:1,easing:1,onFinish:1,yoyo:1},KT=1,Pg=2,Rg=3,XT=0,Og=["fill","stroke","shadowColor"];class qT{constructor(t,e,i,s,o,l,h){this.prop=t,this.propFunc=e,this.begin=s,this._pos=s,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=h,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=o-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=Pg,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Rg,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;this.state===Pg?this.setTime(t):this.state===Rg&&this.setTime(this.duration-t)}pause(){this.state=KT,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ve{constructor(t){var e=this,i=t.node,s=i._id,o,l=t.easing||Us.Linear,h=!!t.yoyo,f;typeof t.duration>"u"?o=.3:t.duration===0?o=.001:o=t.duration,this.node=i,this._id=XT++;var c=i.getLayer()||(i instanceof _t.Stage?i.getLayers():null);c||D.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new wn(function(){e.tween.onEnterFrame()},c),this.tween=new qT(f,function(g){e._tweenFunc(g)},l,0,1,o*1e3,h),this._addListeners(),ve.attrs[s]||(ve.attrs[s]={}),ve.attrs[s][this._id]||(ve.attrs[s][this._id]={}),ve.tweens[s]||(ve.tweens[s]={});for(f in t)$T[f]===void 0&&this._addAttr(f,t[f]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var i=this.node,s=i._id,o,l,h,f,c,g,p,v;if(h=ve.tweens[s][t],h&&delete ve.attrs[s][h][t],o=i.getAttr(t),D._isArray(e))if(l=[],c=Math.max(e.length,o.length),t==="points"&&e.length!==o.length&&(e.length>o.length?(p=o,o=D._prepareArrayForTween(o,e,i.closed())):(g=e,e=D._prepareArrayForTween(e,o,i.closed()))),t.indexOf("fill")===0)for(f=0;f<c;f++)if(f%2===0)l.push(e[f]-o[f]);else{var w=D.colorToRGBA(o[f]);v=D.colorToRGBA(e[f]),o[f]=w,l.push({r:v.r-w.r,g:v.g-w.g,b:v.b-w.b,a:v.a-w.a})}else for(f=0;f<c;f++)l.push(e[f]-o[f]);else Og.indexOf(t)!==-1?(o=D.colorToRGBA(o),v=D.colorToRGBA(e),l={r:v.r-o.r,g:v.g-o.g,b:v.b-o.b,a:v.a-o.a}):l=e-o;ve.attrs[s][this._id][t]={start:o,diff:l,end:e,trueEnd:g,trueStart:p},ve.tweens[s][t]=this._id}_tweenFunc(t){var e=this.node,i=ve.attrs[e._id][this._id],s,o,l,h,f,c,g,p;for(s in i){if(o=i[s],l=o.start,h=o.diff,p=o.end,D._isArray(l))if(f=[],g=Math.max(l.length,p.length),s.indexOf("fill")===0)for(c=0;c<g;c++)c%2===0?f.push((l[c]||0)+h[c]*t):f.push("rgba("+Math.round(l[c].r+h[c].r*t)+","+Math.round(l[c].g+h[c].g*t)+","+Math.round(l[c].b+h[c].b*t)+","+(l[c].a+h[c].a*t)+")");else for(c=0;c<g;c++)f.push((l[c]||0)+h[c]*t);else Og.indexOf(s)!==-1?f="rgba("+Math.round(l.r+h.r*t)+","+Math.round(l.g+h.g*t)+","+Math.round(l.b+h.b*t)+","+(l.a+h.a*t)+")":f=l+h*t;e.setAttr(s,f)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=ve.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=ve.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t=this.node._id,e=this._id,i=ve.tweens[t],s;this.pause();for(s in i)delete ve.tweens[t][s];delete ve.attrs[t][e]}}ve.attrs={};ve.tweens={};at.prototype.to=function(n){var t=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),t&&t()};var e=new ve(n);e.play()};const Us={BackEaseIn(n,t,e,i){var s=1.70158;return e*(n/=i)*n*((s+1)*n-s)+t},BackEaseOut(n,t,e,i){var s=1.70158;return e*((n=n/i-1)*n*((s+1)*n+s)+1)+t},BackEaseInOut(n,t,e,i){var s=1.70158;return(n/=i/2)<1?e/2*(n*n*(((s*=1.525)+1)*n-s))+t:e/2*((n-=2)*n*(((s*=1.525)+1)*n+s)+2)+t},ElasticEaseIn(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i)===1?t+e:(o||(o=i*.3),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),-(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+t)},ElasticEaseOut(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i)===1?t+e:(o||(o=i*.3),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),s*Math.pow(2,-10*n)*Math.sin((n*i-l)*(2*Math.PI)/o)+e+t)},ElasticEaseInOut(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i/2)===2?t+e:(o||(o=i*(.3*1.5)),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),n<1?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o)*.5+e+t)},BounceEaseOut(n,t,e,i){return(n/=i)<1/2.75?e*(7.5625*n*n)+t:n<2/2.75?e*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?e*(7.5625*(n-=2.25/2.75)*n+.9375)+t:e*(7.5625*(n-=2.625/2.75)*n+.984375)+t},BounceEaseIn(n,t,e,i){return e-Us.BounceEaseOut(i-n,0,e,i)+t},BounceEaseInOut(n,t,e,i){return n<i/2?Us.BounceEaseIn(n*2,0,e,i)*.5+t:Us.BounceEaseOut(n*2-i,0,e,i)*.5+e*.5+t},EaseIn(n,t,e,i){return e*(n/=i)*n+t},EaseOut(n,t,e,i){return-e*(n/=i)*(n-2)+t},EaseInOut(n,t,e,i){return(n/=i/2)<1?e/2*n*n+t:-e/2*(--n*(n-2)-1)+t},StrongEaseIn(n,t,e,i){return e*(n/=i)*n*n*n*n+t},StrongEaseOut(n,t,e,i){return e*((n=n/i-1)*n*n*n*n+1)+t},StrongEaseInOut(n,t,e,i){return(n/=i/2)<1?e/2*n*n*n*n*n+t:e/2*((n-=2)*n*n*n*n+2)+t},Linear(n,t,e,i){return e*n/i+t}},Mg=D._assign(_t,{Util:D,Transform:on,Node:at,Container:un,Stage:il,stages:Ro,Layer:di,FastLayer:Vh,Group:es,DD:Yt,Shape:nt,shapes:Hs,Animation:wn,Tween:ve,Easings:Us,Context:nl,Canvas:rl});class ar extends nt{_sceneFunc(t){var e=_t.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),i=this.clockwise(),s=_t.getAngle(i?360-this.angle():this.angle()),o=Math.cos(Math.min(s,Math.PI)),l=1,h=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),f=Math.sin(Math.min(s,Math.PI/2)),c=o*(o>0?t:e),g=l*e,p=h*(h>0?t:e),v=f*(f>0?e:t);return{x:c,y:i?-1*v:p,width:g-c,height:v-p}}}ar.prototype._centroid=!0;ar.prototype.className="Arc";ar.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(ar);E.addGetterSetter(ar,"innerRadius",0,st());E.addGetterSetter(ar,"outerRadius",0,st());E.addGetterSetter(ar,"angle",0,st());E.addGetterSetter(ar,"clockwise",!1,Rn());function lh(n,t,e,i,s,o,l){var h=Math.sqrt(Math.pow(e-n,2)+Math.pow(i-t,2)),f=Math.sqrt(Math.pow(s-e,2)+Math.pow(o-i,2)),c=l*h/(h+f),g=l*f/(h+f),p=e-c*(s-n),v=i-c*(o-t),w=e+g*(s-n),m=i+g*(o-t);return[p,v,w,m]}function Lg(n,t){var e=n.length,i=[],s,o;for(s=2;s<e-2;s+=2)o=lh(n[s-2],n[s-1],n[s],n[s+1],n[s+2],n[s+3],t),!isNaN(o[0])&&(i.push(o[0]),i.push(o[1]),i.push(n[s]),i.push(n[s+1]),i.push(o[2]),i.push(o[3]));return i}class or extends nt{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var e=this.points(),i=e.length,s=this.tension(),o=this.closed(),l=this.bezier(),h,f,c;if(!!i){if(t.beginPath(),t.moveTo(e[0],e[1]),s!==0&&i>4){for(h=this.getTensionPoints(),f=h.length,c=o?0:4,o||t.quadraticCurveTo(h[0],h[1],h[2],h[3]);c<f-2;)t.bezierCurveTo(h[c++],h[c++],h[c++],h[c++],h[c++],h[c++]);o||t.quadraticCurveTo(h[f-2],h[f-1],e[i-2],e[i-1])}else if(l)for(c=2;c<i;)t.bezierCurveTo(e[c++],e[c++],e[c++],e[c++],e[c++],e[c++]);else for(c=2;c<i;c+=2)t.lineTo(e[c],e[c+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Lg(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,i=this.tension(),s=lh(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),o=lh(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),l=Lg(t,i),h=[s[2],s[3]].concat(l).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],s[0],s[1],t[0],t[1]]);return h}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var e=t[0],i=t[0],s=t[1],o=t[1],l,h,f=0;f<t.length/2;f++)l=t[f*2],h=t[f*2+1],e=Math.min(e,l),i=Math.max(i,l),s=Math.min(s,h),o=Math.max(o,h);return{x:e,y:s,width:i-e,height:o-s}}}or.prototype.className="Line";or.prototype._attrsAffectingSize=["points","bezier","tension"];ce(or);E.addGetterSetter(or,"closed",!1);E.addGetterSetter(or,"bezier",!1);E.addGetterSetter(or,"tension",0,st());E.addGetterSetter(or,"points",[],iT());class jt extends nt{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=jt.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",function(){this.dataArray=jt.parsePathData(this.data()),this.pathLength=0;for(var i=0;i<this.dataArray.length;++i)this.pathLength+=this.dataArray[i].pathLength})}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var i=!1,s=0;s<e.length;s++){var o=e[s].command,l=e[s].points;switch(o){case"L":t.lineTo(l[0],l[1]);break;case"M":t.moveTo(l[0],l[1]);break;case"C":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":t.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":var h=l[0],f=l[1],c=l[2],g=l[3],p=l[4],v=l[5],w=l[6],m=l[7],P=c>g?c:g,T=c>g?1:c/g,A=c>g?g/c:1;t.translate(h,f),t.rotate(w),t.scale(T,A),t.arc(0,0,P,p,p+v,1-m),t.scale(1/T,1/A),t.rotate(-w),t.translate(-h,-f);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(c){if(c.command==="A"){var g=c.points[4],p=c.points[5],v=c.points[4]+p,w=Math.PI/180;if(Math.abs(g-v)<w&&(w=Math.abs(g-v)),p<0)for(let m=g-w;m>v;m-=w){const P=jt.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);t.push(P.x,P.y)}else for(let m=g+w;m<v;m+=w){const P=jt.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);t.push(P.x,P.y)}}else if(c.command==="C")for(let m=0;m<=1;m+=.01){const P=jt.getPointOnCubicBezier(m,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);t.push(P.x,P.y)}else t=t.concat(c.points)});for(var e=t[0],i=t[0],s=t[1],o=t[1],l,h,f=0;f<t.length/2;f++)l=t[f*2],h=t[f*2+1],isNaN(l)||(e=Math.min(e,l),i=Math.max(i,l)),isNaN(h)||(s=Math.min(s,h),o=Math.max(o,h));return{x:e,y:s,width:i-e,height:o-s}}getLength(){return this.pathLength}getPointAtLength(t){var e,i=0,s=this.dataArray.length;if(!s)return null;for(;i<s&&t>this.dataArray[i].pathLength;)t-=this.dataArray[i].pathLength,++i;if(i===s)return e=this.dataArray[i-1].points.slice(-2),{x:e[0],y:e[1]};if(t<.01)return e=this.dataArray[i].points.slice(0,2),{x:e[0],y:e[1]};var o=this.dataArray[i],l=o.points;switch(o.command){case"L":return jt.getPointOnLine(t,o.start.x,o.start.y,l[0],l[1]);case"C":return jt.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return jt.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":var h=l[0],f=l[1],c=l[2],g=l[3],p=l[4],v=l[5],w=l[6];return p+=v*t/o.pathLength,jt.getPointOnEllipticalArc(h,f,c,g,p,w)}return null}static getLineLength(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))}static getPointOnLine(t,e,i,s,o,l,h){l===void 0&&(l=e),h===void 0&&(h=i);var f=(o-i)/(s-e+1e-8),c=Math.sqrt(t*t/(1+f*f));s<e&&(c*=-1);var g=f*c,p;if(s===e)p={x:l,y:h+g};else if((h-i)/(l-e+1e-8)===f)p={x:l+c,y:h+g};else{var v,w,m=this.getLineLength(e,i,s,o),P=(l-e)*(s-e)+(h-i)*(o-i);P=P/(m*m),v=e+P*(s-e),w=i+P*(o-i);var T=this.getLineLength(l,h,v,w),A=Math.sqrt(t*t-T*T);c=Math.sqrt(A*A/(1+f*f)),s<e&&(c*=-1),g=f*c,p={x:v+c,y:w+g}}return p}static getPointOnCubicBezier(t,e,i,s,o,l,h,f,c){function g(T){return T*T*T}function p(T){return 3*T*T*(1-T)}function v(T){return 3*T*(1-T)*(1-T)}function w(T){return(1-T)*(1-T)*(1-T)}var m=f*g(t)+l*p(t)+s*v(t)+e*w(t),P=c*g(t)+h*p(t)+o*v(t)+i*w(t);return{x:m,y:P}}static getPointOnQuadraticBezier(t,e,i,s,o,l,h){function f(w){return w*w}function c(w){return 2*w*(1-w)}function g(w){return(1-w)*(1-w)}var p=l*f(t)+s*c(t)+e*g(t),v=h*f(t)+o*c(t)+i*g(t);return{x:p,y:v}}static getPointOnEllipticalArc(t,e,i,s,o,l){var h=Math.cos(l),f=Math.sin(l),c={x:i*Math.cos(o),y:s*Math.sin(o)};return{x:t+(c.x*h-c.y*f),y:e+(c.x*f+c.y*h)}}static parsePathData(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var s=0;s<i.length;s++)e=e.replace(new RegExp(i[s],"g"),"|"+i[s]);var o=e.split("|"),l=[],h=[],f=0,c=0,g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,p;for(s=1;s<o.length;s++){var v=o[s],w=v.charAt(0);for(v=v.slice(1),h.length=0;p=g.exec(v);)h.push(p[0]);for(var m=[],P=0,T=h.length;P<T;P++){if(h[P]==="00"){m.push(0,0);continue}var A=parseFloat(h[P]);isNaN(A)?m.push(0):m.push(A)}for(;m.length>0&&!isNaN(m[0]);){var S=null,C=[],M=f,B=c,G,W,F,$,K,V,j,H,N,rt;switch(w){case"l":f+=m.shift(),c+=m.shift(),S="L",C.push(f,c);break;case"L":f=m.shift(),c=m.shift(),C.push(f,c);break;case"m":var Q=m.shift(),ht=m.shift();if(f+=Q,c+=ht,S="M",l.length>2&&l[l.length-1].command==="z"){for(var dt=l.length-2;dt>=0;dt--)if(l[dt].command==="M"){f=l[dt].points[0]+Q,c=l[dt].points[1]+ht;break}}C.push(f,c),w="l";break;case"M":f=m.shift(),c=m.shift(),S="M",C.push(f,c),w="L";break;case"h":f+=m.shift(),S="L",C.push(f,c);break;case"H":f=m.shift(),S="L",C.push(f,c);break;case"v":c+=m.shift(),S="L",C.push(f,c);break;case"V":c=m.shift(),S="L",C.push(f,c);break;case"C":C.push(m.shift(),m.shift(),m.shift(),m.shift()),f=m.shift(),c=m.shift(),C.push(f,c);break;case"c":C.push(f+m.shift(),c+m.shift(),f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="C",C.push(f,c);break;case"S":W=f,F=c,G=l[l.length-1],G.command==="C"&&(W=f+(f-G.points[2]),F=c+(c-G.points[3])),C.push(W,F,m.shift(),m.shift()),f=m.shift(),c=m.shift(),S="C",C.push(f,c);break;case"s":W=f,F=c,G=l[l.length-1],G.command==="C"&&(W=f+(f-G.points[2]),F=c+(c-G.points[3])),C.push(W,F,f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="C",C.push(f,c);break;case"Q":C.push(m.shift(),m.shift()),f=m.shift(),c=m.shift(),C.push(f,c);break;case"q":C.push(f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="Q",C.push(f,c);break;case"T":W=f,F=c,G=l[l.length-1],G.command==="Q"&&(W=f+(f-G.points[0]),F=c+(c-G.points[1])),f=m.shift(),c=m.shift(),S="Q",C.push(W,F,f,c);break;case"t":W=f,F=c,G=l[l.length-1],G.command==="Q"&&(W=f+(f-G.points[0]),F=c+(c-G.points[1])),f+=m.shift(),c+=m.shift(),S="Q",C.push(W,F,f,c);break;case"A":$=m.shift(),K=m.shift(),V=m.shift(),j=m.shift(),H=m.shift(),N=f,rt=c,f=m.shift(),c=m.shift(),S="A",C=this.convertEndpointToCenterParameterization(N,rt,f,c,j,H,$,K,V);break;case"a":$=m.shift(),K=m.shift(),V=m.shift(),j=m.shift(),H=m.shift(),N=f,rt=c,f+=m.shift(),c+=m.shift(),S="A",C=this.convertEndpointToCenterParameterization(N,rt,f,c,j,H,$,K,V);break}l.push({command:S||w,points:C,start:{x:M,y:B},pathLength:this.calcLength(M,B,S||w,C)})}(w==="z"||w==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(t,e,i,s){var o,l,h,f,c=jt;switch(i){case"L":return c.getLineLength(t,e,s[0],s[1]);case"C":for(o=0,l=c.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),f=.01;f<=1;f+=.01)h=c.getPointOnCubicBezier(f,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),o+=c.getLineLength(l.x,l.y,h.x,h.y),l=h;return o;case"Q":for(o=0,l=c.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),f=.01;f<=1;f+=.01)h=c.getPointOnQuadraticBezier(f,t,e,s[0],s[1],s[2],s[3]),o+=c.getLineLength(l.x,l.y,h.x,h.y),l=h;return o;case"A":o=0;var g=s[4],p=s[5],v=s[4]+p,w=Math.PI/180;if(Math.abs(g-v)<w&&(w=Math.abs(g-v)),l=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],g,0),p<0)for(f=g-w;f>v;f-=w)h=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),o+=c.getLineLength(l.x,l.y,h.x,h.y),l=h;else for(f=g+w;f<v;f+=w)h=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),o+=c.getLineLength(l.x,l.y,h.x,h.y),l=h;return h=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],v,0),o+=c.getLineLength(l.x,l.y,h.x,h.y),o}return 0}static convertEndpointToCenterParameterization(t,e,i,s,o,l,h,f,c){var g=c*(Math.PI/180),p=Math.cos(g)*(t-i)/2+Math.sin(g)*(e-s)/2,v=-1*Math.sin(g)*(t-i)/2+Math.cos(g)*(e-s)/2,w=p*p/(h*h)+v*v/(f*f);w>1&&(h*=Math.sqrt(w),f*=Math.sqrt(w));var m=Math.sqrt((h*h*(f*f)-h*h*(v*v)-f*f*(p*p))/(h*h*(v*v)+f*f*(p*p)));o===l&&(m*=-1),isNaN(m)&&(m=0);var P=m*h*v/f,T=m*-f*p/h,A=(t+i)/2+Math.cos(g)*P-Math.sin(g)*T,S=(e+s)/2+Math.sin(g)*P+Math.cos(g)*T,C=function(K){return Math.sqrt(K[0]*K[0]+K[1]*K[1])},M=function(K,V){return(K[0]*V[0]+K[1]*V[1])/(C(K)*C(V))},B=function(K,V){return(K[0]*V[1]<K[1]*V[0]?-1:1)*Math.acos(M(K,V))},G=B([1,0],[(p-P)/h,(v-T)/f]),W=[(p-P)/h,(v-T)/f],F=[(-1*p-P)/h,(-1*v-T)/f],$=B(W,F);return M(W,F)<=-1&&($=Math.PI),M(W,F)>=1&&($=0),l===0&&$>0&&($=$-2*Math.PI),l===1&&$<0&&($=$+2*Math.PI),[A,S,h,f,G,$,g,l]}}jt.prototype.className="Path";jt.prototype._attrsAffectingSize=["data"];ce(jt);E.addGetterSetter(jt,"data");class gi extends or{_sceneFunc(t){super._sceneFunc(t);var e=Math.PI*2,i=this.points(),s=i,o=this.tension()!==0&&i.length>4;o&&(s=this.getTensionPoints());var l=this.pointerLength(),h=i.length,f,c;if(o){const v=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],i[h-2],i[h-1]],w=jt.calcLength(s[s.length-4],s[s.length-3],"C",v),m=jt.getPointOnQuadraticBezier(Math.min(1,1-l/w),v[0],v[1],v[2],v[3],v[4],v[5]);f=i[h-2]-m.x,c=i[h-1]-m.y}else f=i[h-2]-i[h-4],c=i[h-1]-i[h-3];var g=(Math.atan2(c,f)+e)%e,p=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[h-2],i[h-1]),t.rotate(g),t.moveTo(0,0),t.lineTo(-l,p/2),t.lineTo(-l,-p/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),o?(f=(s[0]+s[2])/2-i[0],c=(s[1]+s[3])/2-i[1]):(f=i[2]-i[0],c=i[3]-i[1]),t.rotate((Math.atan2(-c,-f)+e)%e),t.moveTo(0,0),t.lineTo(-l,p/2),t.lineTo(-l,-p/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+e*2,height:t.height+e*2}}}gi.prototype.className="Arrow";ce(gi);E.addGetterSetter(gi,"pointerLength",10,st());E.addGetterSetter(gi,"pointerWidth",10,st());E.addGetterSetter(gi,"pointerAtBeginning",!1);E.addGetterSetter(gi,"pointerAtEnding",!0);class ss extends nt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}ss.prototype._centroid=!0;ss.prototype.className="Circle";ss.prototype._attrsAffectingSize=["radius"];ce(ss);E.addGetterSetter(ss,"radius",0,st());class Nr extends nt{_sceneFunc(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}Nr.prototype.className="Ellipse";Nr.prototype._centroid=!0;Nr.prototype._attrsAffectingSize=["radiusX","radiusY"];ce(Nr);E.addComponentsGetterSetter(Nr,"radius",["x","y"]);E.addGetterSetter(Nr,"radiusX",0,st());E.addGetterSetter(Nr,"radiusY",0,st());class On extends nt{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),i=this.getHeight(),s=this.attrs.image;let o;if(s){const l=this.attrs.cropWidth,h=this.attrs.cropHeight;l&&h?o=[s,this.cropX(),this.cropY(),l,h,0,0,e,i]:o=[s,0,0,e,i]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,o)}_hitFunc(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return(t=this.attrs.width)!==null&&t!==void 0?t:(e=this.image())===null||e===void 0?void 0:e.width}getHeight(){var t,e;return(t=this.attrs.height)!==null&&t!==void 0?t:(e=this.image())===null||e===void 0?void 0:e.height}static fromURL(t,e,i=null){var s=D.createImageElement();s.onload=function(){var o=new On({image:s});e(o)},s.onerror=i,s.crossOrigin="Anonymous",s.src=t}}On.prototype.className="Image";ce(On);E.addGetterSetter(On,"image");E.addComponentsGetterSetter(On,"crop",["x","y","width","height"]);E.addGetterSetter(On,"cropX",0,st());E.addGetterSetter(On,"cropY",0,st());E.addGetterSetter(On,"cropWidth",0,st());E.addGetterSetter(On,"cropHeight",0,st());var Z_=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],VT="Change.konva",jT="none",uh="up",hh="right",fh="down",ch="left",ZT=Z_.length;class jh extends es{constructor(t){super(t),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e=this,i,s=function(){e._sync()};for(i=0;i<ZT;i++)t.on(Z_[i]+VT,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),e=this.getTag(),i,s,o,l,h,f,c;if(t&&e){switch(i=t.width(),s=t.height(),o=e.pointerDirection(),l=e.pointerWidth(),c=e.pointerHeight(),h=0,f=0,o){case uh:h=i/2,f=-1*c;break;case hh:h=i+l,f=s/2;break;case fh:h=i/2,f=s+c;break;case ch:h=-1*l,f=s/2;break}e.setAttrs({x:-1*h,y:-1*f,width:i,height:s}),t.setAttrs({x:-1*h,y:-1*f})}}}jh.prototype.className="Label";ce(jh);class pi extends nt{_sceneFunc(t){var e=this.width(),i=this.height(),s=this.pointerDirection(),o=this.pointerWidth(),l=this.pointerHeight(),h=this.cornerRadius();let f=0,c=0,g=0,p=0;typeof h=="number"?f=c=g=p=Math.min(h,e/2,i/2):(f=Math.min(h[0]||0,e/2,i/2),c=Math.min(h[1]||0,e/2,i/2),p=Math.min(h[2]||0,e/2,i/2),g=Math.min(h[3]||0,e/2,i/2)),t.beginPath(),t.moveTo(f,0),s===uh&&(t.lineTo((e-o)/2,0),t.lineTo(e/2,-1*l),t.lineTo((e+o)/2,0)),t.lineTo(e-c,0),t.arc(e-c,c,c,Math.PI*3/2,0,!1),s===hh&&(t.lineTo(e,(i-l)/2),t.lineTo(e+o,i/2),t.lineTo(e,(i+l)/2)),t.lineTo(e,i-p),t.arc(e-p,i-p,p,0,Math.PI/2,!1),s===fh&&(t.lineTo((e+o)/2,i),t.lineTo(e/2,i+l),t.lineTo((e-o)/2,i)),t.lineTo(g,i),t.arc(g,i-g,g,Math.PI/2,Math.PI,!1),s===ch&&(t.lineTo(0,(i+l)/2),t.lineTo(-1*o,i/2),t.lineTo(0,(i-l)/2)),t.lineTo(0,f),t.arc(f,f,f,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,i=this.pointerWidth(),s=this.pointerHeight(),o=this.pointerDirection(),l=this.width(),h=this.height();return o===uh?(e-=s,h+=s):o===fh?h+=s:o===ch?(t-=i*1.5,l+=i):o===hh&&(l+=i*1.5),{x:t,y:e,width:l,height:h}}}pi.prototype.className="Tag";ce(pi);E.addGetterSetter(pi,"pointerDirection",jT);E.addGetterSetter(pi,"pointerWidth",0,st());E.addGetterSetter(pi,"pointerHeight",0,st());E.addGetterSetter(pi,"cornerRadius",0,O_(4));class fa extends nt{_sceneFunc(t){var e=this.cornerRadius(),i=this.width(),s=this.height();if(t.beginPath(),!e)t.rect(0,0,i,s);else{let o=0,l=0,h=0,f=0;typeof e=="number"?o=l=h=f=Math.min(e,i/2,s/2):(o=Math.min(e[0]||0,i/2,s/2),l=Math.min(e[1]||0,i/2,s/2),f=Math.min(e[2]||0,i/2,s/2),h=Math.min(e[3]||0,i/2,s/2)),t.moveTo(o,0),t.lineTo(i-l,0),t.arc(i-l,l,l,Math.PI*3/2,0,!1),t.lineTo(i,s-f),t.arc(i-f,s-f,f,0,Math.PI/2,!1),t.lineTo(h,s),t.arc(h,s-h,h,Math.PI/2,Math.PI,!1),t.lineTo(0,o),t.arc(o,o,o,Math.PI,Math.PI*3/2,!1)}t.closePath(),t.fillStrokeShape(this)}}fa.prototype.className="Rect";ce(fa);E.addGetterSetter(fa,"cornerRadius",0,O_(4));class _i extends nt{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,i=[];for(var s=0;s<t;s++)i.push({x:e*Math.sin(s*2*Math.PI/t),y:-1*e*Math.cos(s*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var e=t[0].x,i=t[0].y,s=t[0].x,o=t[0].y;return t.forEach(l=>{e=Math.min(e,l.x),i=Math.max(i,l.x),s=Math.min(s,l.y),o=Math.max(o,l.y)}),{x:e,y:s,width:i-e,height:o-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}_i.prototype.className="RegularPolygon";_i.prototype._centroid=!0;_i.prototype._attrsAffectingSize=["radius"];ce(_i);E.addGetterSetter(_i,"radius",0,st());E.addGetterSetter(_i,"sides",0,st());var Ig=Math.PI*2;class vi extends nt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,Ig,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),Ig,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}vi.prototype.className="Ring";vi.prototype._centroid=!0;vi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(vi);E.addGetterSetter(vi,"innerRadius",0,st());E.addGetterSetter(vi,"outerRadius",0,st());class Hn extends nt{constructor(t){super(t),this._updated=!0,this.anim=new wn(()=>{var e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var e=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[e],l=this.frameOffsets(),h=o[s+0],f=o[s+1],c=o[s+2],g=o[s+3],p=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,g),t.closePath(),t.fillStrokeShape(this)),p)if(l){var v=l[e],w=i*2;t.drawImage(p,h,f,c,g,v[w+0],v[w+1],c,g)}else t.drawImage(p,h,f,c,g,0,0,c,g)}_hitFunc(t){var e=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[e],l=this.frameOffsets(),h=o[s+2],f=o[s+3];if(t.beginPath(),l){var c=l[e],g=i*2;t.rect(c[g+0],c[g+1],h,f)}else t.rect(0,0,h,f);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation(),i=this.animations(),s=i[e],o=s.length/4;t<o-1?this.frameIndex(t+1):this.frameIndex(0)}}Hn.prototype.className="Sprite";ce(Hn);E.addGetterSetter(Hn,"animation");E.addGetterSetter(Hn,"animations");E.addGetterSetter(Hn,"frameOffsets");E.addGetterSetter(Hn,"image");E.addGetterSetter(Hn,"frameIndex",0,st());E.addGetterSetter(Hn,"frameRate",17,st());E.backCompat(Hn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Gr extends nt{_sceneFunc(t){var e=this.innerRadius(),i=this.outerRadius(),s=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var o=1;o<s*2;o++){var l=o%2===0?i:e,h=l*Math.sin(o*Math.PI/s),f=-1*l*Math.cos(o*Math.PI/s);t.lineTo(h,f)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Gr.prototype.className="Star";Gr.prototype._centroid=!0;Gr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(Gr);E.addGetterSetter(Gr,"numPoints",5,st());E.addGetterSetter(Gr,"innerRadius",0,st());E.addGetterSetter(Gr,"outerRadius",0,st());function J_(n){return Array.from(n)}var Ni="auto",JT="center",Es="justify",QT="Change.konva",tA="2d",kg="-",Q_="left",eA="text",nA="Text",rA="top",iA="bottom",Fg="middle",t0="normal",sA="px ",bo=" ",aA="right",oA="word",lA="char",Dg="none",Iu="\u2026",e0=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],uA=e0.length;function hA(n){return n.split(",").map(t=>{t=t.trim();const e=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!i&&(t=`"${t}"`),t}).join(", ")}var wo;function ku(){return wo||(wo=D.createCanvasElement().getContext(tA),wo)}function fA(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function cA(n){n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function dA(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}class fe extends nt{constructor(t){super(dA(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<uA;e++)this.on(e0[e]+QT,this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,i=e.length;if(!!this.text()){var s=this.padding(),o=this.fontSize(),l=this.lineHeight()*o,h=this.verticalAlign(),f=0,c=this.align(),g=this.getWidth(),p=this.letterSpacing(),v=this.fill(),w=this.textDecoration(),m=w.indexOf("underline")!==-1,P=w.indexOf("line-through")!==-1,T,A=0,A=l/2,S=0,C=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",Fg),t.setAttr("textAlign",Q_),h===Fg?f=(this.getHeight()-i*l-s*2)/2:h===iA&&(f=this.getHeight()-i*l-s*2),t.translate(s,f+s),T=0;T<i;T++){var S=0,C=0,M=e[T],B=M.text,G=M.width,W=M.lastInParagraph,F,$,K;if(t.save(),c===aA?S+=g-G-s*2:c===JT&&(S+=(g-G-s*2)/2),m&&(t.save(),t.beginPath(),t.moveTo(S,A+C+Math.round(o/2)),F=B.split(" ").length-1,$=F===0,K=c===Es&&W&&!$?g-s*2:G,t.lineTo(S+Math.round(K),A+C+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=v,t.stroke(),t.restore()),P&&(t.save(),t.beginPath(),t.moveTo(S,A+C),F=B.split(" ").length-1,$=F===0,K=c===Es&&W&&!$?g-s*2:G,t.lineTo(S+Math.round(K),A+C),t.lineWidth=o/15,t.strokeStyle=v,t.stroke(),t.restore()),p!==0||c===Es){F=B.split(" ").length-1;for(var V=J_(B),j=0;j<V.length;j++){var H=V[j];H===" "&&!W&&c===Es&&(S+=(g-s*2-G)/F),this._partialTextX=S,this._partialTextY=A+C,this._partialText=H,t.fillStrokeShape(this),S+=this.measureSize(H).width+p}}else this._partialTextX=S,this._partialTextY=A+C,this._partialText=B,t.fillStrokeShape(this);t.restore(),i>1&&(A+=l)}}}_hitFunc(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=D._isString(t)?t:t==null?"":t+"";return this._setAttr(eA,e),this}getWidth(){var t=this.attrs.width===Ni||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Ni||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return D.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e=ku(),i=this.fontSize(),s;return e.save(),e.font=this._getContextFont(),s=e.measureText(t),e.restore(),{width:s.width,height:i}}_getContextFont(){return this.fontStyle()+bo+this.fontVariant()+bo+(this.fontSize()+sA)+hA(this.fontFamily())}_addTextLine(t){this.align()===Es&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),i=t.length;return ku().measureText(t).width+(i?e*(i-1):0)}_setTextData(){var t=this.text().split(`
`),e=+this.fontSize(),i=0,s=this.lineHeight()*e,o=this.attrs.width,l=this.attrs.height,h=o!==Ni&&o!==void 0,f=l!==Ni&&l!==void 0,c=this.padding(),g=o-c*2,p=l-c*2,v=0,w=this.wrap(),m=w!==Dg,P=w!==lA&&m,T=this.ellipsis();this.textArr=[],ku().font=this._getContextFont();for(var A=T?this._getTextWidth(Iu):0,S=0,C=t.length;S<C;++S){var M=t[S],B=this._getTextWidth(M);if(h&&B>g)for(;M.length>0;){for(var G=0,W=M.length,F="",$=0;G<W;){var K=G+W>>>1,V=M.slice(0,K+1),j=this._getTextWidth(V)+A;j<=g?(G=K+1,F=V,$=j):W=K}if(F){if(P){var H,N=M[F.length],rt=N===bo||N===kg;rt&&$<=g?H=F.length:H=Math.max(F.lastIndexOf(bo),F.lastIndexOf(kg))+1,H>0&&(G=H,F=F.slice(0,G),$=this._getTextWidth(F))}F=F.trimRight(),this._addTextLine(F),i=Math.max(i,$),v+=s;var Q=this._shouldHandleEllipsis(v);if(Q){this._tryToAddEllipsisToLastLine();break}if(M=M.slice(G),M=M.trimLeft(),M.length>0&&(B=this._getTextWidth(M),B<=g)){this._addTextLine(M),v+=s,i=Math.max(i,B);break}}else break}else this._addTextLine(M),v+=s,i=Math.max(i,B),this._shouldHandleEllipsis(v)&&S<C-1&&this._tryToAddEllipsisToLastLine();if(f&&v+s>p)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=e,this.textWidth=i}_shouldHandleEllipsis(t){var e=+this.fontSize(),i=this.lineHeight()*e,s=this.attrs.height,o=s!==Ni&&s!==void 0,l=this.padding(),h=s-l*2,f=this.wrap(),c=f!==Dg;return!c||o&&t+i>h}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==Ni&&t!==void 0,i=this.padding(),s=t-i*2,o=this.ellipsis(),l=this.textArr[this.textArr.length-1];if(!(!l||!o)){if(e){var h=this._getTextWidth(l.text+Iu)<s;h||(l.text=l.text.slice(0,l.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(l.text+Iu)}}getStrokeScaleEnabled(){return!0}}fe.prototype._fillFunc=fA;fe.prototype._strokeFunc=cA;fe.prototype.className=nA;fe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];ce(fe);E.overWriteSetter(fe,"width",Kh());E.overWriteSetter(fe,"height",Kh());E.addGetterSetter(fe,"fontFamily","Arial");E.addGetterSetter(fe,"fontSize",12,st());E.addGetterSetter(fe,"fontStyle",t0);E.addGetterSetter(fe,"fontVariant",t0);E.addGetterSetter(fe,"padding",0,st());E.addGetterSetter(fe,"align",Q_);E.addGetterSetter(fe,"verticalAlign",rA);E.addGetterSetter(fe,"lineHeight",1,st());E.addGetterSetter(fe,"wrap",oA);E.addGetterSetter(fe,"ellipsis",!1,Rn());E.addGetterSetter(fe,"letterSpacing",0,st());E.addGetterSetter(fe,"text","",is());E.addGetterSetter(fe,"textDecoration","");var gA="",n0="normal";function r0(n){n.fillText(this.partialText,0,0)}function i0(n){n.strokeText(this.partialText,0,0)}class Ce extends nt{constructor(t){super(t),this.dummyCanvas=D.createCanvasElement(),this.dataArray=[],this.dataArray=jt.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=jt.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),s=this.fontSize(),o=this.glyphInfo;e==="underline"&&t.beginPath();for(var l=0;l<o.length;l++){t.save();var h=o[l].p0;t.translate(h.x,h.y),t.rotate(o[l].rotation),this.partialText=o[l].text,t.fillStrokeShape(this),e==="underline"&&(l===0&&t.moveTo(0,s/2+1),t.lineTo(s,s/2+1)),t.restore()}e==="underline"&&(t.strokeStyle=i,t.lineWidth=s/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var s=0;s<e.length;s++){var o=e[s].p1;t.lineTo(o.x,o.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return D.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return fe.prototype.setText.call(this,t)}_getContextFont(){return fe.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas,i=e.getContext("2d");i.save(),i.font=this._getContextFont();var s=i.measureText(t);return i.restore(),{width:s.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),s=this.align(),o=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var h=0,f=0;f<t.dataArray.length;f++)t.dataArray[f].pathLength>0&&(h+=t.dataArray[f].pathLength);var c=0;s==="center"&&(c=Math.max(0,h/2-l/2)),s==="right"&&(c=Math.max(0,h-l));for(var g=J_(this.text()),p=this.text().split(" ").length-1,v,w,m,P=-1,T=0,A=function(){T=0;for(var j=t.dataArray,H=P+1;H<j.length;H++){if(j[H].pathLength>0)return P=H,j[H];j[H].command==="M"&&(v={x:j[H].points[0],y:j[H].points[1]})}return{}},S=function(j){var H=t._getTextSize(j).width+i;j===" "&&s==="justify"&&(H+=(h-l)/p);var N=0,rt=0;for(w=void 0;Math.abs(H-N)/H>.01&&rt<20;){rt++;for(var Q=N;m===void 0;)m=A(),m&&Q+m.pathLength<H&&(Q+=m.pathLength,m=void 0);if(Object.keys(m).length===0||v===void 0)return;var ht=!1;switch(m.command){case"L":jt.getLineLength(v.x,v.y,m.points[0],m.points[1])>H?w=jt.getPointOnLine(H,v.x,v.y,m.points[0],m.points[1],v.x,v.y):m=void 0;break;case"A":var dt=m.points[4],Tt=m.points[5],ot=m.points[4]+Tt;T===0?T=dt+1e-8:H>N?T+=Math.PI/180*Tt/Math.abs(Tt):T-=Math.PI/360*Tt/Math.abs(Tt),(Tt<0&&T<ot||Tt>=0&&T>ot)&&(T=ot,ht=!0),w=jt.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],T,m.points[6]);break;case"C":T===0?H>m.pathLength?T=1e-8:T=H/m.pathLength:H>N?T+=(H-N)/m.pathLength/2:T=Math.max(T-(N-H)/m.pathLength/2,0),T>1&&(T=1,ht=!0),w=jt.getPointOnCubicBezier(T,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);break;case"Q":T===0?T=H/m.pathLength:H>N?T+=(H-N)/m.pathLength:T-=(N-H)/m.pathLength,T>1&&(T=1,ht=!0),w=jt.getPointOnQuadraticBezier(T,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3]);break}w!==void 0&&(N=jt.getLineLength(v.x,v.y,w.x,w.y)),ht&&(ht=!1,m=void 0)}},C="C",M=t._getTextSize(C).width+i,B=c/M-1,G=0;G<B&&(S(C),!(v===void 0||w===void 0));G++)v=w;for(var W=0;W<g.length&&(S(g[W]),!(v===void 0||w===void 0));W++){var F=jt.getLineLength(v.x,v.y,w.x,w.y),$=0;if(o)try{$=o(g[W-1],g[W])*this.fontSize()}catch{$=0}v.x+=$,w.x+=$,this.textWidth+=$;var K=jt.getPointOnLine($+F/2,v.x,v.y,w.x,w.y),V=Math.atan2(w.y-v.y,w.x-v.x);this.glyphInfo.push({transposeX:K.x,transposeY:K.y,text:g[W],rotation:V,p0:v,p1:w}),v=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(g){t.push(g.p0.x),t.push(g.p0.y),t.push(g.p1.x),t.push(g.p1.y)});for(var e=t[0]||0,i=t[0]||0,s=t[1]||0,o=t[1]||0,l,h,f=0;f<t.length/2;f++)l=t[f*2],h=t[f*2+1],e=Math.min(e,l),i=Math.max(i,l),s=Math.min(s,h),o=Math.max(o,h);var c=this.fontSize();return{x:e-c/2,y:s-c/2,width:i-e+c,height:o-s+c}}destroy(){return D.releaseCanvas(this.dummyCanvas),super.destroy()}}Ce.prototype._fillFunc=r0;Ce.prototype._strokeFunc=i0;Ce.prototype._fillFuncHit=r0;Ce.prototype._strokeFuncHit=i0;Ce.prototype.className="TextPath";Ce.prototype._attrsAffectingSize=["text","fontSize","data"];ce(Ce);E.addGetterSetter(Ce,"data");E.addGetterSetter(Ce,"fontFamily","Arial");E.addGetterSetter(Ce,"fontSize",12,st());E.addGetterSetter(Ce,"fontStyle",n0);E.addGetterSetter(Ce,"align","left");E.addGetterSetter(Ce,"letterSpacing",0,st());E.addGetterSetter(Ce,"textBaseline","middle");E.addGetterSetter(Ce,"fontVariant",n0);E.addGetterSetter(Ce,"text",gA);E.addGetterSetter(Ce,"textDecoration",null);E.addGetterSetter(Ce,"kerningFunc",null);var s0="tr-konva",pA=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(n=>n+`.${s0}`).join(" "),Ng="nodesRect",_A=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],vA={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const mA="ontouchstart"in _t._global;function yA(n,t){if(n==="rotater")return"crosshair";t+=D.degToRad(vA[n]||0);var e=(D.radToDeg(t)%360+360)%360;return D._inRange(e,315+22.5,360)||D._inRange(e,0,22.5)?"ns-resize":D._inRange(e,45-22.5,45+22.5)?"nesw-resize":D._inRange(e,90-22.5,90+22.5)?"ew-resize":D._inRange(e,135-22.5,135+22.5)?"nwse-resize":D._inRange(e,180-22.5,180+22.5)?"ns-resize":D._inRange(e,225-22.5,225+22.5)?"nesw-resize":D._inRange(e,270-22.5,270+22.5)?"ew-resize":D._inRange(e,315-22.5,315+22.5)?"nwse-resize":(D.error("Transformer has unknown angle for cursor detection: "+e),"pointer")}var Fo=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Gg=1e8;function bA(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function a0(n,t,e){const i=e.x+(n.x-e.x)*Math.cos(t)-(n.y-e.y)*Math.sin(t),s=e.y+(n.x-e.x)*Math.sin(t)+(n.y-e.y)*Math.cos(t);return Object.assign(Object.assign({},n),{rotation:n.rotation+t,x:i,y:s})}function wA(n,t){const e=bA(n);return a0(n,t,e)}function SA(n,t,e){let i=t;for(let s=0;s<n.length;s++){const o=_t.getAngle(n[s]),l=Math.abs(o-t)%(Math.PI*2);Math.min(l,Math.PI*2-l)<e&&(i=o)}return i}class Xt extends es{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(pA,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return D.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return s0+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=i._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");i.on(o,s),i.on(_A.map(l=>l+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache();var e=!!this.findOne(".top-left");return e&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,i=>{e=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!e)return;const s=t.getAbsolutePosition(),o=s.x-e.x,l=s.y-e.y;this.nodes().forEach(h=>{if(h===t||h.isDragging())return;const f=h.getAbsolutePosition();h.setAbsolutePosition({x:f.x+o,y:f.y+l}),h.startDrag(i)}),e=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Ng),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Ng,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),i){var s=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=t.getAbsoluteScale(i),l=t.getAbsolutePosition(i),h=s.x*o.x-t.offsetX()*o.x,f=s.y*o.y-t.offsetY()*o.y;const c=(_t.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),g={x:l.x+h*Math.cos(c)+f*Math.sin(-c),y:l.y+f*Math.cos(c)+h*Math.sin(c),width:s.width*o.x,height:s.height*o.y,rotation:c};return a0(g,-_t.getAngle(e),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-Gg,y:-Gg,width:0,height:0,rotation:0};const e=[];this.nodes().map(c=>{const g=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var p=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}],v=c.getAbsoluteTransform();p.forEach(function(w){var m=v.point(w);e.push(m)})});const i=new on;i.rotate(-_t.getAngle(this.rotation()));var s,o,l,h;e.forEach(function(c){var g=i.point(c);s===void 0&&(s=l=g.x,o=h=g.y),s=Math.min(s,g.x),o=Math.min(o,g.y),l=Math.max(l,g.x),h=Math.max(h,g.y)}),i.invert();const f=i.point({x:s,y:o});return{x:f.x,y:f.y,width:l-s,height:h-o,rotation:_t.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Fo.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new fa({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:mA?10:"auto"}),i=this;e.on("mousedown touchstart",function(s){i._handleMouseDown(s)}),e.on("dragstart",s=>{e.stopDrag(),s.cancelBubble=!0}),e.on("dragend",s=>{s.cancelBubble=!0}),e.on("mouseenter",()=>{var s=_t.getAngle(this.rotation()),o=yA(t,s);e.getStage().content&&(e.getStage().content.style.cursor=o),this._cursorChange=!0}),e.on("mouseout",()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(e)}_createBack(){var t=new nt({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var i=this.getParent(),s=i.padding();e.beginPath(),e.rect(-s,-s,this.width()+s*2,this.height()+s*2),e.moveTo(this.width()/2,-s),i.rotateEnabled()&&e.lineTo(this.width()/2,-i.rotateAnchorOffset()*D._sign(this.height())-s),e.fillStrokeShape(this)},hitFunc:(e,i)=>{if(!!this.shouldOverdrawWholeArea()){var s=this.padding();e.beginPath(),e.rect(-s,-s,i.width()+s*2,i.height()+s*2),e.fillStrokeShape(i)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",e=>{e.cancelBubble=!0}),t.on("dragmove",e=>{e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,s=e.height,o=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));this.sin=Math.abs(s/o),this.cos=Math.abs(i/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var l=t.target.getAbsolutePosition(),h=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:h.x-l.x,y:h.y-l.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(f=>{f._fire("transformstart",{evt:t.evt,target:f})})}_handleMouseMove(t){var e,i,s,o=this.findOne("."+this._movingAnchorName),l=o.getStage();l.setPointersPositions(t);const h=l.getPointerPosition();let f={x:h.x-this._anchorDragOffset.x,y:h.y-this._anchorDragOffset.y};const c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(f=this.anchorDragBoundFunc()(c,f,t)),o.setAbsolutePosition(f);const g=o.getAbsolutePosition();if(!(c.x===g.x&&c.y===g.y)){if(this._movingAnchorName==="rotater"){var p=this._getNodeRect();e=o.x()-p.width/2,i=-o.y()+p.height/2;let j=Math.atan2(-i,e)+Math.PI/2;p.height<0&&(j-=Math.PI);var v=_t.getAngle(this.rotation());const H=v+j,N=_t.getAngle(this.rotationSnapTolerance()),Q=SA(this.rotationSnaps(),H,N)-p.rotation,ht=wA(p,Q);this._fitNodesInto(ht,t);return}var w=this.keepRatio()||t.shiftKey,S=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(w){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(m.x-o.x(),2)+Math.pow(m.y-o.y(),2));var P=this.findOne(".top-left").x()>m.x?-1:1,T=this.findOne(".top-left").y()>m.y?-1:1;e=s*this.cos*P,i=s*this.sin*T,this.findOne(".top-left").x(m.x-e),this.findOne(".top-left").y(m.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(w){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(o.x()-m.x,2)+Math.pow(m.y-o.y(),2));var P=this.findOne(".top-right").x()<m.x?-1:1,T=this.findOne(".top-right").y()>m.y?-1:1;e=s*this.cos*P,i=s*this.sin*T,this.findOne(".top-right").x(m.x+e),this.findOne(".top-right").y(m.y-i)}var A=o.position();this.findOne(".top-left").y(A.y),this.findOne(".bottom-right").x(A.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(w){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(m.x-o.x(),2)+Math.pow(o.y()-m.y,2));var P=m.x<o.x()?-1:1,T=o.y()<m.y?-1:1;e=s*this.cos*P,i=s*this.sin*T,o.x(m.x-e),o.y(m.y+i)}A=o.position(),this.findOne(".top-left").x(A.x),this.findOne(".bottom-right").y(A.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(w){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(o.x()-m.x,2)+Math.pow(o.y()-m.y,2));var P=this.findOne(".bottom-right").x()<m.x?-1:1,T=this.findOne(".bottom-right").y()<m.y?-1:1;e=s*this.cos*P,i=s*this.sin*T,this.findOne(".bottom-right").x(m.x+e),this.findOne(".bottom-right").y(m.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var S=this.centeredScaling()||t.altKey;if(S){var C=this.findOne(".top-left"),M=this.findOne(".bottom-right"),B=C.x(),G=C.y(),W=this.getWidth()-M.x(),F=this.getHeight()-M.y();M.move({x:-B,y:-G}),C.move({x:W,y:F})}var $=this.findOne(".top-left").getAbsolutePosition();e=$.x,i=$.y;var K=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),V=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:i,width:K,height:V,rotation:_t.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach(i=>{i._fire("transformend",{evt:t,target:i})}),this._movingAnchorName=null}}_fitNodesInto(t,e){var i=this._getNodeRect();const s=1;if(D._inRange(t.width,-this.padding()*2-s,s)){this.update();return}if(D._inRange(t.height,-this.padding()*2-s,s)){this.update();return}const o=this.flipEnabled();var l=new on;if(l.rotate(_t.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=l.point({x:-this.padding()*2,y:0});if(t.x+=p.x,t.y+=p.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,!o){this.update();return}}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=l.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.width+=this.padding()*2,!o){this.update();return}}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=l.point({x:0,y:-this.padding()*2});if(t.x+=p.x,t.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2,!o){this.update();return}}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=l.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2,!o){this.update();return}}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(i,t);p?t=p:D.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const h=1e7,f=new on;f.translate(i.x,i.y),f.rotate(i.rotation),f.scale(i.width/h,i.height/h);const c=new on;c.translate(t.x,t.y),c.rotate(t.rotation),c.scale(t.width/h,t.height/h);const g=c.multiply(f.invert());this._nodes.forEach(p=>{var v;const w=p.getParent().getAbsoluteTransform(),m=p.getTransform().copy();m.translate(p.offsetX(),p.offsetY());const P=new on;P.multiply(w.copy().invert()).multiply(g).multiply(w).multiply(m);const T=P.decompose();p.setAttrs(T),this._fire("transform",{evt:e,target:p}),p._fire("transform",{evt:e,target:p}),(v=p.getLayer())===null||v===void 0||v.batchDraw()}),this.rotation(D._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(D._getRotation(e.rotation));var i=e.width,s=e.height,o=this.enabledAnchors(),l=this.resizeEnabled(),h=this.padding(),f=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:f/2+h,offsetY:f/2+h,visible:l&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:f/2+h,visible:l&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:f/2-h,offsetY:f/2+h,visible:l&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:f/2+h,visible:l&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:s/2,offsetX:f/2-h,visible:l&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:f/2+h,offsetY:f/2-h,visible:l&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:s,offsetY:f/2-h,visible:l&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:s,offsetX:f/2-h,offsetY:f/2-h,visible:l&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*D._sign(s)-h,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),es.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return at.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function CA(n){return n instanceof Array||D.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(t){Fo.indexOf(t)===-1&&D.warn("Unknown anchor name: "+t+". Available names are: "+Fo.join(", "))}),n||[]}Xt.prototype.className="Transformer";ce(Xt);E.addGetterSetter(Xt,"enabledAnchors",Fo,CA);E.addGetterSetter(Xt,"flipEnabled",!0,Rn());E.addGetterSetter(Xt,"resizeEnabled",!0);E.addGetterSetter(Xt,"anchorSize",10,st());E.addGetterSetter(Xt,"rotateEnabled",!0);E.addGetterSetter(Xt,"rotationSnaps",[]);E.addGetterSetter(Xt,"rotateAnchorOffset",50,st());E.addGetterSetter(Xt,"rotationSnapTolerance",5,st());E.addGetterSetter(Xt,"borderEnabled",!0);E.addGetterSetter(Xt,"anchorStroke","rgb(0, 161, 255)");E.addGetterSetter(Xt,"anchorStrokeWidth",1,st());E.addGetterSetter(Xt,"anchorFill","white");E.addGetterSetter(Xt,"anchorCornerRadius",0,st());E.addGetterSetter(Xt,"borderStroke","rgb(0, 161, 255)");E.addGetterSetter(Xt,"borderStrokeWidth",1,st());E.addGetterSetter(Xt,"borderDash");E.addGetterSetter(Xt,"keepRatio",!0);E.addGetterSetter(Xt,"centeredScaling",!1);E.addGetterSetter(Xt,"ignoreStroke",!1);E.addGetterSetter(Xt,"padding",0,st());E.addGetterSetter(Xt,"node");E.addGetterSetter(Xt,"nodes");E.addGetterSetter(Xt,"boundBoxFunc");E.addGetterSetter(Xt,"anchorDragBoundFunc");E.addGetterSetter(Xt,"shouldOverdrawWholeArea",!1);E.addGetterSetter(Xt,"useSingleNodeRotation",!0);E.backCompat(Xt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class lr extends nt{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,_t.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}lr.prototype.className="Wedge";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radius"];ce(lr);E.addGetterSetter(lr,"radius",0,st());E.addGetterSetter(lr,"angle",0,st());E.addGetterSetter(lr,"clockwise",!1);E.backCompat(lr,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Bg(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var xA=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],EA=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function TA(n,t){var e=n.data,i=n.width,s=n.height,o,l,h,f,c,g,p,v,w,m,P,T,A,S,C,M,B,G,W,F,$,K,V,j,H=t+t+1,N=i-1,rt=s-1,Q=t+1,ht=Q*(Q+1)/2,dt=new Bg,Tt=null,ot=dt,yt=null,It=null,Ht=xA[t],ye=EA[t];for(h=1;h<H;h++)ot=ot.next=new Bg,h===Q&&(Tt=ot);for(ot.next=dt,p=g=0,l=0;l<s;l++){for(M=B=G=W=v=w=m=P=0,T=Q*(F=e[g]),A=Q*($=e[g+1]),S=Q*(K=e[g+2]),C=Q*(V=e[g+3]),v+=ht*F,w+=ht*$,m+=ht*K,P+=ht*V,ot=dt,h=0;h<Q;h++)ot.r=F,ot.g=$,ot.b=K,ot.a=V,ot=ot.next;for(h=1;h<Q;h++)f=g+((N<h?N:h)<<2),v+=(ot.r=F=e[f])*(j=Q-h),w+=(ot.g=$=e[f+1])*j,m+=(ot.b=K=e[f+2])*j,P+=(ot.a=V=e[f+3])*j,M+=F,B+=$,G+=K,W+=V,ot=ot.next;for(yt=dt,It=Tt,o=0;o<i;o++)e[g+3]=V=P*Ht>>ye,V!==0?(V=255/V,e[g]=(v*Ht>>ye)*V,e[g+1]=(w*Ht>>ye)*V,e[g+2]=(m*Ht>>ye)*V):e[g]=e[g+1]=e[g+2]=0,v-=T,w-=A,m-=S,P-=C,T-=yt.r,A-=yt.g,S-=yt.b,C-=yt.a,f=p+((f=o+t+1)<N?f:N)<<2,M+=yt.r=e[f],B+=yt.g=e[f+1],G+=yt.b=e[f+2],W+=yt.a=e[f+3],v+=M,w+=B,m+=G,P+=W,yt=yt.next,T+=F=It.r,A+=$=It.g,S+=K=It.b,C+=V=It.a,M-=F,B-=$,G-=K,W-=V,It=It.next,g+=4;p+=i}for(o=0;o<i;o++){for(B=G=W=M=w=m=P=v=0,g=o<<2,T=Q*(F=e[g]),A=Q*($=e[g+1]),S=Q*(K=e[g+2]),C=Q*(V=e[g+3]),v+=ht*F,w+=ht*$,m+=ht*K,P+=ht*V,ot=dt,h=0;h<Q;h++)ot.r=F,ot.g=$,ot.b=K,ot.a=V,ot=ot.next;for(c=i,h=1;h<=t;h++)g=c+o<<2,v+=(ot.r=F=e[g])*(j=Q-h),w+=(ot.g=$=e[g+1])*j,m+=(ot.b=K=e[g+2])*j,P+=(ot.a=V=e[g+3])*j,M+=F,B+=$,G+=K,W+=V,ot=ot.next,h<rt&&(c+=i);for(g=o,yt=dt,It=Tt,l=0;l<s;l++)f=g<<2,e[f+3]=V=P*Ht>>ye,V>0?(V=255/V,e[f]=(v*Ht>>ye)*V,e[f+1]=(w*Ht>>ye)*V,e[f+2]=(m*Ht>>ye)*V):e[f]=e[f+1]=e[f+2]=0,v-=T,w-=A,m-=S,P-=C,T-=yt.r,A-=yt.g,S-=yt.b,C-=yt.a,f=o+((f=l+Q)<rt?f:rt)*i<<2,v+=M+=yt.r=e[f],w+=B+=yt.g=e[f+1],m+=G+=yt.b=e[f+2],P+=W+=yt.a=e[f+3],yt=yt.next,T+=F=It.r,A+=$=It.g,S+=K=It.b,C+=V=It.a,M-=F,B-=$,G-=K,W-=V,It=It.next,g+=i}}const AA=function(t){var e=Math.round(this.blurRadius());e>0&&TA(t,e)};E.addGetterSetter(at,"blurRadius",0,st(),E.afterSetFilter);const PA=function(n){var t=this.brightness()*255,e=n.data,i=e.length,s;for(s=0;s<i;s+=4)e[s]+=t,e[s+1]+=t,e[s+2]+=t};E.addGetterSetter(at,"brightness",0,st(),E.afterSetFilter);const RA=function(n){var t=Math.pow((this.contrast()+100)/100,2),e=n.data,i=e.length,s=150,o=150,l=150,h;for(h=0;h<i;h+=4)s=e[h],o=e[h+1],l=e[h+2],s/=255,s-=.5,s*=t,s+=.5,s*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,l/=255,l-=.5,l*=t,l+=.5,l*=255,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,l=l<0?0:l>255?255:l,e[h]=s,e[h+1]=o,e[h+2]=l};E.addGetterSetter(at,"contrast",0,st(),E.afterSetFilter);const OA=function(n){var t=this.embossStrength()*10,e=this.embossWhiteLevel()*255,i=this.embossDirection(),s=this.embossBlend(),o=0,l=0,h=n.data,f=n.width,c=n.height,g=f*4,p=c;switch(i){case"top-left":o=-1,l=-1;break;case"top":o=-1,l=0;break;case"top-right":o=-1,l=1;break;case"right":o=0,l=1;break;case"bottom-right":o=1,l=1;break;case"bottom":o=1,l=0;break;case"bottom-left":o=1,l=-1;break;case"left":o=0,l=-1;break;default:D.error("Unknown emboss direction: "+i)}do{var v=(p-1)*g,w=o;p+w<1&&(w=0),p+w>c&&(w=0);var m=(p-1+w)*f*4,P=f;do{var T=v+(P-1)*4,A=l;P+A<1&&(A=0),P+A>f&&(A=0);var S=m+(P-1+A)*4,C=h[T]-h[S],M=h[T+1]-h[S+1],B=h[T+2]-h[S+2],G=C,W=G>0?G:-G,F=M>0?M:-M,$=B>0?B:-B;if(F>W&&(G=M),$>W&&(G=B),G*=t,s){var K=h[T]+G,V=h[T+1]+G,j=h[T+2]+G;h[T]=K>255?255:K<0?0:K,h[T+1]=V>255?255:V<0?0:V,h[T+2]=j>255?255:j<0?0:j}else{var H=e-G;H<0?H=0:H>255&&(H=255),h[T]=h[T+1]=h[T+2]=H}}while(--P)}while(--p)};E.addGetterSetter(at,"embossStrength",.5,st(),E.afterSetFilter);E.addGetterSetter(at,"embossWhiteLevel",.5,st(),E.afterSetFilter);E.addGetterSetter(at,"embossDirection","top-left",null,E.afterSetFilter);E.addGetterSetter(at,"embossBlend",!1,null,E.afterSetFilter);function Fu(n,t,e,i,s){var o=e-t,l=s-i,h;return o===0?i+l/2:l===0?i:(h=(n-t)/o,h=l*h+i,h)}const MA=function(n){var t=n.data,e=t.length,i=t[0],s=i,o,l=t[1],h=l,f,c=t[2],g=c,p,v,w=this.enhance();if(w!==0){for(v=0;v<e;v+=4)o=t[v+0],o<i?i=o:o>s&&(s=o),f=t[v+1],f<l?l=f:f>h&&(h=f),p=t[v+2],p<c?c=p:p>g&&(g=p);s===i&&(s=255,i=0),h===l&&(h=255,l=0),g===c&&(g=255,c=0);var m,P,T,A,S,C,M,B,G;for(w>0?(P=s+w*(255-s),T=i-w*(i-0),S=h+w*(255-h),C=l-w*(l-0),B=g+w*(255-g),G=c-w*(c-0)):(m=(s+i)*.5,P=s+w*(s-m),T=i+w*(i-m),A=(h+l)*.5,S=h+w*(h-A),C=l+w*(l-A),M=(g+c)*.5,B=g+w*(g-M),G=c+w*(c-M)),v=0;v<e;v+=4)t[v+0]=Fu(t[v+0],i,s,T,P),t[v+1]=Fu(t[v+1],l,h,C,S),t[v+2]=Fu(t[v+2],c,g,G,B)}};E.addGetterSetter(at,"enhance",0,st(),E.afterSetFilter);const LA=function(n){var t=n.data,e=t.length,i,s;for(i=0;i<e;i+=4)s=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i]=s,t[i+1]=s,t[i+2]=s};E.addGetterSetter(at,"hue",0,st(),E.afterSetFilter);E.addGetterSetter(at,"saturation",0,st(),E.afterSetFilter);E.addGetterSetter(at,"luminance",0,st(),E.afterSetFilter);const IA=function(n){var t=n.data,e=t.length,i=1,s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l=this.luminance()*127,h,f=i*s*Math.cos(o*Math.PI/180),c=i*s*Math.sin(o*Math.PI/180),g=.299*i+.701*f+.167*c,p=.587*i-.587*f+.33*c,v=.114*i-.114*f-.497*c,w=.299*i-.299*f-.328*c,m=.587*i+.413*f+.035*c,P=.114*i-.114*f+.293*c,T=.299*i-.3*f+1.25*c,A=.587*i-.586*f-1.05*c,S=.114*i+.886*f-.2*c,C,M,B,G;for(h=0;h<e;h+=4)C=t[h+0],M=t[h+1],B=t[h+2],G=t[h+3],t[h+0]=g*C+p*M+v*B+l,t[h+1]=w*C+m*M+P*B+l,t[h+2]=T*C+A*M+S*B+l,t[h+3]=G},kA=function(n){var t=n.data,e=t.length,i=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l,h=i*s*Math.cos(o*Math.PI/180),f=i*s*Math.sin(o*Math.PI/180),c=.299*i+.701*h+.167*f,g=.587*i-.587*h+.33*f,p=.114*i-.114*h-.497*f,v=.299*i-.299*h-.328*f,w=.587*i+.413*h+.035*f,m=.114*i-.114*h+.293*f,P=.299*i-.3*h+1.25*f,T=.587*i-.586*h-1.05*f,A=.114*i+.886*h-.2*f,S,C,M,B;for(l=0;l<e;l+=4)S=t[l+0],C=t[l+1],M=t[l+2],B=t[l+3],t[l+0]=c*S+g*C+p*M,t[l+1]=v*S+w*C+m*M,t[l+2]=P*S+T*C+A*M,t[l+3]=B};E.addGetterSetter(at,"hue",0,st(),E.afterSetFilter);E.addGetterSetter(at,"saturation",0,st(),E.afterSetFilter);E.addGetterSetter(at,"value",0,st(),E.afterSetFilter);const FA=function(n){var t=n.data,e=t.length,i;for(i=0;i<e;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};var DA=function(n,t,e){var i=n.data,s=t.data,o=n.width,l=n.height,h=e.polarCenterX||o/2,f=e.polarCenterY||l/2,c,g,p,v=0,w=0,m=0,P=0,T,A=Math.sqrt(h*h+f*f);g=o-h,p=l-f,T=Math.sqrt(g*g+p*p),A=T>A?T:A;var S=l,C=o,M,B,G=360/C*Math.PI/180,W,F;for(B=0;B<C;B+=1)for(W=Math.sin(B*G),F=Math.cos(B*G),M=0;M<S;M+=1)g=Math.floor(h+A*M/S*F),p=Math.floor(f+A*M/S*W),c=(p*o+g)*4,v=i[c+0],w=i[c+1],m=i[c+2],P=i[c+3],c=(B+M*o)*4,s[c+0]=v,s[c+1]=w,s[c+2]=m,s[c+3]=P},NA=function(n,t,e){var i=n.data,s=t.data,o=n.width,l=n.height,h=e.polarCenterX||o/2,f=e.polarCenterY||l/2,c,g,p,v,w,m=0,P=0,T=0,A=0,S,C=Math.sqrt(h*h+f*f);g=o-h,p=l-f,S=Math.sqrt(g*g+p*p),C=S>C?S:C;var M=l,B=o,G,W,F=e.polarRotation||0,$,K;for(g=0;g<o;g+=1)for(p=0;p<l;p+=1)v=g-h,w=p-f,G=Math.sqrt(v*v+w*w)*M/C,W=(Math.atan2(w,v)*180/Math.PI+360+F)%360,W=W*B/360,$=Math.floor(W),K=Math.floor(G),c=(K*o+$)*4,m=i[c+0],P=i[c+1],T=i[c+2],A=i[c+3],c=(p*o+g)*4,s[c+0]=m,s[c+1]=P,s[c+2]=T,s[c+3]=A};const GA=function(n){var t=n.width,e=n.height,i,s,o,l,h,f,c,g,p,v,w=Math.round(this.kaleidoscopePower()),m=Math.round(this.kaleidoscopeAngle()),P=Math.floor(t*(m%360)/360);if(!(w<1)){var T=D.createCanvasElement();T.width=t,T.height=e;var A=T.getContext("2d").getImageData(0,0,t,e);D.releaseCanvas(T),DA(n,A,{polarCenterX:t/2,polarCenterY:e/2});for(var S=t/Math.pow(2,w);S<=8;)S=S*2,w-=1;S=Math.ceil(S);var C=S,M=0,B=C,G=1;for(P+S>t&&(M=C,B=0,G=-1),s=0;s<e;s+=1)for(i=M;i!==B;i+=G)o=Math.round(i+P)%t,p=(t*s+o)*4,h=A.data[p+0],f=A.data[p+1],c=A.data[p+2],g=A.data[p+3],v=(t*s+i)*4,A.data[v+0]=h,A.data[v+1]=f,A.data[v+2]=c,A.data[v+3]=g;for(s=0;s<e;s+=1)for(C=Math.floor(S),l=0;l<w;l+=1){for(i=0;i<C+1;i+=1)p=(t*s+i)*4,h=A.data[p+0],f=A.data[p+1],c=A.data[p+2],g=A.data[p+3],v=(t*s+C*2-i-1)*4,A.data[v+0]=h,A.data[v+1]=f,A.data[v+2]=c,A.data[v+3]=g;C*=2}NA(A,n,{polarRotation:0})}};E.addGetterSetter(at,"kaleidoscopePower",2,st(),E.afterSetFilter);E.addGetterSetter(at,"kaleidoscopeAngle",0,st(),E.afterSetFilter);function So(n,t,e){var i=(e*n.width+t)*4,s=[];return s.push(n.data[i++],n.data[i++],n.data[i++],n.data[i++]),s}function Ts(n,t){return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)+Math.pow(n[2]-t[2],2))}function BA(n){for(var t=[0,0,0],e=0;e<n.length;e++)t[0]+=n[e][0],t[1]+=n[e][1],t[2]+=n[e][2];return t[0]/=n.length,t[1]/=n.length,t[2]/=n.length,t}function HA(n,t){var e=So(n,0,0),i=So(n,n.width-1,0),s=So(n,0,n.height-1),o=So(n,n.width-1,n.height-1),l=t||10;if(Ts(e,i)<l&&Ts(i,o)<l&&Ts(o,s)<l&&Ts(s,e)<l){for(var h=BA([i,e,o,s]),f=[],c=0;c<n.width*n.height;c++){var g=Ts(h,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);f[c]=g<l?0:255}return f}}function UA(n,t){for(var e=0;e<n.width*n.height;e++)n.data[4*e+3]=t[e]}function WA(n,t,e){for(var i=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],h=0;h<e;h++)for(var f=0;f<t;f++){for(var c=h*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var w=h+p-o,m=f+v-o;if(w>=0&&w<e&&m>=0&&m<t){var P=w*t+m,T=i[p*s+v];g+=n[P]*T}}l[c]=g===255*8?255:0}return l}function zA(n,t,e){for(var i=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],h=0;h<e;h++)for(var f=0;f<t;f++){for(var c=h*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var w=h+p-o,m=f+v-o;if(w>=0&&w<e&&m>=0&&m<t){var P=w*t+m,T=i[p*s+v];g+=n[P]*T}}l[c]=g>=255*4?255:0}return l}function YA(n,t,e){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],h=0;h<e;h++)for(var f=0;f<t;f++){for(var c=h*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var w=h+p-o,m=f+v-o;if(w>=0&&w<e&&m>=0&&m<t){var P=w*t+m,T=i[p*s+v];g+=n[P]*T}}l[c]=g}return l}const $A=function(n){var t=this.threshold(),e=HA(n,t);return e&&(e=WA(e,n.width,n.height),e=zA(e,n.width,n.height),e=YA(e,n.width,n.height),UA(n,e)),n};E.addGetterSetter(at,"threshold",0,st(),E.afterSetFilter);const KA=function(n){var t=this.noise()*255,e=n.data,i=e.length,s=t/2,o;for(o=0;o<i;o+=4)e[o+0]+=s-2*s*Math.random(),e[o+1]+=s-2*s*Math.random(),e[o+2]+=s-2*s*Math.random()};E.addGetterSetter(at,"noise",.2,st(),E.afterSetFilter);const XA=function(n){var t=Math.ceil(this.pixelSize()),e=n.width,i=n.height,s,o,l,h,f,c,g,p=Math.ceil(e/t),v=Math.ceil(i/t),w,m,P,T,A,S,C,M=n.data;if(t<=0){D.error("pixelSize value can not be <= 0");return}for(A=0;A<p;A+=1)for(S=0;S<v;S+=1){for(h=0,f=0,c=0,g=0,w=A*t,m=w+t,P=S*t,T=P+t,C=0,s=w;s<m;s+=1)if(!(s>=e))for(o=P;o<T;o+=1)o>=i||(l=(e*o+s)*4,h+=M[l+0],f+=M[l+1],c+=M[l+2],g+=M[l+3],C+=1);for(h=h/C,f=f/C,c=c/C,g=g/C,s=w;s<m;s+=1)if(!(s>=e))for(o=P;o<T;o+=1)o>=i||(l=(e*o+s)*4,M[l+0]=h,M[l+1]=f,M[l+2]=c,M[l+3]=g)}};E.addGetterSetter(at,"pixelSize",8,st(),E.afterSetFilter);const qA=function(n){var t=Math.round(this.levels()*254)+1,e=n.data,i=e.length,s=255/t,o;for(o=0;o<i;o+=1)e[o]=Math.floor(e[o]/s)*s};E.addGetterSetter(at,"levels",.5,st(),E.afterSetFilter);const VA=function(n){var t=n.data,e=t.length,i=this.red(),s=this.green(),o=this.blue(),l,h;for(l=0;l<e;l+=4)h=(.34*t[l]+.5*t[l+1]+.16*t[l+2])/255,t[l]=h*i,t[l+1]=h*s,t[l+2]=h*o,t[l+3]=t[l+3]};E.addGetterSetter(at,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(at,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(at,"blue",0,R_,E.afterSetFilter);const jA=function(n){var t=n.data,e=t.length,i=this.red(),s=this.green(),o=this.blue(),l=this.alpha(),h,f;for(h=0;h<e;h+=4)f=1-l,t[h]=i*l+t[h]*f,t[h+1]=s*l+t[h+1]*f,t[h+2]=o*l+t[h+2]*f};E.addGetterSetter(at,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(at,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(at,"blue",0,R_,E.afterSetFilter);E.addGetterSetter(at,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});const ZA=function(n){var t=n.data,e=t.length,i,s,o,l;for(i=0;i<e;i+=4)s=t[i+0],o=t[i+1],l=t[i+2],t[i+0]=Math.min(255,s*.393+o*.769+l*.189),t[i+1]=Math.min(255,s*.349+o*.686+l*.168),t[i+2]=Math.min(255,s*.272+o*.534+l*.131)},JA=function(n){var t=n.data,e=n.width,i=n.height,s=e*4,o=i;do{var l=(o-1)*s,h=e;do{var f=l+(h-1)*4,c=t[f],g=t[f+1],p=t[f+2];c>127&&(c=255-c),g>127&&(g=255-g),p>127&&(p=255-p),t[f]=c,t[f+1]=g,t[f+2]=p}while(--h)}while(--o)},QA=function(n){var t=this.threshold()*255,e=n.data,i=e.length,s;for(s=0;s<i;s+=1)e[s]=e[s]<t?0:255};E.addGetterSetter(at,"threshold",.5,st(),E.afterSetFilter);const tP=Mg.Util._assign(Mg,{Arc:ar,Arrow:gi,Circle:ss,Ellipse:Nr,Image:On,Label:jh,Tag:pi,Line:or,Path:jt,Rect:fa,RegularPolygon:_i,Ring:vi,Sprite:Hn,Star:Gr,Text:fe,TextPath:Ce,Transformer:Xt,Wedge:lr,Filters:{Blur:AA,Brighten:PA,Contrast:RA,Emboss:OA,Enhance:MA,Grayscale:LA,HSL:IA,HSV:kA,Invert:FA,Kaleidoscope:GA,Mask:$A,Noise:KA,Pixelate:XA,Posterize:qA,RGB:VA,RGBA:jA,Sepia:ZA,Solarize:JA,Threshold:QA}}),eP=Object.freeze(Object.defineProperty({__proto__:null,default:tP},Symbol.toStringTag,{value:"Module"})),nP=$h(eP);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(n,t){(function(i,s){n.exports=s(zE,nP)})(Bi,function(e,i){return function(s){var o={};function l(h){if(o[h])return o[h].exports;var f=o[h]={i:h,l:!1,exports:{}};return s[h].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=s,l.c=o,l.d=function(h,f,c){l.o(h,f)||Object.defineProperty(h,f,{enumerable:!0,get:c})},l.r=function(h){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})},l.t=function(h,f){if(f&1&&(h=l(h)),f&8||f&4&&typeof h=="object"&&h&&h.__esModule)return h;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:h}),f&2&&typeof h!="string")for(var g in h)l.d(c,g,function(p){return h[p]}.bind(null,g));return c},l.n=function(h){var f=h&&h.__esModule?function(){return h.default}:function(){return h};return l.d(f,"a",f),f},l.o=function(h,f){return Object.prototype.hasOwnProperty.call(h,f)},l.p="",l(l.s=2)}([function(s,o){s.exports=e},function(s,o){s.exports=i},function(s,o,l){s.exports=l(3)},function(s,o,l){l.r(o);var h=l(0),f=l(1),c=l.n(f);function g(H){if(!c.a.autoDrawEnabled){var N=H.getLayer()||H.getStage();N&&N.batchDraw()}}var p={key:!0,style:!0,elm:!0,isRootInsert:!0},v=".vue-konva-event";function w(H,N,rt,Q){N===void 0&&(N={}),rt===void 0&&(rt={});var ht=H.__konvaNode,dt={},Tt=!1;for(var ot in rt)if(!p[ot]){var yt=ot.slice(0,2)==="on",It=rt[ot]!==N[ot];if(yt&&It){var Ht=ot.substr(2).toLowerCase();Ht.substr(0,7)==="content"&&(Ht="content"+Ht.substr(7,1).toUpperCase()+Ht.substr(8)),ht.off(Ht+v,rt[ot])}var ye=!N.hasOwnProperty(ot);ye&&ht.setAttr(ot,void 0)}for(var qt in N)if(!p[qt]){var Jt=qt.slice(0,2)==="on",je=rt[qt]!==N[qt];if(Jt&&je){var ie=qt.substr(2).toLowerCase();ie.substr(0,7)==="content"&&(ie="content"+ie.substr(7,1).toUpperCase()+ie.substr(8)),N[qt]&&(ht.off(ie+v),ht.on(ie+v,N[qt]))}!Jt&&(N[qt]!==rt[qt]||Q&&N[qt]!==ht.getAttr(qt))&&(Tt=!0,dt[qt]=N[qt])}Tt&&(ht.setAttrs(dt),g(ht))}var m="v";function P(H){function N(rt){return rt.__konvaNode?rt:rt.parent?N(rt.parent):(console.error("vue-konva error: Can not find parent node"),{})}return N(H.parent)}function T(H){if(H!=null&&H.component)return H.component.__konvaNode||T(H.component.subTree)}function A(H){var N=H.el,rt=H.component,Q=T(H);if((N==null?void 0:N.tagName)&&rt&&!Q){var ht=N&&N.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+ht+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return Q}function S(H){var N=[];return H.children&&H.children.forEach(function(rt){!rt.component&&Array.isArray(rt.children)&&rt.children.forEach(function(Q){!Q.component&&Array.isArray(Q.children)?N.push.apply(N,Q.children):N.push(Q)}),rt.component&&N.push(rt)}),N}function C(H,N){var rt=S(H),Q=[];rt.forEach(function(dt){var Tt=A(dt);Tt&&Q.push(Tt)});var ht=!1;Q.forEach(function(dt,Tt){dt.getZIndex()!==Tt&&(dt.setZIndex(Tt),ht=!0)}),ht&&g(N)}function M(){return M=Object.assign||function(H){for(var N=1;N<arguments.length;N++){var rt=arguments[N];for(var Q in rt)Object.prototype.hasOwnProperty.call(rt,Q)&&(H[Q]=rt[Q])}return H},M.apply(this,arguments)}var B={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(N,rt){var Q=rt.attrs,ht=rt.slots,dt=rt.expose;rt.emits;var Tt=Object(h.getCurrentInstance)(),ot=Object(h.reactive)({}),yt=Object(h.ref)(null),It=new window.Konva.Stage({width:N.config.width,height:N.config.height,container:document.createElement("div")});Tt.__konvaNode=It,qt();function Ht(){return Tt.__konvaNode}function ye(){return Tt.__konvaNode}function qt(){var Jt=ot||{},je=M({},Q,N.config);w(Tt,je,Jt,N.__useStrictMode),Object.assign(ot,je)}return Object(h.onMounted)(function(){yt.value.innerHTML="",It.container(yt.value),qt()}),Object(h.onUpdated)(function(){qt(),C(Tt.subTree,It)}),Object(h.onBeforeUnmount)(function(){It.destroy()}),Object(h.watch)(function(){return N.config},qt,{deep:!0}),dt({getStage:ye,getNode:Ht}),function(){var Jt;return Object(h.h)("div",{ref:yt},(Jt=ht.default)===null||Jt===void 0?void 0:Jt.call(ht))}}};function G(){return G=Object.assign||function(H){for(var N=1;N<arguments.length;N++){var rt=arguments[N];for(var Q in rt)Object.prototype.hasOwnProperty.call(rt,Q)&&(H[Q]=rt[Q])}return H},G.apply(this,arguments)}var W=".vue-konva-event",F={Group:!0,Layer:!0,FastLayer:!0,Label:!0},$=function(H){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(rt,Q){var ht=Q.attrs,dt=Q.slots,Tt=Q.expose,ot=Object(h.getCurrentInstance)(),yt=Object(h.reactive)({}),It=window.Konva[H];if(!It){console.error("vue-konva error: Can not find node "+H);return}var Ht=new It;ot.__konvaNode=Ht,ot.vnode.__konvaNode=Ht,Jt();function ye(){return ot.__konvaNode}function qt(){return ot.__konvaNode}function Jt(){var ie={};for(var Me in ot.vnode.props)Me.slice(0,2)==="on"&&(ie[Me]=ot.vnode.props[Me]);var Br=yt||{},Sn=G({},ht,rt.config,ie);w(ot,Sn,Br,rt.__useStrictMode),Object.assign(yt,Sn)}Object(h.onMounted)(function(){var ie=P(ot).__konvaNode;ie.add(Ht),g(Ht)}),Object(h.onUnmounted)(function(){g(Ht),Ht.destroy(),Ht.off(W)}),Object(h.onUpdated)(function(){Jt(),C(ot.subTree,Ht)}),Object(h.watch)(function(){return rt.config},Jt,{deep:!0}),Tt({getStage:qt,getNode:ye});var je=F[H];return je?function(){var ie;return Object(h.h)("template",{},(ie=dt.default)===null||ie===void 0?void 0:ie.call(dt))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&l(1);var K=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],V=[{name:"Stage",component:B}].concat(K.map(function(H){return{name:H,component:$(H)}})),j={install:function(N,rt){var Q=m;rt&&rt.prefix&&(Q=rt.prefix),V.forEach(function(ht){N.component(""+Q+ht.name,ht.component)})}};o.default=j}]).default})})(P_);const rP=Qx(P_.exports),o0=S_(WE);o0.use(rP);o0.mount("#app");
