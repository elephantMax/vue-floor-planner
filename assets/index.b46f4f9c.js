(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Yo(n,t){const e=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)e[i[s]]=!0;return t?s=>!!e[s.toLowerCase()]:s=>!!e[s]}const SS="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",CS=Yo(SS);function oa(n){if(vt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=he(i)?AS(i):oa(i);if(s)for(const o in s)t[o]=s[o]}return t}else{if(he(n))return n;if(ne(n))return n}}const xS=/;(?![^(]*\))/g,ES=/:([^]+)/,TS=/\/\*.*?\*\//gs;function AS(n){const t={};return n.replace(TS,"").split(xS).forEach(e=>{if(e){const i=e.split(ES);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function la(n){let t="";if(he(n))t=n;else if(vt(n))for(let e=0;e<n.length;e++){const i=la(n[e]);i&&(t+=i+" ")}else if(ne(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function PS(n){if(!n)return null;let{class:t,style:e}=n;return t&&!he(t)&&(n.class=la(t)),e&&(n.style=oa(e)),n}const OS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",RS=Yo(OS);function up(n){return!!n||n===""}function MS(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Dr(n[i],t[i]);return e}function Dr(n,t){if(n===t)return!0;let e=Yd(n),i=Yd(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=js(n),i=js(t),e||i)return n===t;if(e=vt(n),i=vt(t),e||i)return e&&i?MS(n,t):!1;if(e=ne(n),i=ne(t),e||i){if(!e||!i)return!1;const s=Object.keys(n).length,o=Object.keys(t).length;if(s!==o)return!1;for(const l in n){const u=n.hasOwnProperty(l),f=t.hasOwnProperty(l);if(u&&!f||!u&&f||!Dr(n[l],t[l]))return!1}}return String(n)===String(t)}function Ko(n,t){return n.findIndex(e=>Dr(e,t))}const hp=n=>he(n)?n:n==null?"":vt(n)||ne(n)&&(n.toString===cp||!Tt(n.toString))?JSON.stringify(n,fp,2):String(n),fp=(n,t)=>t&&t.__v_isRef?fp(n,t.value):Qi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,s])=>(e[`${i} =>`]=s,e),{})}:_i(t)?{[`Set(${t.size})`]:[...t.values()]}:ne(t)&&!vt(t)&&!dp(t)?String(t):t,Jt={},ji=[],kn=()=>{},LS=()=>!1,IS=/^on[^a-z]/,ua=n=>IS.test(n),Ah=n=>n.startsWith("onUpdate:"),ge=Object.assign,Ph=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},kS=Object.prototype.hasOwnProperty,Ht=(n,t)=>kS.call(n,t),vt=Array.isArray,Qi=n=>ha(n)==="[object Map]",_i=n=>ha(n)==="[object Set]",Yd=n=>ha(n)==="[object Date]",Tt=n=>typeof n=="function",he=n=>typeof n=="string",js=n=>typeof n=="symbol",ne=n=>n!==null&&typeof n=="object",Oh=n=>ne(n)&&Tt(n.then)&&Tt(n.catch),cp=Object.prototype.toString,ha=n=>cp.call(n),DS=n=>ha(n).slice(8,-1),dp=n=>ha(n)==="[object Object]",Rh=n=>he(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Us=Yo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xo=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},FS=/-(\w)/g,Qe=Xo(n=>n.replace(FS,(t,e)=>e?e.toUpperCase():"")),NS=/\B([A-Z])/g,Cn=Xo(n=>n.replace(NS,"-$1").toLowerCase()),fa=Xo(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ws=Xo(n=>n?`on${fa(n)}`:""),rs=(n,t)=>!Object.is(n,t),Ji=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},Do=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},hr=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Kd;const GS=()=>Kd||(Kd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let on;class Mh{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=on,!t&&on&&(this.index=(on.scopes||(on.scopes=[])).push(this)-1)}run(t){if(this.active){const e=on;try{return on=this,t()}finally{on=e}}}on(){on=this}off(){on=this.parent}stop(t){if(this.active){let e,i;for(e=0,i=this.effects.length;e<i;e++)this.effects[e].stop();for(e=0,i=this.cleanups.length;e<i;e++)this.cleanups[e]();if(this.scopes)for(e=0,i=this.scopes.length;e<i;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function BS(n){return new Mh(n)}function gp(n,t=on){t&&t.active&&t.effects.push(n)}function pp(){return on}function _p(n){on&&on.cleanups.push(n)}const Lh=n=>{const t=new Set(n);return t.w=0,t.n=0,t},vp=n=>(n.w&Fr)>0,mp=n=>(n.n&Fr)>0,HS=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=Fr},US=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const s=t[i];vp(s)&&!mp(s)?s.delete(n):t[e++]=s,s.w&=~Fr,s.n&=~Fr}t.length=e}},qu=new WeakMap;let Ds=0,Fr=1;const Vu=30;let In;const ai=Symbol(""),ju=Symbol("");class ca{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,gp(this,i)}run(){if(!this.active)return this.fn();let t=In,e=Lr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=In,In=this,Lr=!0,Fr=1<<++Ds,Ds<=Vu?HS(this):Xd(this),this.fn()}finally{Ds<=Vu&&US(this),Fr=1<<--Ds,In=this.parent,Lr=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){In===this?this.deferStop=!0:this.active&&(Xd(this),this.onStop&&this.onStop(),this.active=!1)}}function Xd(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}function WS(n,t){n.effect&&(n=n.effect.fn);const e=new ca(n);t&&(ge(e,t),t.scope&&gp(e,t.scope)),(!t||!t.lazy)&&e.run();const i=e.run.bind(e);return i.effect=e,i}function zS(n){n.effect.stop()}let Lr=!0;const yp=[];function ls(){yp.push(Lr),Lr=!1}function us(){const n=yp.pop();Lr=n===void 0?!0:n}function dn(n,t,e){if(Lr&&In){let i=qu.get(n);i||qu.set(n,i=new Map);let s=i.get(e);s||i.set(e,s=Lh()),bp(s)}}function bp(n,t){let e=!1;Ds<=Vu?mp(n)||(n.n|=Fr,e=!vp(n)):e=!n.has(In),e&&(n.add(In),In.deps.push(n))}function fr(n,t,e,i,s,o){const l=qu.get(n);if(!l)return;let u=[];if(t==="clear")u=[...l.values()];else if(e==="length"&&vt(n)){const f=hr(i);l.forEach((c,g)=>{(g==="length"||g>=f)&&u.push(c)})}else switch(e!==void 0&&u.push(l.get(e)),t){case"add":vt(n)?Rh(e)&&u.push(l.get("length")):(u.push(l.get(ai)),Qi(n)&&u.push(l.get(ju)));break;case"delete":vt(n)||(u.push(l.get(ai)),Qi(n)&&u.push(l.get(ju)));break;case"set":Qi(n)&&u.push(l.get(ai));break}if(u.length===1)u[0]&&Qu(u[0]);else{const f=[];for(const c of u)c&&f.push(...c);Qu(Lh(f))}}function Qu(n,t){const e=vt(n)?n:[...n];for(const i of e)i.computed&&qd(i);for(const i of e)i.computed||qd(i)}function qd(n,t){(n!==In||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const $S=Yo("__proto__,__v_isRef,__isVue"),wp=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(js)),YS=qo(),KS=qo(!1,!0),XS=qo(!0),qS=qo(!0,!0),Vd=VS();function VS(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=Ut(this);for(let o=0,l=this.length;o<l;o++)dn(i,"get",o+"");const s=i[t](...e);return s===-1||s===!1?i[t](...e.map(Ut)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){ls();const i=Ut(this)[t].apply(this,e);return us(),i}}),n}function qo(n=!1,t=!1){return function(i,s,o){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&o===(n?t?Pp:Ap:t?Tp:Ep).get(i))return i;const l=vt(i);if(!n&&l&&Ht(Vd,s))return Reflect.get(Vd,s,o);const u=Reflect.get(i,s,o);return(js(s)?wp.has(s):$S(s))||(n||dn(i,"get",s),t)?u:be(u)?l&&Rh(s)?u:u.value:ne(u)?n?kh(u):Dn(u):u}}const jS=Sp(),QS=Sp(!0);function Sp(n=!1){return function(e,i,s,o){let l=e[i];if(fi(l)&&be(l)&&!be(s))return!1;if(!n&&(!Qs(s)&&!fi(s)&&(l=Ut(l),s=Ut(s)),!vt(e)&&be(l)&&!be(s)))return l.value=s,!0;const u=vt(e)&&Rh(i)?Number(i)<e.length:Ht(e,i),f=Reflect.set(e,i,s,o);return e===Ut(o)&&(u?rs(s,l)&&fr(e,"set",i,s):fr(e,"add",i,s)),f}}function JS(n,t){const e=Ht(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&fr(n,"delete",t,void 0),i}function ZS(n,t){const e=Reflect.has(n,t);return(!js(t)||!wp.has(t))&&dn(n,"has",t),e}function tC(n){return dn(n,"iterate",vt(n)?"length":ai),Reflect.ownKeys(n)}const Cp={get:YS,set:jS,deleteProperty:JS,has:ZS,ownKeys:tC},xp={get:XS,set(n,t){return!0},deleteProperty(n,t){return!0}},eC=ge({},Cp,{get:KS,set:QS}),nC=ge({},xp,{get:qS}),Ih=n=>n,Vo=n=>Reflect.getPrototypeOf(n);function oo(n,t,e=!1,i=!1){n=n.__v_raw;const s=Ut(n),o=Ut(t);e||(t!==o&&dn(s,"get",t),dn(s,"get",o));const{has:l}=Vo(s),u=i?Ih:e?Nh:Js;if(l.call(s,t))return u(n.get(t));if(l.call(s,o))return u(n.get(o));n!==s&&n.get(t)}function lo(n,t=!1){const e=this.__v_raw,i=Ut(e),s=Ut(n);return t||(n!==s&&dn(i,"has",n),dn(i,"has",s)),n===s?e.has(n):e.has(n)||e.has(s)}function uo(n,t=!1){return n=n.__v_raw,!t&&dn(Ut(n),"iterate",ai),Reflect.get(n,"size",n)}function jd(n){n=Ut(n);const t=Ut(this);return Vo(t).has.call(t,n)||(t.add(n),fr(t,"add",n,n)),this}function Qd(n,t){t=Ut(t);const e=Ut(this),{has:i,get:s}=Vo(e);let o=i.call(e,n);o||(n=Ut(n),o=i.call(e,n));const l=s.call(e,n);return e.set(n,t),o?rs(t,l)&&fr(e,"set",n,t):fr(e,"add",n,t),this}function Jd(n){const t=Ut(this),{has:e,get:i}=Vo(t);let s=e.call(t,n);s||(n=Ut(n),s=e.call(t,n)),i&&i.call(t,n);const o=t.delete(n);return s&&fr(t,"delete",n,void 0),o}function Zd(){const n=Ut(this),t=n.size!==0,e=n.clear();return t&&fr(n,"clear",void 0,void 0),e}function ho(n,t){return function(i,s){const o=this,l=o.__v_raw,u=Ut(l),f=t?Ih:n?Nh:Js;return!n&&dn(u,"iterate",ai),l.forEach((c,g)=>i.call(s,f(c),f(g),o))}}function fo(n,t,e){return function(...i){const s=this.__v_raw,o=Ut(s),l=Qi(o),u=n==="entries"||n===Symbol.iterator&&l,f=n==="keys"&&l,c=s[n](...i),g=e?Ih:t?Nh:Js;return!t&&dn(o,"iterate",f?ju:ai),{next(){const{value:p,done:v}=c.next();return v?{value:p,done:v}:{value:u?[g(p[0]),g(p[1])]:g(p),done:v}},[Symbol.iterator](){return this}}}}function Tr(n){return function(...t){return n==="delete"?!1:this}}function rC(){const n={get(o){return oo(this,o)},get size(){return uo(this)},has:lo,add:jd,set:Qd,delete:Jd,clear:Zd,forEach:ho(!1,!1)},t={get(o){return oo(this,o,!1,!0)},get size(){return uo(this)},has:lo,add:jd,set:Qd,delete:Jd,clear:Zd,forEach:ho(!1,!0)},e={get(o){return oo(this,o,!0)},get size(){return uo(this,!0)},has(o){return lo.call(this,o,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:ho(!0,!1)},i={get(o){return oo(this,o,!0,!0)},get size(){return uo(this,!0)},has(o){return lo.call(this,o,!0)},add:Tr("add"),set:Tr("set"),delete:Tr("delete"),clear:Tr("clear"),forEach:ho(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=fo(o,!1,!1),e[o]=fo(o,!0,!1),t[o]=fo(o,!1,!0),i[o]=fo(o,!0,!0)}),[n,e,t,i]}const[iC,sC,aC,oC]=rC();function jo(n,t){const e=t?n?oC:aC:n?sC:iC;return(i,s,o)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(Ht(e,s)&&s in i?e:i,s,o)}const lC={get:jo(!1,!1)},uC={get:jo(!1,!0)},hC={get:jo(!0,!1)},fC={get:jo(!0,!0)},Ep=new WeakMap,Tp=new WeakMap,Ap=new WeakMap,Pp=new WeakMap;function cC(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dC(n){return n.__v_skip||!Object.isExtensible(n)?0:cC(DS(n))}function Dn(n){return fi(n)?n:Qo(n,!1,Cp,lC,Ep)}function Op(n){return Qo(n,!1,eC,uC,Tp)}function kh(n){return Qo(n,!0,xp,hC,Ap)}function gC(n){return Qo(n,!0,nC,fC,Pp)}function Qo(n,t,e,i,s){if(!ne(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const o=s.get(n);if(o)return o;const l=dC(n);if(l===0)return n;const u=new Proxy(n,l===2?i:e);return s.set(n,u),u}function oi(n){return fi(n)?oi(n.__v_raw):!!(n&&n.__v_isReactive)}function fi(n){return!!(n&&n.__v_isReadonly)}function Qs(n){return!!(n&&n.__v_isShallow)}function Dh(n){return oi(n)||fi(n)}function Ut(n){const t=n&&n.__v_raw;return t?Ut(t):n}function Fh(n){return Do(n,"__v_skip",!0),n}const Js=n=>ne(n)?Dn(n):n,Nh=n=>ne(n)?kh(n):n;function Gh(n){Lr&&In&&(n=Ut(n),bp(n.dep||(n.dep=Lh())))}function Jo(n,t){n=Ut(n),n.dep&&Qu(n.dep)}function be(n){return!!(n&&n.__v_isRef===!0)}function ze(n){return Rp(n,!1)}function pC(n){return Rp(n,!0)}function Rp(n,t){return be(n)?n:new _C(n,t)}class _C{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ut(t),this._value=e?t:Js(t)}get value(){return Gh(this),this._value}set value(t){const e=this.__v_isShallow||Qs(t)||fi(t);t=e?t:Ut(t),rs(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Js(t),Jo(this))}}function vC(n){Jo(n)}function me(n){return be(n)?n.value:n}const mC={get:(n,t,e)=>me(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const s=n[t];return be(s)&&!be(e)?(s.value=e,!0):Reflect.set(n,t,e,i)}};function Bh(n){return oi(n)?n:new Proxy(n,mC)}class yC{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:e,set:i}=t(()=>Gh(this),()=>Jo(this));this._get=e,this._set=i}get value(){return this._get()}set value(t){this._set(t)}}function bC(n){return new yC(n)}function wC(n){const t=vt(n)?new Array(n.length):{};for(const e in n)t[e]=Mp(n,e);return t}class SC{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Mp(n,t,e){const i=n[t];return be(i)?i:new SC(n,t,e)}var Lp;class CC{constructor(t,e,i,s){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Lp]=!1,this._dirty=!0,this.effect=new ca(t,()=>{this._dirty||(this._dirty=!0,Jo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=Ut(this);return Gh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Lp="__v_isReadonly";function Ip(n,t,e=!1){let i,s;const o=Tt(n);return o?(i=n,s=kn):(i=n.get,s=n.set),new CC(i,s,o||!s,e)}function xC(n,...t){}function lr(n,t,e,i){let s;try{s=i?n(...i):n()}catch(o){vi(o,t,e)}return s}function hn(n,t,e,i){if(Tt(n)){const o=lr(n,t,e,i);return o&&Oh(o)&&o.catch(l=>{vi(l,t,e)}),o}const s=[];for(let o=0;o<n.length;o++)s.push(hn(n[o],t,e,i));return s}function vi(n,t,e,i=!0){const s=t?t.vnode:null;if(t){let o=t.parent;const l=t.proxy,u=e;for(;o;){const c=o.ec;if(c){for(let g=0;g<c.length;g++)if(c[g](n,l,u)===!1)return}o=o.parent}const f=t.appContext.config.errorHandler;if(f){lr(f,null,10,[n,l,u]);return}}EC(n,e,s,i)}function EC(n,t,e,i=!0){console.error(n)}let Zs=!1,Ju=!1;const Fe=[];let $n=0;const Zi=[];let ar=null,ri=0;const kp=Promise.resolve();let Hh=null;function da(n){const t=Hh||kp;return n?t.then(this?n.bind(this):n):t}function TC(n){let t=$n+1,e=Fe.length;for(;t<e;){const i=t+e>>>1;ta(Fe[i])<n?t=i+1:e=i}return t}function Zo(n){(!Fe.length||!Fe.includes(n,Zs&&n.allowRecurse?$n+1:$n))&&(n.id==null?Fe.push(n):Fe.splice(TC(n.id),0,n),Dp())}function Dp(){!Zs&&!Ju&&(Ju=!0,Hh=kp.then(Fp))}function AC(n){const t=Fe.indexOf(n);t>$n&&Fe.splice(t,1)}function Uh(n){vt(n)?Zi.push(...n):(!ar||!ar.includes(n,n.allowRecurse?ri+1:ri))&&Zi.push(n),Dp()}function tg(n,t=Zs?$n+1:0){for(;t<Fe.length;t++){const e=Fe[t];e&&e.pre&&(Fe.splice(t,1),t--,e())}}function Fo(n){if(Zi.length){const t=[...new Set(Zi)];if(Zi.length=0,ar){ar.push(...t);return}for(ar=t,ar.sort((e,i)=>ta(e)-ta(i)),ri=0;ri<ar.length;ri++)ar[ri]();ar=null,ri=0}}const ta=n=>n.id==null?1/0:n.id,PC=(n,t)=>{const e=ta(n)-ta(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function Fp(n){Ju=!1,Zs=!0,Fe.sort(PC);const t=kn;try{for($n=0;$n<Fe.length;$n++){const e=Fe[$n];e&&e.active!==!1&&lr(e,null,14)}}finally{$n=0,Fe.length=0,Fo(),Zs=!1,Hh=null,(Fe.length||Zi.length)&&Fp()}}let Xi,co=[];function Np(n,t){var e,i;Xi=n,Xi?(Xi.enabled=!0,co.forEach(({event:s,args:o})=>Xi.emit(s,...o)),co=[]):typeof window<"u"&&window.HTMLElement&&!(!((i=(e=window.navigator)===null||e===void 0?void 0:e.userAgent)===null||i===void 0)&&i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{Np(o,t)}),setTimeout(()=>{Xi||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,co=[])},3e3)):co=[]}function OC(n,t,...e){if(n.isUnmounted)return;const i=n.vnode.props||Jt;let s=e;const o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in i){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:p,trim:v}=i[g]||Jt;v&&(s=e.map(b=>he(b)?b.trim():b)),p&&(s=e.map(hr))}let u,f=i[u=Ws(t)]||i[u=Ws(Qe(t))];!f&&o&&(f=i[u=Ws(Cn(t))]),f&&hn(f,n,6,s);const c=i[u+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,hn(c,n,6,s)}}function Gp(n,t,e=!1){const i=t.emitsCache,s=i.get(n);if(s!==void 0)return s;const o=n.emits;let l={},u=!1;if(!Tt(n)){const f=c=>{const g=Gp(c,t,!0);g&&(u=!0,ge(l,g))};!e&&t.mixins.length&&t.mixins.forEach(f),n.extends&&f(n.extends),n.mixins&&n.mixins.forEach(f)}return!o&&!u?(ne(n)&&i.set(n,null),null):(vt(o)?o.forEach(f=>l[f]=null):ge(l,o),ne(n)&&i.set(n,l),l)}function tl(n,t){return!n||!ua(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ht(n,t[0].toLowerCase()+t.slice(1))||Ht(n,Cn(t))||Ht(n,t))}let Le=null,el=null;function ea(n){const t=Le;return Le=n,el=n&&n.type.__scopeId||null,t}function RC(n){el=n}function MC(){el=null}const LC=n=>na;function na(n,t=Le,e){if(!t||n._n)return n;const i=(...s)=>{i._d&&sh(-1);const o=ea(t);let l;try{l=n(...s)}finally{ea(o),i._d&&sh(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function Ro(n){const{type:t,vnode:e,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:u,attrs:f,emit:c,render:g,renderCache:p,data:v,setupState:b,ctx:m,inheritAttrs:P}=n;let A,T;const S=ea(n);try{if(e.shapeFlag&4){const M=s||i;A=ln(g.call(M,M,p,o,b,v,m)),T=f}else{const M=t;A=ln(M.length>1?M(o,{attrs:f,slots:u,emit:c}):M(o,null)),T=t.props?f:kC(f)}}catch(M){Ys.length=0,vi(M,n,1),A=It(Ne)}let C=A;if(T&&P!==!1){const M=Object.keys(T),{shapeFlag:B}=C;M.length&&B&7&&(l&&M.some(Ah)&&(T=DC(T,l)),C=Kn(C,T))}return e.dirs&&(C=Kn(C),C.dirs=C.dirs?C.dirs.concat(e.dirs):e.dirs),e.transition&&(C.transition=e.transition),A=C,ea(S),A}function IC(n){let t;for(let e=0;e<n.length;e++){const i=n[e];if(Nr(i)){if(i.type!==Ne||i.children==="v-if"){if(t)return;t=i}}else return}return t}const kC=n=>{let t;for(const e in n)(e==="class"||e==="style"||ua(e))&&((t||(t={}))[e]=n[e]);return t},DC=(n,t)=>{const e={};for(const i in n)(!Ah(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function FC(n,t,e){const{props:i,children:s,component:o}=n,{props:l,children:u,patchFlag:f}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&f>=0){if(f&1024)return!0;if(f&16)return i?eg(i,l,c):!!l;if(f&8){const g=t.dynamicProps;for(let p=0;p<g.length;p++){const v=g[p];if(l[v]!==i[v]&&!tl(c,v))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:i===l?!1:i?l?eg(i,l,c):!0:!!l;return!1}function eg(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==n[o]&&!tl(e,o))return!0}return!1}function Wh({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const Bp=n=>n.__isSuspense,NC={name:"Suspense",__isSuspense:!0,process(n,t,e,i,s,o,l,u,f,c){n==null?BC(t,e,i,s,o,l,u,f,c):HC(n,t,e,i,s,l,u,f,c)},hydrate:UC,create:zh,normalize:WC},GC=NC;function ra(n,t){const e=n.props&&n.props[t];Tt(e)&&e()}function BC(n,t,e,i,s,o,l,u,f){const{p:c,o:{createElement:g}}=f,p=g("div"),v=n.suspense=zh(n,s,i,t,p,e,o,l,u,f);c(null,v.pendingBranch=n.ssContent,p,null,i,v,o,l),v.deps>0?(ra(n,"onPending"),ra(n,"onFallback"),c(null,n.ssFallback,t,e,i,null,o,l),ts(v,n.ssFallback)):v.resolve()}function HC(n,t,e,i,s,o,l,u,{p:f,um:c,o:{createElement:g}}){const p=t.suspense=n.suspense;p.vnode=t,t.el=n.el;const v=t.ssContent,b=t.ssFallback,{activeBranch:m,pendingBranch:P,isInFallback:A,isHydrating:T}=p;if(P)p.pendingBranch=v,Yn(v,P)?(f(P,v,p.hiddenContainer,null,s,p,o,l,u),p.deps<=0?p.resolve():A&&(f(m,b,e,i,s,null,o,l,u),ts(p,b))):(p.pendingId++,T?(p.isHydrating=!1,p.activeBranch=P):c(P,s,p),p.deps=0,p.effects.length=0,p.hiddenContainer=g("div"),A?(f(null,v,p.hiddenContainer,null,s,p,o,l,u),p.deps<=0?p.resolve():(f(m,b,e,i,s,null,o,l,u),ts(p,b))):m&&Yn(v,m)?(f(m,v,e,i,s,p,o,l,u),p.resolve(!0)):(f(null,v,p.hiddenContainer,null,s,p,o,l,u),p.deps<=0&&p.resolve()));else if(m&&Yn(v,m))f(m,v,e,i,s,p,o,l,u),ts(p,v);else if(ra(t,"onPending"),p.pendingBranch=v,p.pendingId++,f(null,v,p.hiddenContainer,null,s,p,o,l,u),p.deps<=0)p.resolve();else{const{timeout:S,pendingId:C}=p;S>0?setTimeout(()=>{p.pendingId===C&&p.fallback(b)},S):S===0&&p.fallback(b)}}function zh(n,t,e,i,s,o,l,u,f,c,g=!1){const{p,m:v,um:b,n:m,o:{parentNode:P,remove:A}}=c,T=hr(n.props&&n.props.timeout),S={vnode:n,parent:t,parentComponent:e,isSVG:l,container:i,hiddenContainer:s,anchor:o,deps:0,pendingId:0,timeout:typeof T=="number"?T:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:g,isUnmounted:!1,effects:[],resolve(C=!1){const{vnode:M,activeBranch:B,pendingBranch:N,pendingId:$,effects:L,parentComponent:W,container:Y}=S;if(S.isHydrating)S.isHydrating=!1;else if(!C){const G=B&&N.transition&&N.transition.mode==="out-in";G&&(B.transition.afterLeave=()=>{$===S.pendingId&&v(N,Y,H,0)});let{anchor:H}=S;B&&(H=m(B),b(B,W,S,!0)),G||v(N,Y,H,0)}ts(S,N),S.pendingBranch=null,S.isInFallback=!1;let X=S.parent,q=!1;for(;X;){if(X.pendingBranch){X.effects.push(...L),q=!0;break}X=X.parent}q||Uh(L),S.effects=[],ra(M,"onResolve")},fallback(C){if(!S.pendingBranch)return;const{vnode:M,activeBranch:B,parentComponent:N,container:$,isSVG:L}=S;ra(M,"onFallback");const W=m(B),Y=()=>{!S.isInFallback||(p(null,C,$,W,N,null,L,u,f),ts(S,C))},X=C.transition&&C.transition.mode==="out-in";X&&(B.transition.afterLeave=Y),S.isInFallback=!0,b(B,N,null,!0),X||Y()},move(C,M,B){S.activeBranch&&v(S.activeBranch,C,M,B),S.container=C},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(C,M){const B=!!S.pendingBranch;B&&S.deps++;const N=C.vnode.el;C.asyncDep.catch($=>{vi($,C,0)}).then($=>{if(C.isUnmounted||S.isUnmounted||S.pendingId!==C.suspenseId)return;C.asyncResolved=!0;const{vnode:L}=C;ah(C,$,!1),N&&(L.el=N);const W=!N&&C.subTree.el;M(C,L,P(N||C.subTree.el),N?null:m(C.subTree),S,l,f),W&&A(W),Wh(C,L.el),B&&--S.deps===0&&S.resolve()})},unmount(C,M){S.isUnmounted=!0,S.activeBranch&&b(S.activeBranch,e,C,M),S.pendingBranch&&b(S.pendingBranch,e,C,M)}};return S}function UC(n,t,e,i,s,o,l,u,f){const c=t.suspense=zh(t,i,e,n.parentNode,document.createElement("div"),null,s,o,l,u,!0),g=f(n,c.pendingBranch=t.ssContent,e,c,o,l);return c.deps===0&&c.resolve(),g}function WC(n){const{shapeFlag:t,children:e}=n,i=t&32;n.ssContent=ng(i?e.default:e),n.ssFallback=i?ng(e.fallback):It(Ne)}function ng(n){let t;if(Tt(n)){const e=gi&&n._c;e&&(n._d=!1,Xt()),n=n(),e&&(n._d=!0,t=je,g_())}return vt(n)&&(n=IC(n)),n=ln(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(e=>e!==n)),n}function Hp(n,t){t&&t.pendingBranch?vt(n)?t.effects.push(...n):t.effects.push(n):Uh(n)}function ts(n,t){n.activeBranch=t;const{vnode:e,parentComponent:i}=n,s=e.el=t.el;i&&i.subTree===e&&(i.vnode.el=s,Wh(i,s))}function No(n,t){if(Ce){let e=Ce.provides;const i=Ce.parent&&Ce.parent.provides;i===e&&(e=Ce.provides=Object.create(i)),e[n]=t}}function Ir(n,t,e=!1){const i=Ce||Le;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return e&&Tt(t)?t.call(i.proxy):t}}function zC(n,t){return ga(n,null,t)}function Up(n,t){return ga(n,null,{flush:"post"})}function $C(n,t){return ga(n,null,{flush:"sync"})}const go={};function ur(n,t,e){return ga(n,t,e)}function ga(n,t,{immediate:e,deep:i,flush:s,onTrack:o,onTrigger:l}=Jt){const u=Ce;let f,c=!1,g=!1;if(be(n)?(f=()=>n.value,c=Qs(n)):oi(n)?(f=()=>n,i=!0):vt(n)?(g=!0,c=n.some(C=>oi(C)||Qs(C)),f=()=>n.map(C=>{if(be(C))return C.value;if(oi(C))return si(C);if(Tt(C))return lr(C,u,2)})):Tt(n)?t?f=()=>lr(n,u,2):f=()=>{if(!(u&&u.isUnmounted))return p&&p(),hn(n,u,3,[v])}:f=kn,t&&i){const C=f;f=()=>si(C())}let p,v=C=>{p=T.onStop=()=>{lr(C,u,4)}},b;if(ss)if(v=kn,t?e&&hn(t,u,3,[f(),g?[]:void 0,v]):f(),s==="sync"){const C=A_();b=C.__watcherHandles||(C.__watcherHandles=[])}else return kn;let m=g?new Array(n.length).fill(go):go;const P=()=>{if(!!T.active)if(t){const C=T.run();(i||c||(g?C.some((M,B)=>rs(M,m[B])):rs(C,m)))&&(p&&p(),hn(t,u,3,[C,m===go?void 0:g&&m[0]===go?[]:m,v]),m=C)}else T.run()};P.allowRecurse=!!t;let A;s==="sync"?A=P:s==="post"?A=()=>Me(P,u&&u.suspense):(P.pre=!0,u&&(P.id=u.uid),A=()=>Zo(P));const T=new ca(f,A);t?e?P():m=T.run():s==="post"?Me(T.run.bind(T),u&&u.suspense):T.run();const S=()=>{T.stop(),u&&u.scope&&Ph(u.scope.effects,T)};return b&&b.push(S),S}function YC(n,t,e){const i=this.proxy,s=he(n)?n.includes(".")?Wp(i,n):()=>i[n]:n.bind(i,i);let o;Tt(t)?o=t:(o=t.handler,e=t);const l=Ce;Gr(this);const u=ga(s,o.bind(i),e);return l?Gr(l):kr(),u}function Wp(n,t){const e=t.split(".");return()=>{let i=n;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i}}function si(n,t){if(!ne(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),be(n))si(n.value,t);else if(vt(n))for(let e=0;e<n.length;e++)si(n[e],t);else if(_i(n)||Qi(n))n.forEach(e=>{si(e,t)});else if(dp(n))for(const e in n)si(n[e],t);return n}function $h(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return mi(()=>{n.isMounted=!0}),sl(()=>{n.isUnmounting=!0}),n}const Sn=[Function,Array],KC={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Sn,onEnter:Sn,onAfterEnter:Sn,onEnterCancelled:Sn,onBeforeLeave:Sn,onLeave:Sn,onAfterLeave:Sn,onLeaveCancelled:Sn,onBeforeAppear:Sn,onAppear:Sn,onAfterAppear:Sn,onAppearCancelled:Sn},setup(n,{slots:t}){const e=dr(),i=$h();let s;return()=>{const o=t.default&&nl(t.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const P of o)if(P.type!==Ne){l=P;break}}const u=Ut(n),{mode:f}=u;if(i.isLeaving)return Au(l);const c=rg(l);if(!c)return Au(l);const g=is(c,u,i,e);ci(c,g);const p=e.subTree,v=p&&rg(p);let b=!1;const{getTransitionKey:m}=c.type;if(m){const P=m();s===void 0?s=P:P!==s&&(s=P,b=!0)}if(v&&v.type!==Ne&&(!Yn(c,v)||b)){const P=is(v,u,i,e);if(ci(v,P),f==="out-in")return i.isLeaving=!0,P.afterLeave=()=>{i.isLeaving=!1,e.update.active!==!1&&e.update()},Au(l);f==="in-out"&&c.type!==Ne&&(P.delayLeave=(A,T,S)=>{const C=zp(i,v);C[String(v.key)]=v,A._leaveCb=()=>{T(),A._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=S})}return l}}},Yh=KC;function zp(n,t){const{leavingVNodes:e}=n;let i=e.get(t.type);return i||(i=Object.create(null),e.set(t.type,i)),i}function is(n,t,e,i){const{appear:s,mode:o,persisted:l=!1,onBeforeEnter:u,onEnter:f,onAfterEnter:c,onEnterCancelled:g,onBeforeLeave:p,onLeave:v,onAfterLeave:b,onLeaveCancelled:m,onBeforeAppear:P,onAppear:A,onAfterAppear:T,onAppearCancelled:S}=t,C=String(n.key),M=zp(e,n),B=(L,W)=>{L&&hn(L,i,9,W)},N=(L,W)=>{const Y=W[1];B(L,W),vt(L)?L.every(X=>X.length<=1)&&Y():L.length<=1&&Y()},$={mode:o,persisted:l,beforeEnter(L){let W=u;if(!e.isMounted)if(s)W=P||u;else return;L._leaveCb&&L._leaveCb(!0);const Y=M[C];Y&&Yn(n,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),B(W,[L])},enter(L){let W=f,Y=c,X=g;if(!e.isMounted)if(s)W=A||f,Y=T||c,X=S||g;else return;let q=!1;const G=L._enterCb=H=>{q||(q=!0,H?B(X,[L]):B(Y,[L]),$.delayedLeave&&$.delayedLeave(),L._enterCb=void 0)};W?N(W,[L,G]):G()},leave(L,W){const Y=String(n.key);if(L._enterCb&&L._enterCb(!0),e.isUnmounting)return W();B(p,[L]);let X=!1;const q=L._leaveCb=G=>{X||(X=!0,W(),G?B(m,[L]):B(b,[L]),L._leaveCb=void 0,M[Y]===n&&delete M[Y])};M[Y]=n,v?N(v,[L,q]):q()},clone(L){return is(L,t,e,i)}};return $}function Au(n){if(pa(n))return n=Kn(n),n.children=null,n}function rg(n){return pa(n)?n.children?n.children[0]:void 0:n}function ci(n,t){n.shapeFlag&6&&n.component?ci(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function nl(n,t=!1,e){let i=[],s=0;for(let o=0;o<n.length;o++){let l=n[o];const u=e==null?l.key:String(e)+String(l.key!=null?l.key:o);l.type===ee?(l.patchFlag&128&&s++,i=i.concat(nl(l.children,t,u))):(t||l.type!==Ne)&&i.push(u!=null?Kn(l,{key:u}):l)}if(s>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}function Kh(n){return Tt(n)?{setup:n,name:n.name}:n}const li=n=>!!n.type.__asyncLoader;function XC(n){Tt(n)&&(n={loader:n});const{loader:t,loadingComponent:e,errorComponent:i,delay:s=200,timeout:o,suspensible:l=!0,onError:u}=n;let f=null,c,g=0;const p=()=>(g++,f=null,v()),v=()=>{let b;return f||(b=f=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),u)return new Promise((P,A)=>{u(m,()=>P(p()),()=>A(m),g+1)});throw m}).then(m=>b!==f&&f?f:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return Kh({name:"AsyncComponentWrapper",__asyncLoader:v,get __asyncResolved(){return c},setup(){const b=Ce;if(c)return()=>Pu(c,b);const m=S=>{f=null,vi(S,b,13,!i)};if(l&&b.suspense||ss)return v().then(S=>()=>Pu(S,b)).catch(S=>(m(S),()=>i?It(i,{error:S}):null));const P=ze(!1),A=ze(),T=ze(!!s);return s&&setTimeout(()=>{T.value=!1},s),o!=null&&setTimeout(()=>{if(!P.value&&!A.value){const S=new Error(`Async component timed out after ${o}ms.`);m(S),A.value=S}},o),v().then(()=>{P.value=!0,b.parent&&pa(b.parent.vnode)&&Zo(b.parent.update)}).catch(S=>{m(S),A.value=S}),()=>{if(P.value&&c)return Pu(c,b);if(A.value&&i)return It(i,{error:A.value});if(e&&!T.value)return It(e)}}})}function Pu(n,t){const{ref:e,props:i,children:s,ce:o}=t.vnode,l=It(n,i,s);return l.ref=e,l.ce=o,delete t.vnode.ce,l}const pa=n=>n.type.__isKeepAlive,qC={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const e=dr(),i=e.ctx;if(!i.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const s=new Map,o=new Set;let l=null;const u=e.suspense,{renderer:{p:f,m:c,um:g,o:{createElement:p}}}=i,v=p("div");i.activate=(S,C,M,B,N)=>{const $=S.component;c(S,C,M,0,u),f($.vnode,S,C,M,$,u,B,S.slotScopeIds,N),Me(()=>{$.isDeactivated=!1,$.a&&Ji($.a);const L=S.props&&S.props.onVnodeMounted;L&&Ve(L,$.parent,S)},u)},i.deactivate=S=>{const C=S.component;c(S,v,null,1,u),Me(()=>{C.da&&Ji(C.da);const M=S.props&&S.props.onVnodeUnmounted;M&&Ve(M,C.parent,S),C.isDeactivated=!0},u)};function b(S){Ou(S),g(S,e,u,!0)}function m(S){s.forEach((C,M)=>{const B=lh(C.type);B&&(!S||!S(B))&&P(M)})}function P(S){const C=s.get(S);!l||C.type!==l.type?b(C):l&&Ou(l),s.delete(S),o.delete(S)}ur(()=>[n.include,n.exclude],([S,C])=>{S&&m(M=>Fs(S,M)),C&&m(M=>!Fs(C,M))},{flush:"post",deep:!0});let A=null;const T=()=>{A!=null&&s.set(A,Ru(e.subTree))};return mi(T),il(T),sl(()=>{s.forEach(S=>{const{subTree:C,suspense:M}=e,B=Ru(C);if(S.type===B.type){Ou(B);const N=B.component.da;N&&Me(N,M);return}b(S)})}),()=>{if(A=null,!t.default)return null;const S=t.default(),C=S[0];if(S.length>1)return l=null,S;if(!Nr(C)||!(C.shapeFlag&4)&&!(C.shapeFlag&128))return l=null,C;let M=Ru(C);const B=M.type,N=lh(li(M)?M.type.__asyncResolved||{}:B),{include:$,exclude:L,max:W}=n;if($&&(!N||!Fs($,N))||L&&N&&Fs(L,N))return l=M,C;const Y=M.key==null?B:M.key,X=s.get(Y);return M.el&&(M=Kn(M),C.shapeFlag&128&&(C.ssContent=M)),A=Y,X?(M.el=X.el,M.component=X.component,M.transition&&ci(M,M.transition),M.shapeFlag|=512,o.delete(Y),o.add(Y)):(o.add(Y),W&&o.size>parseInt(W,10)&&P(o.values().next().value)),M.shapeFlag|=256,l=M,Bp(C.type)?C:M}}},VC=qC;function Fs(n,t){return vt(n)?n.some(e=>Fs(e,t)):he(n)?n.split(",").includes(t):n.test?n.test(t):!1}function $p(n,t){Kp(n,"a",t)}function Yp(n,t){Kp(n,"da",t)}function Kp(n,t,e=Ce){const i=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(rl(t,i,e),e){let s=e.parent;for(;s&&s.parent;)pa(s.parent.vnode)&&jC(i,t,e,s),s=s.parent}}function jC(n,t,e,i){const s=rl(t,n,i,!0);al(()=>{Ph(i[t],s)},e)}function Ou(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function Ru(n){return n.shapeFlag&128?n.ssContent:n}function rl(n,t,e=Ce,i=!1){if(e){const s=e[n]||(e[n]=[]),o=t.__weh||(t.__weh=(...l)=>{if(e.isUnmounted)return;ls(),Gr(e);const u=hn(t,e,n,l);return kr(),us(),u});return i?s.unshift(o):s.push(o),o}}const cr=n=>(t,e=Ce)=>(!ss||n==="sp")&&rl(n,(...i)=>t(...i),e),Xp=cr("bm"),mi=cr("m"),qp=cr("bu"),il=cr("u"),sl=cr("bum"),al=cr("um"),Vp=cr("sp"),jp=cr("rtg"),Qp=cr("rtc");function Jp(n,t=Ce){rl("ec",n,t)}function Zp(n,t){const e=Le;if(e===null)return n;const i=ul(e)||e.proxy,s=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[l,u,f,c=Jt]=t[o];l&&(Tt(l)&&(l={mounted:l,updated:l}),l.deep&&si(u),s.push({dir:l,instance:i,value:u,oldValue:void 0,arg:f,modifiers:c}))}return n}function zn(n,t,e,i){const s=n.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const u=s[l];o&&(u.oldValue=o[l].value);let f=u.dir[i];f&&(ls(),hn(f,e,8,[n.el,u,n,t]),us())}}const Xh="components",QC="directives";function fn(n,t){return qh(Xh,n,!0,t)||n}const t_=Symbol();function JC(n){return he(n)?qh(Xh,n,!1)||n:n||t_}function ZC(n){return qh(QC,n)}function qh(n,t,e=!0,i=!1){const s=Le||Ce;if(s){const o=s.type;if(n===Xh){const u=lh(o,!1);if(u&&(u===t||u===Qe(t)||u===fa(Qe(t))))return o}const l=ig(s[n]||o[n],t)||ig(s.appContext[n],t);return!l&&i?o:l}}function ig(n,t){return n&&(n[t]||n[Qe(t)]||n[fa(Qe(t))])}function ui(n,t,e,i){let s;const o=e&&e[i];if(vt(n)||he(n)){s=new Array(n.length);for(let l=0,u=n.length;l<u;l++)s[l]=t(n[l],l,void 0,o&&o[l])}else if(typeof n=="number"){s=new Array(n);for(let l=0;l<n;l++)s[l]=t(l+1,l,void 0,o&&o[l])}else if(ne(n))if(n[Symbol.iterator])s=Array.from(n,(l,u)=>t(l,u,void 0,o&&o[u]));else{const l=Object.keys(n);s=new Array(l.length);for(let u=0,f=l.length;u<f;u++){const c=l[u];s[u]=t(n[c],c,u,o&&o[u])}}else s=[];return e&&(e[i]=s),s}function tx(n,t){for(let e=0;e<t.length;e++){const i=t[e];if(vt(i))for(let s=0;s<i.length;s++)n[i[s].name]=i[s].fn;else i&&(n[i.name]=i.key?(...s)=>{const o=i.fn(...s);return o&&(o.key=i.key),o}:i.fn)}return n}function ex(n,t,e={},i,s){if(Le.isCE||Le.parent&&li(Le.parent)&&Le.parent.isCE)return t!=="default"&&(e.name=t),It("slot",e,i&&i());let o=n[t];o&&o._c&&(o._d=!1),Xt();const l=o&&e_(o(e)),u=xn(ee,{key:e.key||l&&l.key||`_${t}`},l||(i?i():[]),l&&n._===1?64:-2);return!s&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),o&&o._c&&(o._d=!0),u}function e_(n){return n.some(t=>Nr(t)?!(t.type===Ne||t.type===ee&&!e_(t.children)):!0)?n:null}function nx(n,t){const e={};for(const i in n)e[t&&/[A-Z]/.test(i)?`on:${i}`:Ws(i)]=n[i];return e}const Zu=n=>n?b_(n)?ul(n)||n.proxy:Zu(n.parent):null,zs=ge(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Zu(n.parent),$root:n=>Zu(n.root),$emit:n=>n.emit,$options:n=>Vh(n),$forceUpdate:n=>n.f||(n.f=()=>Zo(n.update)),$nextTick:n=>n.n||(n.n=da.bind(n.proxy)),$watch:n=>YC.bind(n)}),Mu=(n,t)=>n!==Jt&&!n.__isScriptSetup&&Ht(n,t),th={get({_:n},t){const{ctx:e,setupState:i,data:s,props:o,accessCache:l,type:u,appContext:f}=n;let c;if(t[0]!=="$"){const b=l[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return s[t];case 4:return e[t];case 3:return o[t]}else{if(Mu(i,t))return l[t]=1,i[t];if(s!==Jt&&Ht(s,t))return l[t]=2,s[t];if((c=n.propsOptions[0])&&Ht(c,t))return l[t]=3,o[t];if(e!==Jt&&Ht(e,t))return l[t]=4,e[t];eh&&(l[t]=0)}}const g=zs[t];let p,v;if(g)return t==="$attrs"&&dn(n,"get",t),g(n);if((p=u.__cssModules)&&(p=p[t]))return p;if(e!==Jt&&Ht(e,t))return l[t]=4,e[t];if(v=f.config.globalProperties,Ht(v,t))return v[t]},set({_:n},t,e){const{data:i,setupState:s,ctx:o}=n;return Mu(s,t)?(s[t]=e,!0):i!==Jt&&Ht(i,t)?(i[t]=e,!0):Ht(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(o[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:s,propsOptions:o}},l){let u;return!!e[l]||n!==Jt&&Ht(n,l)||Mu(t,l)||(u=o[0])&&Ht(u,l)||Ht(i,l)||Ht(zs,l)||Ht(s.config.globalProperties,l)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Ht(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}},rx=ge({},th,{get(n,t){if(t!==Symbol.unscopables)return th.get(n,t,n)},has(n,t){return t[0]!=="_"&&!CS(t)}});let eh=!0;function ix(n){const t=Vh(n),e=n.proxy,i=n.ctx;eh=!1,t.beforeCreate&&sg(t.beforeCreate,n,"bc");const{data:s,computed:o,methods:l,watch:u,provide:f,inject:c,created:g,beforeMount:p,mounted:v,beforeUpdate:b,updated:m,activated:P,deactivated:A,beforeDestroy:T,beforeUnmount:S,destroyed:C,unmounted:M,render:B,renderTracked:N,renderTriggered:$,errorCaptured:L,serverPrefetch:W,expose:Y,inheritAttrs:X,components:q,directives:G,filters:H}=t;if(c&&sx(c,i,null,n.appContext.config.unwrapInjectedRef),l)for(const ft in l){const dt=l[ft];Tt(dt)&&(i[ft]=dt.bind(e))}if(s){const ft=s.call(e,e);ne(ft)&&(n.data=Dn(ft))}if(eh=!0,o)for(const ft in o){const dt=o[ft],Mt=Tt(dt)?dt.bind(e,e):Tt(dt.get)?dt.get.bind(e,e):kn,gt=!Tt(dt)&&Tt(dt.set)?dt.set.bind(e):kn,St=ye({get:Mt,set:gt});Object.defineProperty(i,ft,{enumerable:!0,configurable:!0,get:()=>St.value,set:Dt=>St.value=Dt})}if(u)for(const ft in u)n_(u[ft],i,e,ft);if(f){const ft=Tt(f)?f.call(e):f;Reflect.ownKeys(ft).forEach(dt=>{No(dt,ft[dt])})}g&&sg(g,n,"c");function nt(ft,dt){vt(dt)?dt.forEach(Mt=>ft(Mt.bind(e))):dt&&ft(dt.bind(e))}if(nt(Xp,p),nt(mi,v),nt(qp,b),nt(il,m),nt($p,P),nt(Yp,A),nt(Jp,L),nt(Qp,N),nt(jp,$),nt(sl,S),nt(al,M),nt(Vp,W),vt(Y))if(Y.length){const ft=n.exposed||(n.exposed={});Y.forEach(dt=>{Object.defineProperty(ft,dt,{get:()=>e[dt],set:Mt=>e[dt]=Mt})})}else n.exposed||(n.exposed={});B&&n.render===kn&&(n.render=B),X!=null&&(n.inheritAttrs=X),q&&(n.components=q),G&&(n.directives=G)}function sx(n,t,e=kn,i=!1){vt(n)&&(n=nh(n));for(const s in n){const o=n[s];let l;ne(o)?"default"in o?l=Ir(o.from||s,o.default,!0):l=Ir(o.from||s):l=Ir(o),be(l)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):t[s]=l}}function sg(n,t,e){hn(vt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function n_(n,t,e,i){const s=i.includes(".")?Wp(e,i):()=>e[i];if(he(n)){const o=t[n];Tt(o)&&ur(s,o)}else if(Tt(n))ur(s,n.bind(e));else if(ne(n))if(vt(n))n.forEach(o=>n_(o,t,e,i));else{const o=Tt(n.handler)?n.handler.bind(e):t[n.handler];Tt(o)&&ur(s,o,n)}}function Vh(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=n.appContext,u=o.get(t);let f;return u?f=u:!s.length&&!e&&!i?f=t:(f={},s.length&&s.forEach(c=>Go(f,c,l,!0)),Go(f,t,l)),ne(t)&&o.set(t,f),f}function Go(n,t,e,i=!1){const{mixins:s,extends:o}=t;o&&Go(n,o,e,!0),s&&s.forEach(l=>Go(n,l,e,!0));for(const l in t)if(!(i&&l==="expose")){const u=ax[l]||e&&e[l];n[l]=u?u(n[l],t[l]):t[l]}return n}const ax={data:ag,props:ni,emits:ni,methods:ni,computed:ni,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:ni,directives:ni,watch:lx,provide:ag,inject:ox};function ag(n,t){return t?n?function(){return ge(Tt(n)?n.call(this,this):n,Tt(t)?t.call(this,this):t)}:t:n}function ox(n,t){return ni(nh(n),nh(t))}function nh(n){if(vt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function We(n,t){return n?[...new Set([].concat(n,t))]:t}function ni(n,t){return n?ge(ge(Object.create(null),n),t):t}function lx(n,t){if(!n)return t;if(!t)return n;const e=ge(Object.create(null),n);for(const i in t)e[i]=We(n[i],t[i]);return e}function ux(n,t,e,i=!1){const s={},o={};Do(o,ol,1),n.propsDefaults=Object.create(null),r_(n,t,s,o);for(const l in n.propsOptions[0])l in s||(s[l]=void 0);e?n.props=i?s:Op(s):n.type.props?n.props=s:n.props=o,n.attrs=o}function hx(n,t,e,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=n,u=Ut(s),[f]=n.propsOptions;let c=!1;if((i||l>0)&&!(l&16)){if(l&8){const g=n.vnode.dynamicProps;for(let p=0;p<g.length;p++){let v=g[p];if(tl(n.emitsOptions,v))continue;const b=t[v];if(f)if(Ht(o,v))b!==o[v]&&(o[v]=b,c=!0);else{const m=Qe(v);s[m]=rh(f,u,m,b,n,!1)}else b!==o[v]&&(o[v]=b,c=!0)}}}else{r_(n,t,s,o)&&(c=!0);let g;for(const p in u)(!t||!Ht(t,p)&&((g=Cn(p))===p||!Ht(t,g)))&&(f?e&&(e[p]!==void 0||e[g]!==void 0)&&(s[p]=rh(f,u,p,void 0,n,!0)):delete s[p]);if(o!==u)for(const p in o)(!t||!Ht(t,p)&&!0)&&(delete o[p],c=!0)}c&&fr(n,"set","$attrs")}function r_(n,t,e,i){const[s,o]=n.propsOptions;let l=!1,u;if(t)for(let f in t){if(Us(f))continue;const c=t[f];let g;s&&Ht(s,g=Qe(f))?!o||!o.includes(g)?e[g]=c:(u||(u={}))[g]=c:tl(n.emitsOptions,f)||(!(f in i)||c!==i[f])&&(i[f]=c,l=!0)}if(o){const f=Ut(e),c=u||Jt;for(let g=0;g<o.length;g++){const p=o[g];e[p]=rh(s,f,p,c[p],n,!Ht(c,p))}}return l}function rh(n,t,e,i,s,o){const l=n[e];if(l!=null){const u=Ht(l,"default");if(u&&i===void 0){const f=l.default;if(l.type!==Function&&Tt(f)){const{propsDefaults:c}=s;e in c?i=c[e]:(Gr(s),i=c[e]=f.call(null,t),kr())}else i=f}l[0]&&(o&&!u?i=!1:l[1]&&(i===""||i===Cn(e))&&(i=!0))}return i}function i_(n,t,e=!1){const i=t.propsCache,s=i.get(n);if(s)return s;const o=n.props,l={},u=[];let f=!1;if(!Tt(n)){const g=p=>{f=!0;const[v,b]=i_(p,t,!0);ge(l,v),b&&u.push(...b)};!e&&t.mixins.length&&t.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!o&&!f)return ne(n)&&i.set(n,ji),ji;if(vt(o))for(let g=0;g<o.length;g++){const p=Qe(o[g]);og(p)&&(l[p]=Jt)}else if(o)for(const g in o){const p=Qe(g);if(og(p)){const v=o[g],b=l[p]=vt(v)||Tt(v)?{type:v}:Object.assign({},v);if(b){const m=hg(Boolean,b.type),P=hg(String,b.type);b[0]=m>-1,b[1]=P<0||m<P,(m>-1||Ht(b,"default"))&&u.push(p)}}}const c=[l,u];return ne(n)&&i.set(n,c),c}function og(n){return n[0]!=="$"}function lg(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function ug(n,t){return lg(n)===lg(t)}function hg(n,t){return vt(t)?t.findIndex(e=>ug(e,n)):Tt(t)&&ug(t,n)?0:-1}const s_=n=>n[0]==="_"||n==="$stable",jh=n=>vt(n)?n.map(ln):[ln(n)],fx=(n,t,e)=>{if(t._n)return t;const i=na((...s)=>jh(t(...s)),e);return i._c=!1,i},a_=(n,t,e)=>{const i=n._ctx;for(const s in n){if(s_(s))continue;const o=n[s];if(Tt(o))t[s]=fx(s,o,i);else if(o!=null){const l=jh(o);t[s]=()=>l}}},o_=(n,t)=>{const e=jh(t);n.slots.default=()=>e},cx=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=Ut(t),Do(t,"_",e)):a_(t,n.slots={})}else n.slots={},t&&o_(n,t);Do(n.slots,ol,1)},dx=(n,t,e)=>{const{vnode:i,slots:s}=n;let o=!0,l=Jt;if(i.shapeFlag&32){const u=t._;u?e&&u===1?o=!1:(ge(s,t),!e&&u===1&&delete s._):(o=!t.$stable,a_(t,s)),l=t}else t&&(o_(n,t),l={default:1});if(o)for(const u in s)!s_(u)&&!(u in l)&&delete s[u]};function l_(){return{app:null,config:{isNativeTag:LS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let gx=0;function px(n,t){return function(i,s=null){Tt(i)||(i=Object.assign({},i)),s!=null&&!ne(s)&&(s=null);const o=l_(),l=new Set;let u=!1;const f=o.app={_uid:gx++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:O_,get config(){return o.config},set config(c){},use(c,...g){return l.has(c)||(c&&Tt(c.install)?(l.add(c),c.install(f,...g)):Tt(c)&&(l.add(c),c(f,...g))),f},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),f},component(c,g){return g?(o.components[c]=g,f):o.components[c]},directive(c,g){return g?(o.directives[c]=g,f):o.directives[c]},mount(c,g,p){if(!u){const v=It(i,s);return v.appContext=o,g&&t?t(v,c):n(v,c,p),u=!0,f._container=c,c.__vue_app__=f,ul(v.component)||v.component.proxy}},unmount(){u&&(n(null,f._container),delete f._container.__vue_app__)},provide(c,g){return o.provides[c]=g,f}};return f}}function Bo(n,t,e,i,s=!1){if(vt(n)){n.forEach((v,b)=>Bo(v,t&&(vt(t)?t[b]:t),e,i,s));return}if(li(i)&&!s)return;const o=i.shapeFlag&4?ul(i.component)||i.component.proxy:i.el,l=s?null:o,{i:u,r:f}=n,c=t&&t.r,g=u.refs===Jt?u.refs={}:u.refs,p=u.setupState;if(c!=null&&c!==f&&(he(c)?(g[c]=null,Ht(p,c)&&(p[c]=null)):be(c)&&(c.value=null)),Tt(f))lr(f,u,12,[l,g]);else{const v=he(f),b=be(f);if(v||b){const m=()=>{if(n.f){const P=v?Ht(p,f)?p[f]:g[f]:f.value;s?vt(P)&&Ph(P,o):vt(P)?P.includes(o)||P.push(o):v?(g[f]=[o],Ht(p,f)&&(p[f]=g[f])):(f.value=[o],n.k&&(g[n.k]=f.value))}else v?(g[f]=l,Ht(p,f)&&(p[f]=l)):b&&(f.value=l,n.k&&(g[n.k]=l))};l?(m.id=-1,Me(m,e)):m()}}}let Ar=!1;const po=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",_o=n=>n.nodeType===8;function _x(n){const{mt:t,p:e,o:{patchProp:i,createText:s,nextSibling:o,parentNode:l,remove:u,insert:f,createComment:c}}=n,g=(T,S)=>{if(!S.hasChildNodes()){e(null,T,S),Fo(),S._vnode=T;return}Ar=!1,p(S.firstChild,T,null,null,null),Fo(),S._vnode=T,Ar&&console.error("Hydration completed but contains mismatches.")},p=(T,S,C,M,B,N=!1)=>{const $=_o(T)&&T.data==="[",L=()=>P(T,S,C,M,B,$),{type:W,ref:Y,shapeFlag:X,patchFlag:q}=S;let G=T.nodeType;S.el=T,q===-2&&(N=!1,S.dynamicChildren=null);let H=null;switch(W){case di:G!==3?S.children===""?(f(S.el=s(""),l(T),T),H=T):H=L():(T.data!==S.children&&(Ar=!0,T.data=S.children),H=o(T));break;case Ne:G!==8||$?H=L():H=o(T);break;case hi:if($&&(T=o(T),G=T.nodeType),G===1||G===3){H=T;const ot=!S.children.length;for(let nt=0;nt<S.staticCount;nt++)ot&&(S.children+=H.nodeType===1?H.outerHTML:H.data),nt===S.staticCount-1&&(S.anchor=H),H=o(H);return $?o(H):H}else L();break;case ee:$?H=m(T,S,C,M,B,N):H=L();break;default:if(X&1)G!==1||S.type.toLowerCase()!==T.tagName.toLowerCase()?H=L():H=v(T,S,C,M,B,N);else if(X&6){S.slotScopeIds=B;const ot=l(T);if(t(S,ot,null,C,M,po(ot),N),H=$?A(T):o(T),H&&_o(H)&&H.data==="teleport end"&&(H=o(H)),li(S)){let nt;$?(nt=It(ee),nt.anchor=H?H.previousSibling:ot.lastChild):nt=T.nodeType===3?Jh(""):It("div"),nt.el=T,S.component.subTree=nt}}else X&64?G!==8?H=L():H=S.type.hydrate(T,S,C,M,B,N,n,b):X&128&&(H=S.type.hydrate(T,S,C,M,po(l(T)),B,N,n,p))}return Y!=null&&Bo(Y,null,M,S),H},v=(T,S,C,M,B,N)=>{N=N||!!S.dynamicChildren;const{type:$,props:L,patchFlag:W,shapeFlag:Y,dirs:X}=S,q=$==="input"&&X||$==="option";if(q||W!==-1){if(X&&zn(S,null,C,"created"),L)if(q||!N||W&48)for(const H in L)(q&&H.endsWith("value")||ua(H)&&!Us(H))&&i(T,H,null,L[H],!1,void 0,C);else L.onClick&&i(T,"onClick",null,L.onClick,!1,void 0,C);let G;if((G=L&&L.onVnodeBeforeMount)&&Ve(G,C,S),X&&zn(S,null,C,"beforeMount"),((G=L&&L.onVnodeMounted)||X)&&Hp(()=>{G&&Ve(G,C,S),X&&zn(S,null,C,"mounted")},M),Y&16&&!(L&&(L.innerHTML||L.textContent))){let H=b(T.firstChild,S,T,C,M,B,N);for(;H;){Ar=!0;const ot=H;H=H.nextSibling,u(ot)}}else Y&8&&T.textContent!==S.children&&(Ar=!0,T.textContent=S.children)}return T.nextSibling},b=(T,S,C,M,B,N,$)=>{$=$||!!S.dynamicChildren;const L=S.children,W=L.length;for(let Y=0;Y<W;Y++){const X=$?L[Y]:L[Y]=ln(L[Y]);if(T)T=p(T,X,M,B,N,$);else{if(X.type===di&&!X.children)continue;Ar=!0,e(null,X,C,null,M,B,po(C),N)}}return T},m=(T,S,C,M,B,N)=>{const{slotScopeIds:$}=S;$&&(B=B?B.concat($):$);const L=l(T),W=b(o(T),S,L,C,M,B,N);return W&&_o(W)&&W.data==="]"?o(S.anchor=W):(Ar=!0,f(S.anchor=c("]"),L,W),W)},P=(T,S,C,M,B,N)=>{if(Ar=!0,S.el=null,N){const W=A(T);for(;;){const Y=o(T);if(Y&&Y!==W)u(Y);else break}}const $=o(T),L=l(T);return u(T),e(null,S,L,$,C,M,po(L),B),$},A=T=>{let S=0;for(;T;)if(T=o(T),T&&_o(T)&&(T.data==="["&&S++,T.data==="]")){if(S===0)return o(T);S--}return T};return[g,p]}const Me=Hp;function u_(n){return f_(n)}function h_(n){return f_(n,_x)}function f_(n,t){const e=GS();e.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:u,createComment:f,setText:c,setElementText:g,parentNode:p,nextSibling:v,setScopeId:b=kn,insertStaticContent:m}=n,P=(O,k,z,Q=null,Z=null,rt=null,ht=!1,at=null,lt=!!k.dynamicChildren)=>{if(O===k)return;O&&!Yn(O,k)&&(Q=Ze(O),Dt(O,Z,rt,!0),O=null),k.patchFlag===-2&&(lt=!1,k.dynamicChildren=null);const{type:J,ref:yt,shapeFlag:pt}=k;switch(J){case di:A(O,k,z,Q);break;case Ne:T(O,k,z,Q);break;case hi:O==null&&S(k,z,Q,ht);break;case ee:q(O,k,z,Q,Z,rt,ht,at,lt);break;default:pt&1?B(O,k,z,Q,Z,rt,ht,at,lt):pt&6?G(O,k,z,Q,Z,rt,ht,at,lt):(pt&64||pt&128)&&J.process(O,k,z,Q,Z,rt,ht,at,lt,Ie)}yt!=null&&Z&&Bo(yt,O&&O.ref,rt,k||O,!k)},A=(O,k,z,Q)=>{if(O==null)i(k.el=u(k.children),z,Q);else{const Z=k.el=O.el;k.children!==O.children&&c(Z,k.children)}},T=(O,k,z,Q)=>{O==null?i(k.el=f(k.children||""),z,Q):k.el=O.el},S=(O,k,z,Q)=>{[O.el,O.anchor]=m(O.children,k,z,Q,O.el,O.anchor)},C=({el:O,anchor:k},z,Q)=>{let Z;for(;O&&O!==k;)Z=v(O),i(O,z,Q),O=Z;i(k,z,Q)},M=({el:O,anchor:k})=>{let z;for(;O&&O!==k;)z=v(O),s(O),O=z;s(k)},B=(O,k,z,Q,Z,rt,ht,at,lt)=>{ht=ht||k.type==="svg",O==null?N(k,z,Q,Z,rt,ht,at,lt):W(O,k,Z,rt,ht,at,lt)},N=(O,k,z,Q,Z,rt,ht,at)=>{let lt,J;const{type:yt,props:pt,shapeFlag:bt,transition:Ct,dirs:kt}=O;if(lt=O.el=l(O.type,rt,pt&&pt.is,pt),bt&8?g(lt,O.children):bt&16&&L(O.children,lt,null,Q,Z,rt&&yt!=="foreignObject",ht,at),kt&&zn(O,null,Q,"created"),pt){for(const Gt in pt)Gt!=="value"&&!Us(Gt)&&o(lt,Gt,null,pt[Gt],rt,O.children,Q,Z,Zt);"value"in pt&&o(lt,"value",null,pt.value),(J=pt.onVnodeBeforeMount)&&Ve(J,Q,O)}$(lt,O,O.scopeId,ht,Q),kt&&zn(O,null,Q,"beforeMount");const Wt=(!Z||Z&&!Z.pendingBranch)&&Ct&&!Ct.persisted;Wt&&Ct.beforeEnter(lt),i(lt,k,z),((J=pt&&pt.onVnodeMounted)||Wt||kt)&&Me(()=>{J&&Ve(J,Q,O),Wt&&Ct.enter(lt),kt&&zn(O,null,Q,"mounted")},Z)},$=(O,k,z,Q,Z)=>{if(z&&b(O,z),Q)for(let rt=0;rt<Q.length;rt++)b(O,Q[rt]);if(Z){let rt=Z.subTree;if(k===rt){const ht=Z.vnode;$(O,ht,ht.scopeId,ht.slotScopeIds,Z.parent)}}},L=(O,k,z,Q,Z,rt,ht,at,lt=0)=>{for(let J=lt;J<O.length;J++){const yt=O[J]=at?Mr(O[J]):ln(O[J]);P(null,yt,k,z,Q,Z,rt,ht,at)}},W=(O,k,z,Q,Z,rt,ht)=>{const at=k.el=O.el;let{patchFlag:lt,dynamicChildren:J,dirs:yt}=k;lt|=O.patchFlag&16;const pt=O.props||Jt,bt=k.props||Jt;let Ct;z&&Zr(z,!1),(Ct=bt.onVnodeBeforeUpdate)&&Ve(Ct,z,k,O),yt&&zn(k,O,z,"beforeUpdate"),z&&Zr(z,!0);const kt=Z&&k.type!=="foreignObject";if(J?Y(O.dynamicChildren,J,at,z,Q,kt,rt):ht||dt(O,k,at,null,z,Q,kt,rt,!1),lt>0){if(lt&16)X(at,k,pt,bt,z,Q,Z);else if(lt&2&&pt.class!==bt.class&&o(at,"class",null,bt.class,Z),lt&4&&o(at,"style",pt.style,bt.style,Z),lt&8){const Wt=k.dynamicProps;for(let Gt=0;Gt<Wt.length;Gt++){const oe=Wt[Gt],Ge=pt[oe],Bn=bt[oe];(Bn!==Ge||oe==="value")&&o(at,oe,Ge,Bn,Z,O.children,z,Q,Zt)}}lt&1&&O.children!==k.children&&g(at,k.children)}else!ht&&J==null&&X(at,k,pt,bt,z,Q,Z);((Ct=bt.onVnodeUpdated)||yt)&&Me(()=>{Ct&&Ve(Ct,z,k,O),yt&&zn(k,O,z,"updated")},Q)},Y=(O,k,z,Q,Z,rt,ht)=>{for(let at=0;at<k.length;at++){const lt=O[at],J=k[at],yt=lt.el&&(lt.type===ee||!Yn(lt,J)||lt.shapeFlag&70)?p(lt.el):z;P(lt,J,yt,null,Q,Z,rt,ht,!0)}},X=(O,k,z,Q,Z,rt,ht)=>{if(z!==Q){if(z!==Jt)for(const at in z)!Us(at)&&!(at in Q)&&o(O,at,z[at],null,ht,k.children,Z,rt,Zt);for(const at in Q){if(Us(at))continue;const lt=Q[at],J=z[at];lt!==J&&at!=="value"&&o(O,at,J,lt,ht,k.children,Z,rt,Zt)}"value"in Q&&o(O,"value",z.value,Q.value)}},q=(O,k,z,Q,Z,rt,ht,at,lt)=>{const J=k.el=O?O.el:u(""),yt=k.anchor=O?O.anchor:u("");let{patchFlag:pt,dynamicChildren:bt,slotScopeIds:Ct}=k;Ct&&(at=at?at.concat(Ct):Ct),O==null?(i(J,z,Q),i(yt,z,Q),L(k.children,z,yt,Z,rt,ht,at,lt)):pt>0&&pt&64&&bt&&O.dynamicChildren?(Y(O.dynamicChildren,bt,z,Z,rt,ht,at),(k.key!=null||Z&&k===Z.subTree)&&Qh(O,k,!0)):dt(O,k,z,yt,Z,rt,ht,at,lt)},G=(O,k,z,Q,Z,rt,ht,at,lt)=>{k.slotScopeIds=at,O==null?k.shapeFlag&512?Z.ctx.activate(k,z,Q,ht,lt):H(k,z,Q,Z,rt,ht,lt):ot(O,k,lt)},H=(O,k,z,Q,Z,rt,ht)=>{const at=O.component=y_(O,Q,Z);if(pa(O)&&(at.ctx.renderer=Ie),w_(at),at.asyncDep){if(Z&&Z.registerDep(at,nt),!O.el){const lt=at.subTree=It(Ne);T(null,lt,k,z)}return}nt(at,O,k,z,Z,rt,ht)},ot=(O,k,z)=>{const Q=k.component=O.component;if(FC(O,k,z))if(Q.asyncDep&&!Q.asyncResolved){ft(Q,k,z);return}else Q.next=k,AC(Q.update),Q.update();else k.el=O.el,Q.vnode=k},nt=(O,k,z,Q,Z,rt,ht)=>{const at=()=>{if(O.isMounted){let{next:yt,bu:pt,u:bt,parent:Ct,vnode:kt}=O,Wt=yt,Gt;Zr(O,!1),yt?(yt.el=kt.el,ft(O,yt,ht)):yt=kt,pt&&Ji(pt),(Gt=yt.props&&yt.props.onVnodeBeforeUpdate)&&Ve(Gt,Ct,yt,kt),Zr(O,!0);const oe=Ro(O),Ge=O.subTree;O.subTree=oe,P(Ge,oe,p(Ge.el),Ze(Ge),O,Z,rt),yt.el=oe.el,Wt===null&&Wh(O,oe.el),bt&&Me(bt,Z),(Gt=yt.props&&yt.props.onVnodeUpdated)&&Me(()=>Ve(Gt,Ct,yt,kt),Z)}else{let yt;const{el:pt,props:bt}=k,{bm:Ct,m:kt,parent:Wt}=O,Gt=li(k);if(Zr(O,!1),Ct&&Ji(Ct),!Gt&&(yt=bt&&bt.onVnodeBeforeMount)&&Ve(yt,Wt,k),Zr(O,!0),pt&&An){const oe=()=>{O.subTree=Ro(O),An(pt,O.subTree,O,Z,null)};Gt?k.type.__asyncLoader().then(()=>!O.isUnmounted&&oe()):oe()}else{const oe=O.subTree=Ro(O);P(null,oe,z,Q,O,Z,rt),k.el=oe.el}if(kt&&Me(kt,Z),!Gt&&(yt=bt&&bt.onVnodeMounted)){const oe=k;Me(()=>Ve(yt,Wt,oe),Z)}(k.shapeFlag&256||Wt&&li(Wt.vnode)&&Wt.vnode.shapeFlag&256)&&O.a&&Me(O.a,Z),O.isMounted=!0,k=z=Q=null}},lt=O.effect=new ca(at,()=>Zo(J),O.scope),J=O.update=()=>lt.run();J.id=O.uid,Zr(O,!0),J()},ft=(O,k,z)=>{k.component=O;const Q=O.vnode.props;O.vnode=k,O.next=null,hx(O,k.props,Q,z),dx(O,k.children,z),ls(),tg(),us()},dt=(O,k,z,Q,Z,rt,ht,at,lt=!1)=>{const J=O&&O.children,yt=O?O.shapeFlag:0,pt=k.children,{patchFlag:bt,shapeFlag:Ct}=k;if(bt>0){if(bt&128){gt(J,pt,z,Q,Z,rt,ht,at,lt);return}else if(bt&256){Mt(J,pt,z,Q,Z,rt,ht,at,lt);return}}Ct&8?(yt&16&&Zt(J,Z,rt),pt!==J&&g(z,pt)):yt&16?Ct&16?gt(J,pt,z,Q,Z,rt,ht,at,lt):Zt(J,Z,rt,!0):(yt&8&&g(z,""),Ct&16&&L(pt,z,Q,Z,rt,ht,at,lt))},Mt=(O,k,z,Q,Z,rt,ht,at,lt)=>{O=O||ji,k=k||ji;const J=O.length,yt=k.length,pt=Math.min(J,yt);let bt;for(bt=0;bt<pt;bt++){const Ct=k[bt]=lt?Mr(k[bt]):ln(k[bt]);P(O[bt],Ct,z,null,Z,rt,ht,at,lt)}J>yt?Zt(O,Z,rt,!0,!1,pt):L(k,z,Q,Z,rt,ht,at,lt,pt)},gt=(O,k,z,Q,Z,rt,ht,at,lt)=>{let J=0;const yt=k.length;let pt=O.length-1,bt=yt-1;for(;J<=pt&&J<=bt;){const Ct=O[J],kt=k[J]=lt?Mr(k[J]):ln(k[J]);if(Yn(Ct,kt))P(Ct,kt,z,null,Z,rt,ht,at,lt);else break;J++}for(;J<=pt&&J<=bt;){const Ct=O[pt],kt=k[bt]=lt?Mr(k[bt]):ln(k[bt]);if(Yn(Ct,kt))P(Ct,kt,z,null,Z,rt,ht,at,lt);else break;pt--,bt--}if(J>pt){if(J<=bt){const Ct=bt+1,kt=Ct<yt?k[Ct].el:Q;for(;J<=bt;)P(null,k[J]=lt?Mr(k[J]):ln(k[J]),z,kt,Z,rt,ht,at,lt),J++}}else if(J>bt)for(;J<=pt;)Dt(O[J],Z,rt,!0),J++;else{const Ct=J,kt=J,Wt=new Map;for(J=kt;J<=bt;J++){const Pe=k[J]=lt?Mr(k[J]):ln(k[J]);Pe.key!=null&&Wt.set(Pe.key,J)}let Gt,oe=0;const Ge=bt-kt+1;let Bn=!1,Ei=0;const qn=new Array(Ge);for(J=0;J<Ge;J++)qn[J]=0;for(J=Ct;J<=pt;J++){const Pe=O[J];if(oe>=Ge){Dt(Pe,Z,rt,!0);continue}let $e;if(Pe.key!=null)$e=Wt.get(Pe.key);else for(Gt=kt;Gt<=bt;Gt++)if(qn[Gt-kt]===0&&Yn(Pe,k[Gt])){$e=Gt;break}$e===void 0?Dt(Pe,Z,rt,!0):(qn[$e-kt]=J+1,$e>=Ei?Ei=$e:Bn=!0,P(Pe,k[$e],z,null,Z,rt,ht,at,lt),oe++)}const Ti=Bn?vx(qn):ji;for(Gt=Ti.length-1,J=Ge-1;J>=0;J--){const Pe=kt+J,$e=k[Pe],Ai=Pe+1<yt?k[Pe+1].el:Q;qn[J]===0?P(null,$e,z,Ai,Z,rt,ht,at,lt):Bn&&(Gt<0||J!==Ti[Gt]?St($e,z,Ai,2):Gt--)}}},St=(O,k,z,Q,Z=null)=>{const{el:rt,type:ht,transition:at,children:lt,shapeFlag:J}=O;if(J&6){St(O.component.subTree,k,z,Q);return}if(J&128){O.suspense.move(k,z,Q);return}if(J&64){ht.move(O,k,z,Ie);return}if(ht===ee){i(rt,k,z);for(let pt=0;pt<lt.length;pt++)St(lt[pt],k,z,Q);i(O.anchor,k,z);return}if(ht===hi){C(O,k,z);return}if(Q!==2&&J&1&&at)if(Q===0)at.beforeEnter(rt),i(rt,k,z),Me(()=>at.enter(rt),Z);else{const{leave:pt,delayLeave:bt,afterLeave:Ct}=at,kt=()=>i(rt,k,z),Wt=()=>{pt(rt,()=>{kt(),Ct&&Ct()})};bt?bt(rt,kt,Wt):Wt()}else i(rt,k,z)},Dt=(O,k,z,Q=!1,Z=!1)=>{const{type:rt,props:ht,ref:at,children:lt,dynamicChildren:J,shapeFlag:yt,patchFlag:pt,dirs:bt}=O;if(at!=null&&Bo(at,null,z,O,!0),yt&256){k.ctx.deactivate(O);return}const Ct=yt&1&&bt,kt=!li(O);let Wt;if(kt&&(Wt=ht&&ht.onVnodeBeforeUnmount)&&Ve(Wt,k,O),yt&6)Vt(O.component,z,Q);else{if(yt&128){O.suspense.unmount(z,Q);return}Ct&&zn(O,null,k,"beforeUnmount"),yt&64?O.type.remove(O,k,z,Z,Ie,Q):J&&(rt!==ee||pt>0&&pt&64)?Zt(J,k,z,!1,!0):(rt===ee&&pt&384||!Z&&yt&16)&&Zt(lt,k,z),Q&&Yt(O)}(kt&&(Wt=ht&&ht.onVnodeUnmounted)||Ct)&&Me(()=>{Wt&&Ve(Wt,k,O),Ct&&zn(O,null,k,"unmounted")},z)},Yt=O=>{const{type:k,el:z,anchor:Q,transition:Z}=O;if(k===ee){Ee(z,Q);return}if(k===hi){M(O);return}const rt=()=>{s(z),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(O.shapeFlag&1&&Z&&!Z.persisted){const{leave:ht,delayLeave:at}=Z,lt=()=>ht(z,rt);at?at(O.el,rt,lt):lt()}else rt()},Ee=(O,k)=>{let z;for(;O!==k;)z=v(O),s(O),O=z;s(k)},Vt=(O,k,z)=>{const{bum:Q,scope:Z,update:rt,subTree:ht,um:at}=O;Q&&Ji(Q),Z.stop(),rt&&(rt.active=!1,Dt(ht,O,k,z)),at&&Me(at,k),Me(()=>{O.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},Zt=(O,k,z,Q=!1,Z=!1,rt=0)=>{for(let ht=rt;ht<O.length;ht++)Dt(O[ht],k,z,Q,Z)},Ze=O=>O.shapeFlag&6?Ze(O.component.subTree):O.shapeFlag&128?O.suspense.next():v(O.anchor||O.el),ae=(O,k,z)=>{O==null?k._vnode&&Dt(k._vnode,null,null,!0):P(k._vnode||null,O,k,null,null,null,z),tg(),Fo(),k._vnode=O},Ie={p:P,um:Dt,m:St,r:Yt,mt:H,mc:L,pc:dt,pbc:Y,n:Ze,o:n};let zr,An;return t&&([zr,An]=t(Ie)),{render:ae,hydrate:zr,createApp:px(ae,zr)}}function Zr({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function Qh(n,t,e=!1){const i=n.children,s=t.children;if(vt(i)&&vt(s))for(let o=0;o<i.length;o++){const l=i[o];let u=s[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[o]=Mr(s[o]),u.el=l.el),e||Qh(l,u)),u.type===di&&(u.el=l.el)}}function vx(n){const t=n.slice(),e=[0];let i,s,o,l,u;const f=n.length;for(i=0;i<f;i++){const c=n[i];if(c!==0){if(s=e[e.length-1],n[s]<c){t[i]=s,e.push(i);continue}for(o=0,l=e.length-1;o<l;)u=o+l>>1,n[e[u]]<c?o=u+1:l=u;c<n[e[o]]&&(o>0&&(t[i]=e[o-1]),e[o]=i)}}for(o=e.length,l=e[o-1];o-- >0;)e[o]=l,l=t[l];return e}const mx=n=>n.__isTeleport,$s=n=>n&&(n.disabled||n.disabled===""),fg=n=>typeof SVGElement<"u"&&n instanceof SVGElement,ih=(n,t)=>{const e=n&&n.to;return he(e)?t?t(e):null:e},yx={__isTeleport:!0,process(n,t,e,i,s,o,l,u,f,c){const{mc:g,pc:p,pbc:v,o:{insert:b,querySelector:m,createText:P,createComment:A}}=c,T=$s(t.props);let{shapeFlag:S,children:C,dynamicChildren:M}=t;if(n==null){const B=t.el=P(""),N=t.anchor=P("");b(B,e,i),b(N,e,i);const $=t.target=ih(t.props,m),L=t.targetAnchor=P("");$&&(b(L,$),l=l||fg($));const W=(Y,X)=>{S&16&&g(C,Y,X,s,o,l,u,f)};T?W(e,N):$&&W($,L)}else{t.el=n.el;const B=t.anchor=n.anchor,N=t.target=n.target,$=t.targetAnchor=n.targetAnchor,L=$s(n.props),W=L?e:N,Y=L?B:$;if(l=l||fg(N),M?(v(n.dynamicChildren,M,W,s,o,l,u),Qh(n,t,!0)):f||p(n,t,W,Y,s,o,l,u,!1),T)L||vo(t,e,B,c,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const X=t.target=ih(t.props,m);X&&vo(t,X,null,c,0)}else L&&vo(t,N,$,c,1)}d_(t)},remove(n,t,e,i,{um:s,o:{remove:o}},l){const{shapeFlag:u,children:f,anchor:c,targetAnchor:g,target:p,props:v}=n;if(p&&o(g),(l||!$s(v))&&(o(c),u&16))for(let b=0;b<f.length;b++){const m=f[b];s(m,t,e,!0,!!m.dynamicChildren)}},move:vo,hydrate:bx};function vo(n,t,e,{o:{insert:i},m:s},o=2){o===0&&i(n.targetAnchor,t,e);const{el:l,anchor:u,shapeFlag:f,children:c,props:g}=n,p=o===2;if(p&&i(l,t,e),(!p||$s(g))&&f&16)for(let v=0;v<c.length;v++)s(c[v],t,e,2);p&&i(u,t,e)}function bx(n,t,e,i,s,o,{o:{nextSibling:l,parentNode:u,querySelector:f}},c){const g=t.target=ih(t.props,f);if(g){const p=g._lpa||g.firstChild;if(t.shapeFlag&16)if($s(t.props))t.anchor=c(l(n),t,u(n),e,i,s,o),t.targetAnchor=p;else{t.anchor=l(n);let v=p;for(;v;)if(v=l(v),v&&v.nodeType===8&&v.data==="teleport anchor"){t.targetAnchor=v,g._lpa=t.targetAnchor&&l(t.targetAnchor);break}c(p,t,g,e,i,s,o)}d_(t)}return t.anchor&&l(t.anchor)}const c_=yx;function d_(n){const t=n.ctx;if(t&&t.ut){let e=n.children[0].el;for(;e!==n.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",t.uid),e=e.nextSibling;t.ut()}}const ee=Symbol(void 0),di=Symbol(void 0),Ne=Symbol(void 0),hi=Symbol(void 0),Ys=[];let je=null;function Xt(n=!1){Ys.push(je=n?null:[])}function g_(){Ys.pop(),je=Ys[Ys.length-1]||null}let gi=1;function sh(n){gi+=n}function p_(n){return n.dynamicChildren=gi>0?je||ji:null,g_(),gi>0&&je&&je.push(n),n}function Ae(n,t,e,i,s,o){return p_(ll(n,t,e,i,s,o,!0))}function xn(n,t,e,i,s){return p_(It(n,t,e,i,s,!0))}function Nr(n){return n?n.__v_isVNode===!0:!1}function Yn(n,t){return n.type===t.type&&n.key===t.key}function wx(n){}const ol="__vInternal",__=({key:n})=>n!=null?n:null,Mo=({ref:n,ref_key:t,ref_for:e})=>n!=null?he(n)||be(n)||Tt(n)?{i:Le,r:n,k:t,f:!!e}:n:null;function ll(n,t=null,e=null,i=0,s=null,o=n===ee?0:1,l=!1,u=!1){const f={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&__(t),ref:t&&Mo(t),scopeId:el,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Le};return u?(Zh(f,e),o&128&&n.normalize(f)):e&&(f.shapeFlag|=he(e)?8:16),gi>0&&!l&&je&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&je.push(f),f}const It=Sx;function Sx(n,t=null,e=null,i=0,s=null,o=!1){if((!n||n===t_)&&(n=Ne),Nr(n)){const u=Kn(n,t,!0);return e&&Zh(u,e),gi>0&&!o&&je&&(u.shapeFlag&6?je[je.indexOf(n)]=u:je.push(u)),u.patchFlag|=-2,u}if(Rx(n)&&(n=n.__vccOpts),t){t=v_(t);let{class:u,style:f}=t;u&&!he(u)&&(t.class=la(u)),ne(f)&&(Dh(f)&&!vt(f)&&(f=ge({},f)),t.style=oa(f))}const l=he(n)?1:Bp(n)?128:mx(n)?64:ne(n)?4:Tt(n)?2:0;return ll(n,t,e,i,s,l,o,!0)}function v_(n){return n?Dh(n)||ol in n?ge({},n):n:null}function Kn(n,t,e=!1){const{props:i,ref:s,patchFlag:o,children:l}=n,u=t?m_(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&__(u),ref:t&&t.ref?e&&s?vt(s)?s.concat(Mo(t)):[s,Mo(t)]:Mo(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ee?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Kn(n.ssContent),ssFallback:n.ssFallback&&Kn(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx}}function Jh(n=" ",t=0){return It(di,null,n,t)}function Cx(n,t){const e=It(hi,null,n);return e.staticCount=t,e}function Ho(n="",t=!1){return t?(Xt(),xn(Ne,null,n)):It(Ne,null,n)}function ln(n){return n==null||typeof n=="boolean"?It(Ne):vt(n)?It(ee,null,n.slice()):typeof n=="object"?Mr(n):It(di,null,String(n))}function Mr(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Kn(n)}function Zh(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(vt(t))e=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Zh(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(ol in t)?t._ctx=Le:s===3&&Le&&(Le.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Tt(t)?(t={default:t,_ctx:Le},e=32):(t=String(t),i&64?(e=16,t=[Jh(t)]):e=8);n.children=t,n.shapeFlag|=e}function m_(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=la([t.class,i.class]));else if(s==="style")t.style=oa([t.style,i.style]);else if(ua(s)){const o=t[s],l=i[s];l&&o!==l&&!(vt(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=i[s])}return t}function Ve(n,t,e,i=null){hn(n,t,7,[e,i])}const xx=l_();let Ex=0;function y_(n,t,e){const i=n.type,s=(t?t.appContext:n.appContext)||xx,o={uid:Ex++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Mh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:i_(i,s),emitsOptions:Gp(i,s),emit:null,emitted:null,propsDefaults:Jt,inheritAttrs:i.inheritAttrs,ctx:Jt,data:Jt,props:Jt,attrs:Jt,slots:Jt,refs:Jt,setupState:Jt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=OC.bind(null,o),n.ce&&n.ce(o),o}let Ce=null;const dr=()=>Ce||Le,Gr=n=>{Ce=n,n.scope.on()},kr=()=>{Ce&&Ce.scope.off(),Ce=null};function b_(n){return n.vnode.shapeFlag&4}let ss=!1;function w_(n,t=!1){ss=t;const{props:e,children:i}=n.vnode,s=b_(n);ux(n,e,s,t),cx(n,i);const o=s?Tx(n,t):void 0;return ss=!1,o}function Tx(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=Fh(new Proxy(n.ctx,th));const{setup:i}=e;if(i){const s=n.setupContext=i.length>1?C_(n):null;Gr(n),ls();const o=lr(i,n,0,[n.props,s]);if(us(),kr(),Oh(o)){if(o.then(kr,kr),t)return o.then(l=>{ah(n,l,t)}).catch(l=>{vi(l,n,0)});n.asyncDep=o}else ah(n,o,t)}else S_(n,t)}function ah(n,t,e){Tt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:ne(t)&&(n.setupState=Bh(t)),S_(n,e)}let Uo,oh;function Ax(n){Uo=n,oh=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,rx))}}const Px=()=>!Uo;function S_(n,t,e){const i=n.type;if(!n.render){if(!t&&Uo&&!i.render){const s=i.template||Vh(n).template;if(s){const{isCustomElement:o,compilerOptions:l}=n.appContext.config,{delimiters:u,compilerOptions:f}=i,c=ge(ge({isCustomElement:o,delimiters:u},l),f);i.render=Uo(s,c)}}n.render=i.render||kn,oh&&oh(n)}Gr(n),ls(),ix(n),us(),kr()}function Ox(n){return new Proxy(n.attrs,{get(t,e){return dn(n,"get","$attrs"),t[e]}})}function C_(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=Ox(n))},slots:n.slots,emit:n.emit,expose:t}}function ul(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Bh(Fh(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in zs)return zs[e](n)},has(t,e){return e in t||e in zs}}))}function lh(n,t=!0){return Tt(n)?n.displayName||n.name:n.name||t&&n.__name}function Rx(n){return Tt(n)&&"__vccOpts"in n}const ye=(n,t)=>Ip(n,t,ss);function Mx(){return null}function Lx(){return null}function Ix(n){}function kx(n,t){return null}function Dx(){return x_().slots}function Fx(){return x_().attrs}function x_(){const n=dr();return n.setupContext||(n.setupContext=C_(n))}function Nx(n,t){const e=vt(n)?n.reduce((i,s)=>(i[s]={},i),{}):n;for(const i in t){const s=e[i];s?vt(s)||Tt(s)?e[i]={type:s,default:t[i]}:s.default=t[i]:s===null&&(e[i]={default:t[i]})}return e}function Gx(n,t){const e={};for(const i in n)t.includes(i)||Object.defineProperty(e,i,{enumerable:!0,get:()=>n[i]});return e}function Bx(n){const t=dr();let e=n();return kr(),Oh(e)&&(e=e.catch(i=>{throw Gr(t),i})),[e,()=>Gr(t)]}function E_(n,t,e){const i=arguments.length;return i===2?ne(t)&&!vt(t)?Nr(t)?It(n,null,[t]):It(n,t):It(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Nr(e)&&(e=[e]),It(n,t,e))}const T_=Symbol(""),A_=()=>Ir(T_);function Hx(){}function Ux(n,t,e,i){const s=e[i];if(s&&P_(s,n))return s;const o=t();return o.memo=n.slice(),e[i]=o}function P_(n,t){const e=n.memo;if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(rs(e[i],t[i]))return!1;return gi>0&&je&&je.push(n),!0}const O_="3.2.45",Wx={createComponentInstance:y_,setupComponent:w_,renderComponentRoot:Ro,setCurrentRenderingInstance:ea,isVNode:Nr,normalizeVNode:ln},zx=Wx,$x=null,Yx=null,Kx="http://www.w3.org/2000/svg",ii=typeof document<"u"?document:null,cg=ii&&ii.createElement("template"),Xx={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const s=t?ii.createElementNS(Kx,n):ii.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>ii.createTextNode(n),createComment:n=>ii.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>ii.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,i,s,o){const l=e?e.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),e),!(s===o||!(s=s.nextSibling)););else{cg.innerHTML=i?`<svg>${n}</svg>`:n;const u=cg.content;if(i){const f=u.firstChild;for(;f.firstChild;)u.appendChild(f.firstChild);u.removeChild(f)}t.insertBefore(u,e)}return[l?l.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function qx(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function Vx(n,t,e){const i=n.style,s=he(e);if(e&&!s){for(const o in e)uh(i,o,e[o]);if(t&&!he(t))for(const o in t)e[o]==null&&uh(i,o,"")}else{const o=i.display;s?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=o)}}const dg=/\s*!important$/;function uh(n,t,e){if(vt(e))e.forEach(i=>uh(n,t,i));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const i=jx(n,t);dg.test(e)?n.setProperty(Cn(i),e.replace(dg,""),"important"):n[i]=e}}const gg=["Webkit","Moz","ms"],Lu={};function jx(n,t){const e=Lu[t];if(e)return e;let i=Qe(t);if(i!=="filter"&&i in n)return Lu[t]=i;i=fa(i);for(let s=0;s<gg.length;s++){const o=gg[s]+i;if(o in n)return Lu[t]=o}return t}const pg="http://www.w3.org/1999/xlink";function Qx(n,t,e,i,s){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(pg,t.slice(6,t.length)):n.setAttributeNS(pg,t,e);else{const o=RS(t);e==null||o&&!up(e)?n.removeAttribute(t):n.setAttribute(t,o?"":e)}}function Jx(n,t,e,i,s,o,l){if(t==="innerHTML"||t==="textContent"){i&&l(i,s,o),n[t]=e==null?"":e;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const f=e==null?"":e;(n.value!==f||n.tagName==="OPTION")&&(n.value=f),e==null&&n.removeAttribute(t);return}let u=!1;if(e===""||e==null){const f=typeof n[t];f==="boolean"?e=up(e):e==null&&f==="string"?(e="",u=!0):f==="number"&&(e=0,u=!0)}try{n[t]=e}catch{}u&&n.removeAttribute(t)}function or(n,t,e,i){n.addEventListener(t,e,i)}function Zx(n,t,e,i){n.removeEventListener(t,e,i)}function tE(n,t,e,i,s=null){const o=n._vei||(n._vei={}),l=o[t];if(i&&l)l.value=i;else{const[u,f]=eE(t);if(i){const c=o[t]=iE(i,s);or(n,u,c,f)}else l&&(Zx(n,u,l,f),o[t]=void 0)}}const _g=/(?:Once|Passive|Capture)$/;function eE(n){let t;if(_g.test(n)){t={};let i;for(;i=n.match(_g);)n=n.slice(0,n.length-i[0].length),t[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Cn(n.slice(2)),t]}let Iu=0;const nE=Promise.resolve(),rE=()=>Iu||(nE.then(()=>Iu=0),Iu=Date.now());function iE(n,t){const e=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=e.attached)return;hn(sE(i,e.value),t,5,[i])};return e.value=n,e.attached=rE(),e}function sE(n,t){if(vt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const vg=/^on[a-z]/,aE=(n,t,e,i,s=!1,o,l,u,f)=>{t==="class"?qx(n,i,s):t==="style"?Vx(n,e,i):ua(t)?Ah(t)||tE(n,t,e,i,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oE(n,t,i,s))?Jx(n,t,i,o,l,u,f):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),Qx(n,t,i,s))};function oE(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&vg.test(t)&&Tt(e)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||vg.test(t)&&he(e)?!1:t in n}function R_(n,t){const e=Kh(n);class i extends hl{constructor(o){super(e,o,t)}}return i.def=e,i}const lE=n=>R_(n,Y_),uE=typeof HTMLElement<"u"?HTMLElement:class{};class hl extends uE{constructor(t,e={},i){super(),this._def=t,this._props=e,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,da(()=>{this._connected||(ch(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let i=0;i<this.attributes.length;i++)this._setAttr(this.attributes[i].name);new MutationObserver(i=>{for(const s of i)this._setAttr(s.attributeName)}).observe(this,{attributes:!0});const t=(i,s=!1)=>{const{props:o,styles:l}=i;let u;if(o&&!vt(o))for(const f in o){const c=o[f];(c===Number||c&&c.type===Number)&&(f in this._props&&(this._props[f]=hr(this._props[f])),(u||(u=Object.create(null)))[Qe(f)]=!0)}this._numberProps=u,s&&this._resolveProps(i),this._applyStyles(l),this._update()},e=this._def.__asyncLoader;e?e().then(i=>t(i,!0)):t(this._def)}_resolveProps(t){const{props:e}=t,i=vt(e)?e:Object.keys(e||{});for(const s of Object.keys(this))s[0]!=="_"&&i.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of i.map(Qe))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(o){this._setProp(s,o)}})}_setAttr(t){let e=this.getAttribute(t);const i=Qe(t);this._numberProps&&this._numberProps[i]&&(e=hr(e)),this._setProp(i,e,!1)}_getProp(t){return this._props[t]}_setProp(t,e,i=!0,s=!0){e!==this._props[t]&&(this._props[t]=e,s&&this._instance&&this._update(),i&&(e===!0?this.setAttribute(Cn(t),""):typeof e=="string"||typeof e=="number"?this.setAttribute(Cn(t),e+""):e||this.removeAttribute(Cn(t))))}_update(){ch(this._createVNode(),this.shadowRoot)}_createVNode(){const t=It(this._def,ge({},this._props));return this._instance||(t.ce=e=>{this._instance=e,e.isCE=!0;const i=(o,l)=>{this.dispatchEvent(new CustomEvent(o,{detail:l}))};e.emit=(o,...l)=>{i(o,l),Cn(o)!==o&&i(Cn(o),l)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof hl){e.parent=s._instance,e.provides=s._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(e=>{const i=document.createElement("style");i.textContent=e,this.shadowRoot.appendChild(i)})}}function hE(n="$style"){{const t=dr();if(!t)return Jt;const e=t.type.__cssModules;if(!e)return Jt;const i=e[n];return i||Jt}}function fE(n){const t=dr();if(!t)return;const e=t.ut=(s=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>fh(o,s))},i=()=>{const s=n(t.proxy);hh(t.subTree,s),e(s)};Up(i),mi(()=>{const s=new MutationObserver(i);s.observe(t.subTree.el.parentNode,{childList:!0}),al(()=>s.disconnect())})}function hh(n,t){if(n.shapeFlag&128){const e=n.suspense;n=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{hh(e.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)fh(n.el,t);else if(n.type===ee)n.children.forEach(e=>hh(e,t));else if(n.type===hi){let{el:e,anchor:i}=n;for(;e&&(fh(e,t),e!==i);)e=e.nextSibling}}function fh(n,t){if(n.nodeType===1){const e=n.style;for(const i in t)e.setProperty(`--${i}`,t[i])}}const Pr="transition",Os="animation",tf=(n,{slots:t})=>E_(Yh,L_(n),t);tf.displayName="Transition";const M_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cE=tf.props=ge({},Yh.props,M_),ti=(n,t=[])=>{vt(n)?n.forEach(e=>e(...t)):n&&n(...t)},mg=n=>n?vt(n)?n.some(t=>t.length>1):n.length>1:!1;function L_(n){const t={};for(const q in n)q in M_||(t[q]=n[q]);if(n.css===!1)return t;const{name:e="v",type:i,duration:s,enterFromClass:o=`${e}-enter-from`,enterActiveClass:l=`${e}-enter-active`,enterToClass:u=`${e}-enter-to`,appearFromClass:f=o,appearActiveClass:c=l,appearToClass:g=u,leaveFromClass:p=`${e}-leave-from`,leaveActiveClass:v=`${e}-leave-active`,leaveToClass:b=`${e}-leave-to`}=n,m=dE(s),P=m&&m[0],A=m&&m[1],{onBeforeEnter:T,onEnter:S,onEnterCancelled:C,onLeave:M,onLeaveCancelled:B,onBeforeAppear:N=T,onAppear:$=S,onAppearCancelled:L=C}=t,W=(q,G,H)=>{Or(q,G?g:u),Or(q,G?c:l),H&&H()},Y=(q,G)=>{q._isLeaving=!1,Or(q,p),Or(q,b),Or(q,v),G&&G()},X=q=>(G,H)=>{const ot=q?$:S,nt=()=>W(G,q,H);ti(ot,[G,nt]),yg(()=>{Or(G,q?f:o),ir(G,q?g:u),mg(ot)||bg(G,i,P,nt)})};return ge(t,{onBeforeEnter(q){ti(T,[q]),ir(q,o),ir(q,l)},onBeforeAppear(q){ti(N,[q]),ir(q,f),ir(q,c)},onEnter:X(!1),onAppear:X(!0),onLeave(q,G){q._isLeaving=!0;const H=()=>Y(q,G);ir(q,p),k_(),ir(q,v),yg(()=>{!q._isLeaving||(Or(q,p),ir(q,b),mg(M)||bg(q,i,A,H))}),ti(M,[q,H])},onEnterCancelled(q){W(q,!1),ti(C,[q])},onAppearCancelled(q){W(q,!0),ti(L,[q])},onLeaveCancelled(q){Y(q),ti(B,[q])}})}function dE(n){if(n==null)return null;if(ne(n))return[ku(n.enter),ku(n.leave)];{const t=ku(n);return[t,t]}}function ku(n){return hr(n)}function ir(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n._vtc||(n._vtc=new Set)).add(t)}function Or(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:e}=n;e&&(e.delete(t),e.size||(n._vtc=void 0))}function yg(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let gE=0;function bg(n,t,e,i){const s=n._endId=++gE,o=()=>{s===n._endId&&i()};if(e)return setTimeout(o,e);const{type:l,timeout:u,propCount:f}=I_(n,t);if(!l)return i();const c=l+"end";let g=0;const p=()=>{n.removeEventListener(c,v),o()},v=b=>{b.target===n&&++g>=f&&p()};setTimeout(()=>{g<f&&p()},u+1),n.addEventListener(c,v)}function I_(n,t){const e=window.getComputedStyle(n),i=m=>(e[m]||"").split(", "),s=i(`${Pr}Delay`),o=i(`${Pr}Duration`),l=wg(s,o),u=i(`${Os}Delay`),f=i(`${Os}Duration`),c=wg(u,f);let g=null,p=0,v=0;t===Pr?l>0&&(g=Pr,p=l,v=o.length):t===Os?c>0&&(g=Os,p=c,v=f.length):(p=Math.max(l,c),g=p>0?l>c?Pr:Os:null,v=g?g===Pr?o.length:f.length:0);const b=g===Pr&&/\b(transform|all)(,|$)/.test(i(`${Pr}Property`).toString());return{type:g,timeout:p,propCount:v,hasTransform:b}}function wg(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,i)=>Sg(e)+Sg(n[i])))}function Sg(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function k_(){return document.body.offsetHeight}const D_=new WeakMap,F_=new WeakMap,pE={name:"TransitionGroup",props:ge({},cE,{tag:String,moveClass:String}),setup(n,{slots:t}){const e=dr(),i=$h();let s,o;return il(()=>{if(!s.length)return;const l=n.moveClass||`${n.name||"v"}-move`;if(!bE(s[0].el,e.vnode.el,l))return;s.forEach(vE),s.forEach(mE);const u=s.filter(yE);k_(),u.forEach(f=>{const c=f.el,g=c.style;ir(c,l),g.transform=g.webkitTransform=g.transitionDuration="";const p=c._moveCb=v=>{v&&v.target!==c||(!v||/transform$/.test(v.propertyName))&&(c.removeEventListener("transitionend",p),c._moveCb=null,Or(c,l))};c.addEventListener("transitionend",p)})}),()=>{const l=Ut(n),u=L_(l);let f=l.tag||ee;s=o,o=t.default?nl(t.default()):[];for(let c=0;c<o.length;c++){const g=o[c];g.key!=null&&ci(g,is(g,u,i,e))}if(s)for(let c=0;c<s.length;c++){const g=s[c];ci(g,is(g,u,i,e)),D_.set(g,g.el.getBoundingClientRect())}return It(f,null,o)}}},_E=pE;function vE(n){const t=n.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function mE(n){F_.set(n,n.el.getBoundingClientRect())}function yE(n){const t=D_.get(n),e=F_.get(n),i=t.left-e.left,s=t.top-e.top;if(i||s){const o=n.el.style;return o.transform=o.webkitTransform=`translate(${i}px,${s}px)`,o.transitionDuration="0s",n}}function bE(n,t,e){const i=n.cloneNode();n._vtc&&n._vtc.forEach(l=>{l.split(/\s+/).forEach(u=>u&&i.classList.remove(u))}),e.split(/\s+/).forEach(l=>l&&i.classList.add(l)),i.style.display="none";const s=t.nodeType===1?t:t.parentNode;s.appendChild(i);const{hasTransform:o}=I_(i);return s.removeChild(i),o}const Br=n=>{const t=n.props["onUpdate:modelValue"]||!1;return vt(t)?e=>Ji(t,e):t};function wE(n){n.target.composing=!0}function Cg(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ia={created(n,{modifiers:{lazy:t,trim:e,number:i}},s){n._assign=Br(s);const o=i||s.props&&s.props.type==="number";or(n,t?"change":"input",l=>{if(l.target.composing)return;let u=n.value;e&&(u=u.trim()),o&&(u=hr(u)),n._assign(u)}),e&&or(n,"change",()=>{n.value=n.value.trim()}),t||(or(n,"compositionstart",wE),or(n,"compositionend",Cg),or(n,"change",Cg))},mounted(n,{value:t}){n.value=t==null?"":t},beforeUpdate(n,{value:t,modifiers:{lazy:e,trim:i,number:s}},o){if(n._assign=Br(o),n.composing||document.activeElement===n&&n.type!=="range"&&(e||i&&n.value.trim()===t||(s||n.type==="number")&&hr(n.value)===t))return;const l=t==null?"":t;n.value!==l&&(n.value=l)}},ef={deep:!0,created(n,t,e){n._assign=Br(e),or(n,"change",()=>{const i=n._modelValue,s=as(n),o=n.checked,l=n._assign;if(vt(i)){const u=Ko(i,s),f=u!==-1;if(o&&!f)l(i.concat(s));else if(!o&&f){const c=[...i];c.splice(u,1),l(c)}}else if(_i(i)){const u=new Set(i);o?u.add(s):u.delete(s),l(u)}else l(G_(n,o))})},mounted:xg,beforeUpdate(n,t,e){n._assign=Br(e),xg(n,t,e)}};function xg(n,{value:t,oldValue:e},i){n._modelValue=t,vt(t)?n.checked=Ko(t,i.props.value)>-1:_i(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=Dr(t,G_(n,!0)))}const nf={created(n,{value:t},e){n.checked=Dr(t,e.props.value),n._assign=Br(e),or(n,"change",()=>{n._assign(as(n))})},beforeUpdate(n,{value:t,oldValue:e},i){n._assign=Br(i),t!==e&&(n.checked=Dr(t,i.props.value))}},N_={deep:!0,created(n,{value:t,modifiers:{number:e}},i){const s=_i(t);or(n,"change",()=>{const o=Array.prototype.filter.call(n.options,l=>l.selected).map(l=>e?hr(as(l)):as(l));n._assign(n.multiple?s?new Set(o):o:o[0])}),n._assign=Br(i)},mounted(n,{value:t}){Eg(n,t)},beforeUpdate(n,t,e){n._assign=Br(e)},updated(n,{value:t}){Eg(n,t)}};function Eg(n,t){const e=n.multiple;if(!(e&&!vt(t)&&!_i(t))){for(let i=0,s=n.options.length;i<s;i++){const o=n.options[i],l=as(o);if(e)vt(t)?o.selected=Ko(t,l)>-1:o.selected=t.has(l);else if(Dr(as(o),t)){n.selectedIndex!==i&&(n.selectedIndex=i);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function as(n){return"_value"in n?n._value:n.value}function G_(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const B_={created(n,t,e){mo(n,t,e,null,"created")},mounted(n,t,e){mo(n,t,e,null,"mounted")},beforeUpdate(n,t,e,i){mo(n,t,e,i,"beforeUpdate")},updated(n,t,e,i){mo(n,t,e,i,"updated")}};function H_(n,t){switch(n){case"SELECT":return N_;case"TEXTAREA":return ia;default:switch(t){case"checkbox":return ef;case"radio":return nf;default:return ia}}}function mo(n,t,e,i,s){const l=H_(n.tagName,e.props&&e.props.type)[s];l&&l(n,t,e,i)}function SE(){ia.getSSRProps=({value:n})=>({value:n}),nf.getSSRProps=({value:n},t)=>{if(t.props&&Dr(t.props.value,n))return{checked:!0}},ef.getSSRProps=({value:n},t)=>{if(vt(n)){if(t.props&&Ko(n,t.props.value)>-1)return{checked:!0}}else if(_i(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},B_.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const e=H_(t.type.toUpperCase(),t.props&&t.props.type);if(e.getSSRProps)return e.getSSRProps(n,t)}}const CE=["ctrl","shift","alt","meta"],xE={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>CE.some(e=>n[`${e}Key`]&&!t.includes(e))},EE=(n,t)=>(e,...i)=>{for(let s=0;s<t.length;s++){const o=xE[t[s]];if(o&&o(e,t))return}return n(e,...i)},TE={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},AE=(n,t)=>e=>{if(!("key"in e))return;const i=Cn(e.key);if(t.some(s=>s===i||TE[s]===i))return n(e)},U_={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):Rs(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),Rs(n,!0),i.enter(n)):i.leave(n,()=>{Rs(n,!1)}):Rs(n,t))},beforeUnmount(n,{value:t}){Rs(n,t)}};function Rs(n,t){n.style.display=t?n._vod:"none"}function PE(){U_.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const W_=ge({patchProp:aE},Xx);let Ks,Tg=!1;function z_(){return Ks||(Ks=u_(W_))}function $_(){return Ks=Tg?Ks:h_(W_),Tg=!0,Ks}const ch=(...n)=>{z_().render(...n)},Y_=(...n)=>{$_().hydrate(...n)},K_=(...n)=>{const t=z_().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=X_(i);if(!s)return;const o=t._component;!Tt(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.innerHTML="";const l=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t},OE=(...n)=>{const t=$_().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=X_(i);if(s)return e(s,!0,s instanceof SVGElement)},t};function X_(n){return he(n)?document.querySelector(n):n}let Ag=!1;const RE=()=>{Ag||(Ag=!0,SE(),PE())},ME=()=>{},LE=Object.freeze(Object.defineProperty({__proto__:null,compile:ME,EffectScope:Mh,ReactiveEffect:ca,customRef:bC,effect:WS,effectScope:BS,getCurrentScope:pp,isProxy:Dh,isReactive:oi,isReadonly:fi,isRef:be,isShallow:Qs,markRaw:Fh,onScopeDispose:_p,proxyRefs:Bh,reactive:Dn,readonly:kh,ref:ze,shallowReactive:Op,shallowReadonly:gC,shallowRef:pC,stop:zS,toRaw:Ut,toRef:Mp,toRefs:wC,triggerRef:vC,unref:me,camelize:Qe,capitalize:fa,normalizeClass:la,normalizeProps:PS,normalizeStyle:oa,toDisplayString:hp,toHandlerKey:Ws,BaseTransition:Yh,Comment:Ne,Fragment:ee,KeepAlive:VC,Static:hi,Suspense:GC,Teleport:c_,Text:di,callWithAsyncErrorHandling:hn,callWithErrorHandling:lr,cloneVNode:Kn,compatUtils:Yx,computed:ye,createBlock:xn,createCommentVNode:Ho,createElementBlock:Ae,createElementVNode:ll,createHydrationRenderer:h_,createPropsRestProxy:Gx,createRenderer:u_,createSlots:tx,createStaticVNode:Cx,createTextVNode:Jh,createVNode:It,defineAsyncComponent:XC,defineComponent:Kh,defineEmits:Lx,defineExpose:Ix,defineProps:Mx,get devtools(){return Xi},getCurrentInstance:dr,getTransitionRawChildren:nl,guardReactiveProps:v_,h:E_,handleError:vi,initCustomFormatter:Hx,inject:Ir,isMemoSame:P_,isRuntimeOnly:Px,isVNode:Nr,mergeDefaults:Nx,mergeProps:m_,nextTick:da,onActivated:$p,onBeforeMount:Xp,onBeforeUnmount:sl,onBeforeUpdate:qp,onDeactivated:Yp,onErrorCaptured:Jp,onMounted:mi,onRenderTracked:Qp,onRenderTriggered:jp,onServerPrefetch:Vp,onUnmounted:al,onUpdated:il,openBlock:Xt,popScopeId:MC,provide:No,pushScopeId:RC,queuePostFlushCb:Uh,registerRuntimeCompiler:Ax,renderList:ui,renderSlot:ex,resolveComponent:fn,resolveDirective:ZC,resolveDynamicComponent:JC,resolveFilter:$x,resolveTransitionHooks:is,setBlockTracking:sh,setDevtoolsHook:Np,setTransitionHooks:ci,ssrContextKey:T_,ssrUtils:zx,toHandlers:nx,transformVNodeArgs:wx,useAttrs:Fx,useSSRContext:A_,useSlots:Dx,useTransitionState:$h,version:O_,warn:xC,watch:ur,watchEffect:zC,watchPostEffect:Up,watchSyncEffect:$C,withAsyncContext:Bx,withCtx:na,withDefaults:kx,withDirectives:Zp,withMemo:Ux,withScopeId:LC,Transition:tf,TransitionGroup:_E,VueElement:hl,createApp:K_,createSSRApp:OE,defineCustomElement:R_,defineSSRCustomElement:lE,hydrate:Y_,initDirectivesForSSR:RE,render:ch,useCssModule:hE,useCssVars:fE,vModelCheckbox:ef,vModelDynamic:B_,vModelRadio:nf,vModelSelect:N_,vModelText:ia,vShow:U_,withKeys:AE,withModifiers:EE},Symbol.toStringTag,{value:"Module"}));function IE(){return q_().__VUE_DEVTOOLS_GLOBAL_HOOK__}function q_(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const kE=typeof Proxy=="function",DE="devtools-plugin:setup",FE="plugin:settings:set";let Wi,dh;function NE(){var n;return Wi!==void 0||(typeof window<"u"&&window.performance?(Wi=!0,dh=window.performance):typeof global<"u"&&((n=global.perf_hooks)===null||n===void 0?void 0:n.performance)?(Wi=!0,dh=global.perf_hooks.performance):Wi=!1),Wi}function GE(){return NE()?dh.now():Date.now()}class BE{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const i={};if(t.settings)for(const l in t.settings){const u=t.settings[l];i[l]=u.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let o=Object.assign({},i);try{const l=localStorage.getItem(s),u=JSON.parse(l);Object.assign(o,u)}catch{}this.fallbacks={getSettings(){return o},setSettings(l){try{localStorage.setItem(s,JSON.stringify(l))}catch{}o=l},now(){return GE()}},e&&e.on(FE,(l,u)=>{l===this.plugin.id&&this.fallbacks.setSettings(u)}),this.proxiedOn=new Proxy({},{get:(l,u)=>this.target?this.target.on[u]:(...f)=>{this.onQueue.push({method:u,args:f})}}),this.proxiedTarget=new Proxy({},{get:(l,u)=>this.target?this.target[u]:u==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(u)?(...f)=>(this.targetQueue.push({method:u,args:f,resolve:()=>{}}),this.fallbacks[u](...f)):(...f)=>new Promise(c=>{this.targetQueue.push({method:u,args:f,resolve:c})})})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function HE(n,t){const e=n,i=q_(),s=IE(),o=kE&&e.enableEarlyProxy;if(s&&(i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(DE,n,t);else{const l=o?new BE(e,s):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:l}),l&&t(l.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var V_="store";function hs(n){return n===void 0&&(n=null),Ir(n!==null?n:V_)}function fs(n,t){Object.keys(n).forEach(function(e){return t(n[e],e)})}function UE(n){return n!==null&&typeof n=="object"}function WE(n){return n&&typeof n.then=="function"}function zE(n,t){return function(){return n(t)}}function j_(n,t,e){return t.indexOf(n)<0&&(e&&e.prepend?t.unshift(n):t.push(n)),function(){var i=t.indexOf(n);i>-1&&t.splice(i,1)}}function Q_(n,t){n._actions=Object.create(null),n._mutations=Object.create(null),n._wrappedGetters=Object.create(null),n._modulesNamespaceMap=Object.create(null);var e=n.state;fl(n,e,[],n._modules.root,!0),rf(n,e,t)}function rf(n,t,e){var i=n._state;n.getters={},n._makeLocalGettersCache=Object.create(null);var s=n._wrappedGetters,o={};fs(s,function(l,u){o[u]=zE(l,n),Object.defineProperty(n.getters,u,{get:function(){return o[u]()},enumerable:!0})}),n._state=Dn({data:t}),n.strict&&qE(n),i&&e&&n._withCommit(function(){i.data=null})}function fl(n,t,e,i,s){var o=!e.length,l=n._modules.getNamespace(e);if(i.namespaced&&(n._modulesNamespaceMap[l],n._modulesNamespaceMap[l]=i),!o&&!s){var u=sf(t,e.slice(0,-1)),f=e[e.length-1];n._withCommit(function(){u[f]=i.state})}var c=i.context=$E(n,l,e);i.forEachMutation(function(g,p){var v=l+p;YE(n,v,g,c)}),i.forEachAction(function(g,p){var v=g.root?p:l+p,b=g.handler||g;KE(n,v,b,c)}),i.forEachGetter(function(g,p){var v=l+p;XE(n,v,g,c)}),i.forEachChild(function(g,p){fl(n,t,e.concat(p),g,s)})}function $E(n,t,e){var i=t==="",s={dispatch:i?n.dispatch:function(o,l,u){var f=Wo(o,l,u),c=f.payload,g=f.options,p=f.type;return(!g||!g.root)&&(p=t+p),n.dispatch(p,c)},commit:i?n.commit:function(o,l,u){var f=Wo(o,l,u),c=f.payload,g=f.options,p=f.type;(!g||!g.root)&&(p=t+p),n.commit(p,c,g)}};return Object.defineProperties(s,{getters:{get:i?function(){return n.getters}:function(){return J_(n,t)}},state:{get:function(){return sf(n.state,e)}}}),s}function J_(n,t){if(!n._makeLocalGettersCache[t]){var e={},i=t.length;Object.keys(n.getters).forEach(function(s){if(s.slice(0,i)===t){var o=s.slice(i);Object.defineProperty(e,o,{get:function(){return n.getters[s]},enumerable:!0})}}),n._makeLocalGettersCache[t]=e}return n._makeLocalGettersCache[t]}function YE(n,t,e,i){var s=n._mutations[t]||(n._mutations[t]=[]);s.push(function(l){e.call(n,i.state,l)})}function KE(n,t,e,i){var s=n._actions[t]||(n._actions[t]=[]);s.push(function(l){var u=e.call(n,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:n.getters,rootState:n.state},l);return WE(u)||(u=Promise.resolve(u)),n._devtoolHook?u.catch(function(f){throw n._devtoolHook.emit("vuex:error",f),f}):u})}function XE(n,t,e,i){n._wrappedGetters[t]||(n._wrappedGetters[t]=function(o){return e(i.state,i.getters,o.state,o.getters)})}function qE(n){ur(function(){return n._state.data},function(){},{deep:!0,flush:"sync"})}function sf(n,t){return t.reduce(function(e,i){return e[i]},n)}function Wo(n,t,e){return UE(n)&&n.type&&(e=t,t=n,n=n.type),{type:n,payload:t,options:e}}var VE="vuex bindings",Pg="vuex:mutations",Du="vuex:actions",zi="vuex",jE=0;function QE(n,t){HE({id:"org.vuejs.vuex",app:n,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[VE]},function(e){e.addTimelineLayer({id:Pg,label:"Vuex Mutations",color:Og}),e.addTimelineLayer({id:Du,label:"Vuex Actions",color:Og}),e.addInspector({id:zi,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),e.on.getInspectorTree(function(i){if(i.app===n&&i.inspectorId===zi)if(i.filter){var s=[];nv(s,t._modules.root,i.filter,""),i.rootNodes=s}else i.rootNodes=[ev(t._modules.root,"")]}),e.on.getInspectorState(function(i){if(i.app===n&&i.inspectorId===zi){var s=i.nodeId;J_(t,s),i.state=tT(nT(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),e.on.editInspectorState(function(i){if(i.app===n&&i.inspectorId===zi){var s=i.nodeId,o=i.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),t._withCommit(function(){i.set(t._state.data,o,i.state.value)})}}),t.subscribe(function(i,s){var o={};i.payload&&(o.payload=i.payload),o.state=s,e.notifyComponentUpdate(),e.sendInspectorTree(zi),e.sendInspectorState(zi),e.addTimelineEvent({layerId:Pg,event:{time:Date.now(),title:i.type,data:o}})}),t.subscribeAction({before:function(i,s){var o={};i.payload&&(o.payload=i.payload),i._id=jE++,i._time=Date.now(),o.state=s,e.addTimelineEvent({layerId:Du,event:{time:i._time,title:i.type,groupId:i._id,subtitle:"start",data:o}})},after:function(i,s){var o={},l=Date.now()-i._time;o.duration={_custom:{type:"duration",display:l+"ms",tooltip:"Action duration",value:l}},i.payload&&(o.payload=i.payload),o.state=s,e.addTimelineEvent({layerId:Du,event:{time:Date.now(),title:i.type,groupId:i._id,subtitle:"end",data:o}})}})})}var Og=8702998,JE=6710886,ZE=16777215,Z_={label:"namespaced",textColor:ZE,backgroundColor:JE};function tv(n){return n&&n!=="root"?n.split("/").slice(-2,-1)[0]:"Root"}function ev(n,t){return{id:t||"root",label:tv(t),tags:n.namespaced?[Z_]:[],children:Object.keys(n._children).map(function(e){return ev(n._children[e],t+e+"/")})}}function nv(n,t,e,i){i.includes(e)&&n.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:t.namespaced?[Z_]:[]}),Object.keys(t._children).forEach(function(s){nv(n,t._children[s],e,i+s+"/")})}function tT(n,t,e){t=e==="root"?t:t[e];var i=Object.keys(t),s={state:Object.keys(n.state).map(function(l){return{key:l,editable:!0,value:n.state[l]}})};if(i.length){var o=eT(t);s.getters=Object.keys(o).map(function(l){return{key:l.endsWith("/")?tv(l):l,editable:!1,value:gh(function(){return o[l]})}})}return s}function eT(n){var t={};return Object.keys(n).forEach(function(e){var i=e.split("/");if(i.length>1){var s=t,o=i.pop();i.forEach(function(l){s[l]||(s[l]={_custom:{value:{},display:l,tooltip:"Module",abstract:!0}}),s=s[l]._custom.value}),s[o]=gh(function(){return n[e]})}else t[e]=gh(function(){return n[e]})}),t}function nT(n,t){var e=t.split("/").filter(function(i){return i});return e.reduce(function(i,s,o){var l=i[s];if(!l)throw new Error('Missing module "'+s+'" for path "'+t+'".');return o===e.length-1?l:l._children},t==="root"?n:n.root._children)}function gh(n){try{return n()}catch(t){return t}}var Fn=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var i=t.state;this.state=(typeof i=="function"?i():i)||{}},rv={namespaced:{configurable:!0}};rv.namespaced.get=function(){return!!this._rawModule.namespaced};Fn.prototype.addChild=function(t,e){this._children[t]=e};Fn.prototype.removeChild=function(t){delete this._children[t]};Fn.prototype.getChild=function(t){return this._children[t]};Fn.prototype.hasChild=function(t){return t in this._children};Fn.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Fn.prototype.forEachChild=function(t){fs(this._children,t)};Fn.prototype.forEachGetter=function(t){this._rawModule.getters&&fs(this._rawModule.getters,t)};Fn.prototype.forEachAction=function(t){this._rawModule.actions&&fs(this._rawModule.actions,t)};Fn.prototype.forEachMutation=function(t){this._rawModule.mutations&&fs(this._rawModule.mutations,t)};Object.defineProperties(Fn.prototype,rv);var yi=function(t){this.register([],t,!1)};yi.prototype.get=function(t){return t.reduce(function(e,i){return e.getChild(i)},this.root)};yi.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(i,s){return e=e.getChild(s),i+(e.namespaced?s+"/":"")},"")};yi.prototype.update=function(t){iv([],this.root,t)};yi.prototype.register=function(t,e,i){var s=this;i===void 0&&(i=!0);var o=new Fn(e,i);if(t.length===0)this.root=o;else{var l=this.get(t.slice(0,-1));l.addChild(t[t.length-1],o)}e.modules&&fs(e.modules,function(u,f){s.register(t.concat(f),u,i)})};yi.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1],s=e.getChild(i);!s||!s.runtime||e.removeChild(i)};yi.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),i=t[t.length-1];return e?e.hasChild(i):!1};function iv(n,t,e){if(t.update(e),e.modules)for(var i in e.modules){if(!t.getChild(i))return;iv(n.concat(i),t.getChild(i),e.modules[i])}}function rT(n){return new Je(n)}var Je=function(t){var e=this;t===void 0&&(t={});var i=t.plugins;i===void 0&&(i=[]);var s=t.strict;s===void 0&&(s=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yi(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=o;var l=this,u=this,f=u.dispatch,c=u.commit;this.dispatch=function(v,b){return f.call(l,v,b)},this.commit=function(v,b,m){return c.call(l,v,b,m)},this.strict=s;var g=this._modules.root.state;fl(this,g,[],this._modules.root),rf(this,g),i.forEach(function(p){return p(e)})},af={state:{configurable:!0}};Je.prototype.install=function(t,e){t.provide(e||V_,this),t.config.globalProperties.$store=this;var i=this._devtools!==void 0?this._devtools:!1;i&&QE(t,this)};af.state.get=function(){return this._state.data};af.state.set=function(n){};Je.prototype.commit=function(t,e,i){var s=this,o=Wo(t,e,i),l=o.type,u=o.payload,f={type:l,payload:u},c=this._mutations[l];!c||(this._withCommit(function(){c.forEach(function(p){p(u)})}),this._subscribers.slice().forEach(function(g){return g(f,s.state)}))};Je.prototype.dispatch=function(t,e){var i=this,s=Wo(t,e),o=s.type,l=s.payload,u={type:o,payload:l},f=this._actions[o];if(!!f){try{this._actionSubscribers.slice().filter(function(g){return g.before}).forEach(function(g){return g.before(u,i.state)})}catch{}var c=f.length>1?Promise.all(f.map(function(g){return g(l)})):f[0](l);return new Promise(function(g,p){c.then(function(v){try{i._actionSubscribers.filter(function(b){return b.after}).forEach(function(b){return b.after(u,i.state)})}catch{}g(v)},function(v){try{i._actionSubscribers.filter(function(b){return b.error}).forEach(function(b){return b.error(u,i.state,v)})}catch{}p(v)})})}};Je.prototype.subscribe=function(t,e){return j_(t,this._subscribers,e)};Je.prototype.subscribeAction=function(t,e){var i=typeof t=="function"?{before:t}:t;return j_(i,this._actionSubscribers,e)};Je.prototype.watch=function(t,e,i){var s=this;return ur(function(){return t(s.state,s.getters)},e,Object.assign({},i))};Je.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._state.data=t})};Je.prototype.registerModule=function(t,e,i){i===void 0&&(i={}),typeof t=="string"&&(t=[t]),this._modules.register(t,e),fl(this,this.state,t,this._modules.get(t),i.preserveState),rf(this,this.state)};Je.prototype.unregisterModule=function(t){var e=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var i=sf(e.state,t.slice(0,-1));delete i[t[t.length-1]]}),Q_(this)};Je.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Je.prototype.hotUpdate=function(t){this._modules.update(t),Q_(this,!0)};Je.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e};Object.defineProperties(Je.prototype,af);var Rg;const _a=typeof window<"u";_a&&((Rg=window==null?void 0:window.navigator)==null?void 0:Rg.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function iT(n){return typeof n=="function"?n():me(n)}function sT(n){return n}function aT(n){return pp()?(_p(n),!0):!1}function oT(n,t=!0){dr()?mi(n):t?n():da(n)}function lT(n){var t;const e=iT(n);return(t=e==null?void 0:e.$el)!=null?t:e}const uT=_a?window:void 0;_a&&window.document;_a&&window.navigator;_a&&window.location;function hT(n,t=!1){const e=ze(),i=()=>e.value=Boolean(n());return i(),oT(i,t),e}const ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_h="__vueuse_ssr_handlers__";ph[_h]=ph[_h]||{};ph[_h];var Mg=Object.getOwnPropertySymbols,fT=Object.prototype.hasOwnProperty,cT=Object.prototype.propertyIsEnumerable,dT=(n,t)=>{var e={};for(var i in n)fT.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&Mg)for(var i of Mg(n))t.indexOf(i)<0&&cT.call(n,i)&&(e[i]=n[i]);return e};function gT(n,t,e={}){const i=e,{window:s=uT}=i,o=dT(i,["window"]);let l;const u=hT(()=>s&&"ResizeObserver"in s),f=()=>{l&&(l.disconnect(),l=void 0)},c=ur(()=>lT(n),p=>{f(),u.value&&s&&p&&(l=new ResizeObserver(t),l.observe(p,o))},{immediate:!0,flush:"post"}),g=()=>{f(),c()};return aT(g),{isSupported:u,stop:g}}var Lg;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(Lg||(Lg={}));var pT=Object.defineProperty,Ig=Object.getOwnPropertySymbols,_T=Object.prototype.hasOwnProperty,vT=Object.prototype.propertyIsEnumerable,kg=(n,t,e)=>t in n?pT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,mT=(n,t)=>{for(var e in t||(t={}))_T.call(t,e)&&kg(n,e,t[e]);if(Ig)for(var e of Ig(t))vT.call(t,e)&&kg(n,e,t[e]);return n};const yT={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};mT({linear:sT},yT);const Tn=100,bT="#faea00",wT="#fff",ST="#000",Fu=20,Dg=25,of={fill:wT,radius:10,draggable:!0},CT={stroke:ST,strokeWidth:12},xT={__name:"CanvasGrid",props:{width:Number,height:Number},setup(n){const t=n,e=ye(()=>{const s=[],o=Math.ceil(t.width/Tn),l=Math.ceil(t.height/Tn);for(let u=0;u<o;u++){const f=u*Tn,c=i({x:f,points:[0,0,0,t.height]});s.push(c)}for(let u=0;u<l;u++){const f=u*Tn,c=i({y:f,points:[0,0,t.width,0]});s.push(c)}return s}),i=({x:s=0,y:o=0,points:l=[]})=>({x:s,y:o,stroke:"rgba(0, 0, 0, 0.2)",strokeWidth:1,points:l});return(s,o)=>{const l=fn("v-line");return Xt(!0),Ae(ee,null,ui(me(e),(u,f)=>(Xt(),xn(l,{key:f,config:u},null,8,["config"]))),128)}}},Ln={RECT:"rect",T_FIGURE:"t_figure",L_FIGURE:"l_figure",CUSTOM:"custom"};var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ET(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function lf(n){var t=n.default;if(typeof t=="function"){var e=function(){return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var s=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return n[i]}})}),e}var vh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,t){(function(){var e,i="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,g="__lodash_placeholder__",p=1,v=2,b=4,m=1,P=2,A=1,T=2,S=4,C=8,M=16,B=32,N=64,$=128,L=256,W=512,Y=30,X="...",q=800,G=16,H=1,ot=2,nt=3,ft=1/0,dt=9007199254740991,Mt=17976931348623157e292,gt=0/0,St=4294967295,Dt=St-1,Yt=St>>>1,Ee=[["ary",$],["bind",A],["bindKey",T],["curry",C],["curryRight",M],["flip",W],["partial",B],["partialRight",N],["rearg",L]],Vt="[object Arguments]",Zt="[object Array]",Ze="[object AsyncFunction]",ae="[object Boolean]",Ie="[object Date]",zr="[object DOMException]",An="[object Error]",O="[object Function]",k="[object GeneratorFunction]",z="[object Map]",Q="[object Number]",Z="[object Null]",rt="[object Object]",ht="[object Promise]",at="[object Proxy]",lt="[object RegExp]",J="[object Set]",yt="[object String]",pt="[object Symbol]",bt="[object Undefined]",Ct="[object WeakMap]",kt="[object WeakSet]",Wt="[object ArrayBuffer]",Gt="[object DataView]",oe="[object Float32Array]",Ge="[object Float64Array]",Bn="[object Int8Array]",Ei="[object Int16Array]",qn="[object Int32Array]",Ti="[object Uint8Array]",Pe="[object Uint8ClampedArray]",$e="[object Uint16Array]",Ai="[object Uint32Array]",zv=/\b__p \+= '';/g,$v=/\b(__p \+=) '' \+/g,Yv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_f=/&(?:amp|lt|gt|quot|#39);/g,vf=/[&<>"']/g,Kv=RegExp(_f.source),Xv=RegExp(vf.source),qv=/<%-([\s\S]+?)%>/g,Vv=/<%([\s\S]+?)%>/g,mf=/<%=([\s\S]+?)%>/g,jv=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qv=/^\w*$/,Jv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pl=/[\\^$.*+?()[\]{}|]/g,Zv=RegExp(pl.source),_l=/^\s+/,t0=/\s/,e0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,n0=/\{\n\/\* \[wrapped with (.+)\] \*/,r0=/,? & /,i0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,s0=/[()=,{}\[\]\/\s]/,a0=/\\(\\)?/g,o0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yf=/\w*$/,l0=/^[-+]0x[0-9a-f]+$/i,u0=/^0b[01]+$/i,h0=/^\[object .+?Constructor\]$/,f0=/^0o[0-7]+$/i,c0=/^(?:0|[1-9]\d*)$/,d0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ya=/($^)/,g0=/['\n\r\u2028\u2029\\]/g,ba="\\ud800-\\udfff",p0="\\u0300-\\u036f",_0="\\ufe20-\\ufe2f",v0="\\u20d0-\\u20ff",bf=p0+_0+v0,wf="\\u2700-\\u27bf",Sf="a-z\\xdf-\\xf6\\xf8-\\xff",m0="\\xac\\xb1\\xd7\\xf7",y0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",b0="\\u2000-\\u206f",w0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cf="A-Z\\xc0-\\xd6\\xd8-\\xde",xf="\\ufe0e\\ufe0f",Ef=m0+y0+b0+w0,vl="['\u2019]",S0="["+ba+"]",Tf="["+Ef+"]",wa="["+bf+"]",Af="\\d+",C0="["+wf+"]",Pf="["+Sf+"]",Of="[^"+ba+Ef+Af+wf+Sf+Cf+"]",ml="\\ud83c[\\udffb-\\udfff]",x0="(?:"+wa+"|"+ml+")",Rf="[^"+ba+"]",yl="(?:\\ud83c[\\udde6-\\uddff]){2}",bl="[\\ud800-\\udbff][\\udc00-\\udfff]",Pi="["+Cf+"]",Mf="\\u200d",Lf="(?:"+Pf+"|"+Of+")",E0="(?:"+Pi+"|"+Of+")",If="(?:"+vl+"(?:d|ll|m|re|s|t|ve))?",kf="(?:"+vl+"(?:D|LL|M|RE|S|T|VE))?",Df=x0+"?",Ff="["+xf+"]?",T0="(?:"+Mf+"(?:"+[Rf,yl,bl].join("|")+")"+Ff+Df+")*",A0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",P0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Nf=Ff+Df+T0,O0="(?:"+[C0,yl,bl].join("|")+")"+Nf,R0="(?:"+[Rf+wa+"?",wa,yl,bl,S0].join("|")+")",M0=RegExp(vl,"g"),L0=RegExp(wa,"g"),wl=RegExp(ml+"(?="+ml+")|"+R0+Nf,"g"),I0=RegExp([Pi+"?"+Pf+"+"+If+"(?="+[Tf,Pi,"$"].join("|")+")",E0+"+"+kf+"(?="+[Tf,Pi+Lf,"$"].join("|")+")",Pi+"?"+Lf+"+"+If,Pi+"+"+kf,P0,A0,Af,O0].join("|"),"g"),k0=RegExp("["+Mf+ba+bf+xf+"]"),D0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,F0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],N0=-1,se={};se[oe]=se[Ge]=se[Bn]=se[Ei]=se[qn]=se[Ti]=se[Pe]=se[$e]=se[Ai]=!0,se[Vt]=se[Zt]=se[Wt]=se[ae]=se[Gt]=se[Ie]=se[An]=se[O]=se[z]=se[Q]=se[rt]=se[lt]=se[J]=se[yt]=se[Ct]=!1;var ie={};ie[Vt]=ie[Zt]=ie[Wt]=ie[Gt]=ie[ae]=ie[Ie]=ie[oe]=ie[Ge]=ie[Bn]=ie[Ei]=ie[qn]=ie[z]=ie[Q]=ie[rt]=ie[lt]=ie[J]=ie[yt]=ie[pt]=ie[Ti]=ie[Pe]=ie[$e]=ie[Ai]=!0,ie[An]=ie[O]=ie[Ct]=!1;var G0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},B0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},H0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},U0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},W0=parseFloat,z0=parseInt,Gf=typeof qi=="object"&&qi&&qi.Object===Object&&qi,$0=typeof self=="object"&&self&&self.Object===Object&&self,Oe=Gf||$0||Function("return this")(),Sl=t&&!t.nodeType&&t,$r=Sl&&!0&&n&&!n.nodeType&&n,Bf=$r&&$r.exports===Sl,Cl=Bf&&Gf.process,gn=function(){try{var I=$r&&$r.require&&$r.require("util").types;return I||Cl&&Cl.binding&&Cl.binding("util")}catch{}}(),Hf=gn&&gn.isArrayBuffer,Uf=gn&&gn.isDate,Wf=gn&&gn.isMap,zf=gn&&gn.isRegExp,$f=gn&&gn.isSet,Yf=gn&&gn.isTypedArray;function tn(I,K,U){switch(U.length){case 0:return I.call(K);case 1:return I.call(K,U[0]);case 2:return I.call(K,U[0],U[1]);case 3:return I.call(K,U[0],U[1],U[2])}return I.apply(K,U)}function Y0(I,K,U,ct){for(var At=-1,$t=I==null?0:I.length;++At<$t;){var we=I[At];K(ct,we,U(we),I)}return ct}function pn(I,K){for(var U=-1,ct=I==null?0:I.length;++U<ct&&K(I[U],U,I)!==!1;);return I}function K0(I,K){for(var U=I==null?0:I.length;U--&&K(I[U],U,I)!==!1;);return I}function Kf(I,K){for(var U=-1,ct=I==null?0:I.length;++U<ct;)if(!K(I[U],U,I))return!1;return!0}function vr(I,K){for(var U=-1,ct=I==null?0:I.length,At=0,$t=[];++U<ct;){var we=I[U];K(we,U,I)&&($t[At++]=we)}return $t}function Sa(I,K){var U=I==null?0:I.length;return!!U&&Oi(I,K,0)>-1}function xl(I,K,U){for(var ct=-1,At=I==null?0:I.length;++ct<At;)if(U(K,I[ct]))return!0;return!1}function le(I,K){for(var U=-1,ct=I==null?0:I.length,At=Array(ct);++U<ct;)At[U]=K(I[U],U,I);return At}function mr(I,K){for(var U=-1,ct=K.length,At=I.length;++U<ct;)I[At+U]=K[U];return I}function El(I,K,U,ct){var At=-1,$t=I==null?0:I.length;for(ct&&$t&&(U=I[++At]);++At<$t;)U=K(U,I[At],At,I);return U}function X0(I,K,U,ct){var At=I==null?0:I.length;for(ct&&At&&(U=I[--At]);At--;)U=K(U,I[At],At,I);return U}function Tl(I,K){for(var U=-1,ct=I==null?0:I.length;++U<ct;)if(K(I[U],U,I))return!0;return!1}var q0=Al("length");function V0(I){return I.split("")}function j0(I){return I.match(i0)||[]}function Xf(I,K,U){var ct;return U(I,function(At,$t,we){if(K(At,$t,we))return ct=$t,!1}),ct}function Ca(I,K,U,ct){for(var At=I.length,$t=U+(ct?1:-1);ct?$t--:++$t<At;)if(K(I[$t],$t,I))return $t;return-1}function Oi(I,K,U){return K===K?lm(I,K,U):Ca(I,qf,U)}function Q0(I,K,U,ct){for(var At=U-1,$t=I.length;++At<$t;)if(ct(I[At],K))return At;return-1}function qf(I){return I!==I}function Vf(I,K){var U=I==null?0:I.length;return U?Ol(I,K)/U:gt}function Al(I){return function(K){return K==null?e:K[I]}}function Pl(I){return function(K){return I==null?e:I[K]}}function jf(I,K,U,ct,At){return At(I,function($t,we,te){U=ct?(ct=!1,$t):K(U,$t,we,te)}),U}function J0(I,K){var U=I.length;for(I.sort(K);U--;)I[U]=I[U].value;return I}function Ol(I,K){for(var U,ct=-1,At=I.length;++ct<At;){var $t=K(I[ct]);$t!==e&&(U=U===e?$t:U+$t)}return U}function Rl(I,K){for(var U=-1,ct=Array(I);++U<I;)ct[U]=K(U);return ct}function Z0(I,K){return le(K,function(U){return[U,I[U]]})}function Qf(I){return I&&I.slice(0,ec(I)+1).replace(_l,"")}function en(I){return function(K){return I(K)}}function Ml(I,K){return le(K,function(U){return I[U]})}function gs(I,K){return I.has(K)}function Jf(I,K){for(var U=-1,ct=I.length;++U<ct&&Oi(K,I[U],0)>-1;);return U}function Zf(I,K){for(var U=I.length;U--&&Oi(K,I[U],0)>-1;);return U}function tm(I,K){for(var U=I.length,ct=0;U--;)I[U]===K&&++ct;return ct}var em=Pl(G0),nm=Pl(B0);function rm(I){return"\\"+U0[I]}function im(I,K){return I==null?e:I[K]}function Ri(I){return k0.test(I)}function sm(I){return D0.test(I)}function am(I){for(var K,U=[];!(K=I.next()).done;)U.push(K.value);return U}function Ll(I){var K=-1,U=Array(I.size);return I.forEach(function(ct,At){U[++K]=[At,ct]}),U}function tc(I,K){return function(U){return I(K(U))}}function yr(I,K){for(var U=-1,ct=I.length,At=0,$t=[];++U<ct;){var we=I[U];(we===K||we===g)&&(I[U]=g,$t[At++]=U)}return $t}function xa(I){var K=-1,U=Array(I.size);return I.forEach(function(ct){U[++K]=ct}),U}function om(I){var K=-1,U=Array(I.size);return I.forEach(function(ct){U[++K]=[ct,ct]}),U}function lm(I,K,U){for(var ct=U-1,At=I.length;++ct<At;)if(I[ct]===K)return ct;return-1}function um(I,K,U){for(var ct=U+1;ct--;)if(I[ct]===K)return ct;return ct}function Mi(I){return Ri(I)?fm(I):q0(I)}function Pn(I){return Ri(I)?cm(I):V0(I)}function ec(I){for(var K=I.length;K--&&t0.test(I.charAt(K)););return K}var hm=Pl(H0);function fm(I){for(var K=wl.lastIndex=0;wl.test(I);)++K;return K}function cm(I){return I.match(wl)||[]}function dm(I){return I.match(I0)||[]}var gm=function I(K){K=K==null?Oe:Li.defaults(Oe.Object(),K,Li.pick(Oe,F0));var U=K.Array,ct=K.Date,At=K.Error,$t=K.Function,we=K.Math,te=K.Object,Il=K.RegExp,pm=K.String,_n=K.TypeError,Ea=U.prototype,_m=$t.prototype,Ii=te.prototype,Ta=K["__core-js_shared__"],Aa=_m.toString,jt=Ii.hasOwnProperty,vm=0,nc=function(){var r=/[^.]+$/.exec(Ta&&Ta.keys&&Ta.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Pa=Ii.toString,mm=Aa.call(te),ym=Oe._,bm=Il("^"+Aa.call(jt).replace(pl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Oa=Bf?K.Buffer:e,br=K.Symbol,Ra=K.Uint8Array,rc=Oa?Oa.allocUnsafe:e,Ma=tc(te.getPrototypeOf,te),ic=te.create,sc=Ii.propertyIsEnumerable,La=Ea.splice,ac=br?br.isConcatSpreadable:e,ps=br?br.iterator:e,Yr=br?br.toStringTag:e,Ia=function(){try{var r=jr(te,"defineProperty");return r({},"",{}),r}catch{}}(),wm=K.clearTimeout!==Oe.clearTimeout&&K.clearTimeout,Sm=ct&&ct.now!==Oe.Date.now&&ct.now,Cm=K.setTimeout!==Oe.setTimeout&&K.setTimeout,ka=we.ceil,Da=we.floor,kl=te.getOwnPropertySymbols,xm=Oa?Oa.isBuffer:e,oc=K.isFinite,Em=Ea.join,Tm=tc(te.keys,te),Se=we.max,ke=we.min,Am=ct.now,Pm=K.parseInt,lc=we.random,Om=Ea.reverse,Dl=jr(K,"DataView"),_s=jr(K,"Map"),Fl=jr(K,"Promise"),ki=jr(K,"Set"),vs=jr(K,"WeakMap"),ms=jr(te,"create"),Fa=vs&&new vs,Di={},Rm=Qr(Dl),Mm=Qr(_s),Lm=Qr(Fl),Im=Qr(ki),km=Qr(vs),Na=br?br.prototype:e,ys=Na?Na.valueOf:e,uc=Na?Na.toString:e;function y(r){if(de(r)&&!Pt(r)&&!(r instanceof Nt)){if(r instanceof vn)return r;if(jt.call(r,"__wrapped__"))return hd(r)}return new vn(r)}var Fi=function(){function r(){}return function(a){if(!ue(a))return{};if(ic)return ic(a);r.prototype=a;var h=new r;return r.prototype=e,h}}();function Ga(){}function vn(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}y.templateSettings={escape:qv,evaluate:Vv,interpolate:mf,variable:"",imports:{_:y}},y.prototype=Ga.prototype,y.prototype.constructor=y,vn.prototype=Fi(Ga.prototype),vn.prototype.constructor=vn;function Nt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=St,this.__views__=[]}function Dm(){var r=new Nt(this.__wrapped__);return r.__actions__=Ye(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ye(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ye(this.__views__),r}function Fm(){if(this.__filtered__){var r=new Nt(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Nm(){var r=this.__wrapped__.value(),a=this.__dir__,h=Pt(r),d=a<0,_=h?r.length:0,w=V1(0,_,this.__views__),x=w.start,R=w.end,D=R-x,V=d?R:x-1,j=this.__iteratees__,tt=j.length,ut=0,mt=ke(D,this.__takeCount__);if(!h||!d&&_==D&&mt==D)return Ic(r,this.__actions__);var xt=[];t:for(;D--&&ut<mt;){V+=a;for(var Rt=-1,Et=r[V];++Rt<tt;){var Ft=j[Rt],Bt=Ft.iteratee,sn=Ft.type,Ue=Bt(Et);if(sn==ot)Et=Ue;else if(!Ue){if(sn==H)continue t;break t}}xt[ut++]=Et}return xt}Nt.prototype=Fi(Ga.prototype),Nt.prototype.constructor=Nt;function Kr(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var d=r[a];this.set(d[0],d[1])}}function Gm(){this.__data__=ms?ms(null):{},this.size=0}function Bm(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function Hm(r){var a=this.__data__;if(ms){var h=a[r];return h===f?e:h}return jt.call(a,r)?a[r]:e}function Um(r){var a=this.__data__;return ms?a[r]!==e:jt.call(a,r)}function Wm(r,a){var h=this.__data__;return this.size+=this.has(r)?0:1,h[r]=ms&&a===e?f:a,this}Kr.prototype.clear=Gm,Kr.prototype.delete=Bm,Kr.prototype.get=Hm,Kr.prototype.has=Um,Kr.prototype.set=Wm;function Vn(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var d=r[a];this.set(d[0],d[1])}}function zm(){this.__data__=[],this.size=0}function $m(r){var a=this.__data__,h=Ba(a,r);if(h<0)return!1;var d=a.length-1;return h==d?a.pop():La.call(a,h,1),--this.size,!0}function Ym(r){var a=this.__data__,h=Ba(a,r);return h<0?e:a[h][1]}function Km(r){return Ba(this.__data__,r)>-1}function Xm(r,a){var h=this.__data__,d=Ba(h,r);return d<0?(++this.size,h.push([r,a])):h[d][1]=a,this}Vn.prototype.clear=zm,Vn.prototype.delete=$m,Vn.prototype.get=Ym,Vn.prototype.has=Km,Vn.prototype.set=Xm;function jn(r){var a=-1,h=r==null?0:r.length;for(this.clear();++a<h;){var d=r[a];this.set(d[0],d[1])}}function qm(){this.size=0,this.__data__={hash:new Kr,map:new(_s||Vn),string:new Kr}}function Vm(r){var a=Qa(this,r).delete(r);return this.size-=a?1:0,a}function jm(r){return Qa(this,r).get(r)}function Qm(r){return Qa(this,r).has(r)}function Jm(r,a){var h=Qa(this,r),d=h.size;return h.set(r,a),this.size+=h.size==d?0:1,this}jn.prototype.clear=qm,jn.prototype.delete=Vm,jn.prototype.get=jm,jn.prototype.has=Qm,jn.prototype.set=Jm;function Xr(r){var a=-1,h=r==null?0:r.length;for(this.__data__=new jn;++a<h;)this.add(r[a])}function Zm(r){return this.__data__.set(r,f),this}function t1(r){return this.__data__.has(r)}Xr.prototype.add=Xr.prototype.push=Zm,Xr.prototype.has=t1;function On(r){var a=this.__data__=new Vn(r);this.size=a.size}function e1(){this.__data__=new Vn,this.size=0}function n1(r){var a=this.__data__,h=a.delete(r);return this.size=a.size,h}function r1(r){return this.__data__.get(r)}function i1(r){return this.__data__.has(r)}function s1(r,a){var h=this.__data__;if(h instanceof Vn){var d=h.__data__;if(!_s||d.length<s-1)return d.push([r,a]),this.size=++h.size,this;h=this.__data__=new jn(d)}return h.set(r,a),this.size=h.size,this}On.prototype.clear=e1,On.prototype.delete=n1,On.prototype.get=r1,On.prototype.has=i1,On.prototype.set=s1;function hc(r,a){var h=Pt(r),d=!h&&Jr(r),_=!h&&!d&&Er(r),w=!h&&!d&&!_&&Hi(r),x=h||d||_||w,R=x?Rl(r.length,pm):[],D=R.length;for(var V in r)(a||jt.call(r,V))&&!(x&&(V=="length"||_&&(V=="offset"||V=="parent")||w&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||tr(V,D)))&&R.push(V);return R}function fc(r){var a=r.length;return a?r[Xl(0,a-1)]:e}function a1(r,a){return Ja(Ye(r),qr(a,0,r.length))}function o1(r){return Ja(Ye(r))}function Nl(r,a,h){(h!==e&&!Rn(r[a],h)||h===e&&!(a in r))&&Qn(r,a,h)}function bs(r,a,h){var d=r[a];(!(jt.call(r,a)&&Rn(d,h))||h===e&&!(a in r))&&Qn(r,a,h)}function Ba(r,a){for(var h=r.length;h--;)if(Rn(r[h][0],a))return h;return-1}function l1(r,a,h,d){return wr(r,function(_,w,x){a(d,_,h(_),x)}),d}function cc(r,a){return r&&Un(a,Te(a),r)}function u1(r,a){return r&&Un(a,Xe(a),r)}function Qn(r,a,h){a=="__proto__"&&Ia?Ia(r,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):r[a]=h}function Gl(r,a){for(var h=-1,d=a.length,_=U(d),w=r==null;++h<d;)_[h]=w?e:mu(r,a[h]);return _}function qr(r,a,h){return r===r&&(h!==e&&(r=r<=h?r:h),a!==e&&(r=r>=a?r:a)),r}function mn(r,a,h,d,_,w){var x,R=a&p,D=a&v,V=a&b;if(h&&(x=_?h(r,d,_,w):h(r)),x!==e)return x;if(!ue(r))return r;var j=Pt(r);if(j){if(x=Q1(r),!R)return Ye(r,x)}else{var tt=De(r),ut=tt==O||tt==k;if(Er(r))return Fc(r,R);if(tt==rt||tt==Vt||ut&&!_){if(x=D||ut?{}:ed(r),!R)return D?H1(r,u1(x,r)):B1(r,cc(x,r))}else{if(!ie[tt])return _?r:{};x=J1(r,tt,R)}}w||(w=new On);var mt=w.get(r);if(mt)return mt;w.set(r,x),Rd(r)?r.forEach(function(Et){x.add(mn(Et,a,h,Et,r,w))}):Pd(r)&&r.forEach(function(Et,Ft){x.set(Ft,mn(Et,a,h,Ft,r,w))});var xt=V?D?iu:ru:D?Xe:Te,Rt=j?e:xt(r);return pn(Rt||r,function(Et,Ft){Rt&&(Ft=Et,Et=r[Ft]),bs(x,Ft,mn(Et,a,h,Ft,r,w))}),x}function h1(r){var a=Te(r);return function(h){return dc(h,r,a)}}function dc(r,a,h){var d=h.length;if(r==null)return!d;for(r=te(r);d--;){var _=h[d],w=a[_],x=r[_];if(x===e&&!(_ in r)||!w(x))return!1}return!0}function gc(r,a,h){if(typeof r!="function")throw new _n(l);return As(function(){r.apply(e,h)},a)}function ws(r,a,h,d){var _=-1,w=Sa,x=!0,R=r.length,D=[],V=a.length;if(!R)return D;h&&(a=le(a,en(h))),d?(w=xl,x=!1):a.length>=s&&(w=gs,x=!1,a=new Xr(a));t:for(;++_<R;){var j=r[_],tt=h==null?j:h(j);if(j=d||j!==0?j:0,x&&tt===tt){for(var ut=V;ut--;)if(a[ut]===tt)continue t;D.push(j)}else w(a,tt,d)||D.push(j)}return D}var wr=Uc(Hn),pc=Uc(Hl,!0);function f1(r,a){var h=!0;return wr(r,function(d,_,w){return h=!!a(d,_,w),h}),h}function Ha(r,a,h){for(var d=-1,_=r.length;++d<_;){var w=r[d],x=a(w);if(x!=null&&(R===e?x===x&&!rn(x):h(x,R)))var R=x,D=w}return D}function c1(r,a,h,d){var _=r.length;for(h=Ot(h),h<0&&(h=-h>_?0:_+h),d=d===e||d>_?_:Ot(d),d<0&&(d+=_),d=h>d?0:Ld(d);h<d;)r[h++]=a;return r}function _c(r,a){var h=[];return wr(r,function(d,_,w){a(d,_,w)&&h.push(d)}),h}function Re(r,a,h,d,_){var w=-1,x=r.length;for(h||(h=ty),_||(_=[]);++w<x;){var R=r[w];a>0&&h(R)?a>1?Re(R,a-1,h,d,_):mr(_,R):d||(_[_.length]=R)}return _}var Bl=Wc(),vc=Wc(!0);function Hn(r,a){return r&&Bl(r,a,Te)}function Hl(r,a){return r&&vc(r,a,Te)}function Ua(r,a){return vr(a,function(h){return er(r[h])})}function Vr(r,a){a=Cr(a,r);for(var h=0,d=a.length;r!=null&&h<d;)r=r[Wn(a[h++])];return h&&h==d?r:e}function mc(r,a,h){var d=a(r);return Pt(r)?d:mr(d,h(r))}function Be(r){return r==null?r===e?bt:Z:Yr&&Yr in te(r)?q1(r):oy(r)}function Ul(r,a){return r>a}function d1(r,a){return r!=null&&jt.call(r,a)}function g1(r,a){return r!=null&&a in te(r)}function p1(r,a,h){return r>=ke(a,h)&&r<Se(a,h)}function Wl(r,a,h){for(var d=h?xl:Sa,_=r[0].length,w=r.length,x=w,R=U(w),D=1/0,V=[];x--;){var j=r[x];x&&a&&(j=le(j,en(a))),D=ke(j.length,D),R[x]=!h&&(a||_>=120&&j.length>=120)?new Xr(x&&j):e}j=r[0];var tt=-1,ut=R[0];t:for(;++tt<_&&V.length<D;){var mt=j[tt],xt=a?a(mt):mt;if(mt=h||mt!==0?mt:0,!(ut?gs(ut,xt):d(V,xt,h))){for(x=w;--x;){var Rt=R[x];if(!(Rt?gs(Rt,xt):d(r[x],xt,h)))continue t}ut&&ut.push(xt),V.push(mt)}}return V}function _1(r,a,h,d){return Hn(r,function(_,w,x){a(d,h(_),w,x)}),d}function Ss(r,a,h){a=Cr(a,r),r=sd(r,a);var d=r==null?r:r[Wn(bn(a))];return d==null?e:tn(d,r,h)}function yc(r){return de(r)&&Be(r)==Vt}function v1(r){return de(r)&&Be(r)==Wt}function m1(r){return de(r)&&Be(r)==Ie}function Cs(r,a,h,d,_){return r===a?!0:r==null||a==null||!de(r)&&!de(a)?r!==r&&a!==a:y1(r,a,h,d,Cs,_)}function y1(r,a,h,d,_,w){var x=Pt(r),R=Pt(a),D=x?Zt:De(r),V=R?Zt:De(a);D=D==Vt?rt:D,V=V==Vt?rt:V;var j=D==rt,tt=V==rt,ut=D==V;if(ut&&Er(r)){if(!Er(a))return!1;x=!0,j=!1}if(ut&&!j)return w||(w=new On),x||Hi(r)?Jc(r,a,h,d,_,w):K1(r,a,D,h,d,_,w);if(!(h&m)){var mt=j&&jt.call(r,"__wrapped__"),xt=tt&&jt.call(a,"__wrapped__");if(mt||xt){var Rt=mt?r.value():r,Et=xt?a.value():a;return w||(w=new On),_(Rt,Et,h,d,w)}}return ut?(w||(w=new On),X1(r,a,h,d,_,w)):!1}function b1(r){return de(r)&&De(r)==z}function zl(r,a,h,d){var _=h.length,w=_,x=!d;if(r==null)return!w;for(r=te(r);_--;){var R=h[_];if(x&&R[2]?R[1]!==r[R[0]]:!(R[0]in r))return!1}for(;++_<w;){R=h[_];var D=R[0],V=r[D],j=R[1];if(x&&R[2]){if(V===e&&!(D in r))return!1}else{var tt=new On;if(d)var ut=d(V,j,D,r,a,tt);if(!(ut===e?Cs(j,V,m|P,d,tt):ut))return!1}}return!0}function bc(r){if(!ue(r)||ny(r))return!1;var a=er(r)?bm:h0;return a.test(Qr(r))}function w1(r){return de(r)&&Be(r)==lt}function S1(r){return de(r)&&De(r)==J}function C1(r){return de(r)&&io(r.length)&&!!se[Be(r)]}function wc(r){return typeof r=="function"?r:r==null?qe:typeof r=="object"?Pt(r)?xc(r[0],r[1]):Cc(r):zd(r)}function $l(r){if(!Ts(r))return Tm(r);var a=[];for(var h in te(r))jt.call(r,h)&&h!="constructor"&&a.push(h);return a}function x1(r){if(!ue(r))return ay(r);var a=Ts(r),h=[];for(var d in r)d=="constructor"&&(a||!jt.call(r,d))||h.push(d);return h}function Yl(r,a){return r<a}function Sc(r,a){var h=-1,d=Ke(r)?U(r.length):[];return wr(r,function(_,w,x){d[++h]=a(_,w,x)}),d}function Cc(r){var a=au(r);return a.length==1&&a[0][2]?rd(a[0][0],a[0][1]):function(h){return h===r||zl(h,r,a)}}function xc(r,a){return lu(r)&&nd(a)?rd(Wn(r),a):function(h){var d=mu(h,r);return d===e&&d===a?yu(h,r):Cs(a,d,m|P)}}function Wa(r,a,h,d,_){r!==a&&Bl(a,function(w,x){if(_||(_=new On),ue(w))E1(r,a,x,h,Wa,d,_);else{var R=d?d(hu(r,x),w,x+"",r,a,_):e;R===e&&(R=w),Nl(r,x,R)}},Xe)}function E1(r,a,h,d,_,w,x){var R=hu(r,h),D=hu(a,h),V=x.get(D);if(V){Nl(r,h,V);return}var j=w?w(R,D,h+"",r,a,x):e,tt=j===e;if(tt){var ut=Pt(D),mt=!ut&&Er(D),xt=!ut&&!mt&&Hi(D);j=D,ut||mt||xt?Pt(R)?j=R:pe(R)?j=Ye(R):mt?(tt=!1,j=Fc(D,!0)):xt?(tt=!1,j=Nc(D,!0)):j=[]:Ps(D)||Jr(D)?(j=R,Jr(R)?j=Id(R):(!ue(R)||er(R))&&(j=ed(D))):tt=!1}tt&&(x.set(D,j),_(j,D,d,w,x),x.delete(D)),Nl(r,h,j)}function Ec(r,a){var h=r.length;if(!!h)return a+=a<0?h:0,tr(a,h)?r[a]:e}function Tc(r,a,h){a.length?a=le(a,function(w){return Pt(w)?function(x){return Vr(x,w.length===1?w[0]:w)}:w}):a=[qe];var d=-1;a=le(a,en(wt()));var _=Sc(r,function(w,x,R){var D=le(a,function(V){return V(w)});return{criteria:D,index:++d,value:w}});return J0(_,function(w,x){return G1(w,x,h)})}function T1(r,a){return Ac(r,a,function(h,d){return yu(r,d)})}function Ac(r,a,h){for(var d=-1,_=a.length,w={};++d<_;){var x=a[d],R=Vr(r,x);h(R,x)&&xs(w,Cr(x,r),R)}return w}function A1(r){return function(a){return Vr(a,r)}}function Kl(r,a,h,d){var _=d?Q0:Oi,w=-1,x=a.length,R=r;for(r===a&&(a=Ye(a)),h&&(R=le(r,en(h)));++w<x;)for(var D=0,V=a[w],j=h?h(V):V;(D=_(R,j,D,d))>-1;)R!==r&&La.call(R,D,1),La.call(r,D,1);return r}function Pc(r,a){for(var h=r?a.length:0,d=h-1;h--;){var _=a[h];if(h==d||_!==w){var w=_;tr(_)?La.call(r,_,1):jl(r,_)}}return r}function Xl(r,a){return r+Da(lc()*(a-r+1))}function P1(r,a,h,d){for(var _=-1,w=Se(ka((a-r)/(h||1)),0),x=U(w);w--;)x[d?w:++_]=r,r+=h;return x}function ql(r,a){var h="";if(!r||a<1||a>dt)return h;do a%2&&(h+=r),a=Da(a/2),a&&(r+=r);while(a);return h}function Lt(r,a){return fu(id(r,a,qe),r+"")}function O1(r){return fc(Ui(r))}function R1(r,a){var h=Ui(r);return Ja(h,qr(a,0,h.length))}function xs(r,a,h,d){if(!ue(r))return r;a=Cr(a,r);for(var _=-1,w=a.length,x=w-1,R=r;R!=null&&++_<w;){var D=Wn(a[_]),V=h;if(D==="__proto__"||D==="constructor"||D==="prototype")return r;if(_!=x){var j=R[D];V=d?d(j,D,R):e,V===e&&(V=ue(j)?j:tr(a[_+1])?[]:{})}bs(R,D,V),R=R[D]}return r}var Oc=Fa?function(r,a){return Fa.set(r,a),r}:qe,M1=Ia?function(r,a){return Ia(r,"toString",{configurable:!0,enumerable:!1,value:wu(a),writable:!0})}:qe;function L1(r){return Ja(Ui(r))}function yn(r,a,h){var d=-1,_=r.length;a<0&&(a=-a>_?0:_+a),h=h>_?_:h,h<0&&(h+=_),_=a>h?0:h-a>>>0,a>>>=0;for(var w=U(_);++d<_;)w[d]=r[d+a];return w}function I1(r,a){var h;return wr(r,function(d,_,w){return h=a(d,_,w),!h}),!!h}function za(r,a,h){var d=0,_=r==null?d:r.length;if(typeof a=="number"&&a===a&&_<=Yt){for(;d<_;){var w=d+_>>>1,x=r[w];x!==null&&!rn(x)&&(h?x<=a:x<a)?d=w+1:_=w}return _}return Vl(r,a,qe,h)}function Vl(r,a,h,d){var _=0,w=r==null?0:r.length;if(w===0)return 0;a=h(a);for(var x=a!==a,R=a===null,D=rn(a),V=a===e;_<w;){var j=Da((_+w)/2),tt=h(r[j]),ut=tt!==e,mt=tt===null,xt=tt===tt,Rt=rn(tt);if(x)var Et=d||xt;else V?Et=xt&&(d||ut):R?Et=xt&&ut&&(d||!mt):D?Et=xt&&ut&&!mt&&(d||!Rt):mt||Rt?Et=!1:Et=d?tt<=a:tt<a;Et?_=j+1:w=j}return ke(w,Dt)}function Rc(r,a){for(var h=-1,d=r.length,_=0,w=[];++h<d;){var x=r[h],R=a?a(x):x;if(!h||!Rn(R,D)){var D=R;w[_++]=x===0?0:x}}return w}function Mc(r){return typeof r=="number"?r:rn(r)?gt:+r}function nn(r){if(typeof r=="string")return r;if(Pt(r))return le(r,nn)+"";if(rn(r))return uc?uc.call(r):"";var a=r+"";return a=="0"&&1/r==-ft?"-0":a}function Sr(r,a,h){var d=-1,_=Sa,w=r.length,x=!0,R=[],D=R;if(h)x=!1,_=xl;else if(w>=s){var V=a?null:$1(r);if(V)return xa(V);x=!1,_=gs,D=new Xr}else D=a?[]:R;t:for(;++d<w;){var j=r[d],tt=a?a(j):j;if(j=h||j!==0?j:0,x&&tt===tt){for(var ut=D.length;ut--;)if(D[ut]===tt)continue t;a&&D.push(tt),R.push(j)}else _(D,tt,h)||(D!==R&&D.push(tt),R.push(j))}return R}function jl(r,a){return a=Cr(a,r),r=sd(r,a),r==null||delete r[Wn(bn(a))]}function Lc(r,a,h,d){return xs(r,a,h(Vr(r,a)),d)}function $a(r,a,h,d){for(var _=r.length,w=d?_:-1;(d?w--:++w<_)&&a(r[w],w,r););return h?yn(r,d?0:w,d?w+1:_):yn(r,d?w+1:0,d?_:w)}function Ic(r,a){var h=r;return h instanceof Nt&&(h=h.value()),El(a,function(d,_){return _.func.apply(_.thisArg,mr([d],_.args))},h)}function Ql(r,a,h){var d=r.length;if(d<2)return d?Sr(r[0]):[];for(var _=-1,w=U(d);++_<d;)for(var x=r[_],R=-1;++R<d;)R!=_&&(w[_]=ws(w[_]||x,r[R],a,h));return Sr(Re(w,1),a,h)}function kc(r,a,h){for(var d=-1,_=r.length,w=a.length,x={};++d<_;){var R=d<w?a[d]:e;h(x,r[d],R)}return x}function Jl(r){return pe(r)?r:[]}function Zl(r){return typeof r=="function"?r:qe}function Cr(r,a){return Pt(r)?r:lu(r,a)?[r]:ud(Kt(r))}var k1=Lt;function xr(r,a,h){var d=r.length;return h=h===e?d:h,!a&&h>=d?r:yn(r,a,h)}var Dc=wm||function(r){return Oe.clearTimeout(r)};function Fc(r,a){if(a)return r.slice();var h=r.length,d=rc?rc(h):new r.constructor(h);return r.copy(d),d}function tu(r){var a=new r.constructor(r.byteLength);return new Ra(a).set(new Ra(r)),a}function D1(r,a){var h=a?tu(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.byteLength)}function F1(r){var a=new r.constructor(r.source,yf.exec(r));return a.lastIndex=r.lastIndex,a}function N1(r){return ys?te(ys.call(r)):{}}function Nc(r,a){var h=a?tu(r.buffer):r.buffer;return new r.constructor(h,r.byteOffset,r.length)}function Gc(r,a){if(r!==a){var h=r!==e,d=r===null,_=r===r,w=rn(r),x=a!==e,R=a===null,D=a===a,V=rn(a);if(!R&&!V&&!w&&r>a||w&&x&&D&&!R&&!V||d&&x&&D||!h&&D||!_)return 1;if(!d&&!w&&!V&&r<a||V&&h&&_&&!d&&!w||R&&h&&_||!x&&_||!D)return-1}return 0}function G1(r,a,h){for(var d=-1,_=r.criteria,w=a.criteria,x=_.length,R=h.length;++d<x;){var D=Gc(_[d],w[d]);if(D){if(d>=R)return D;var V=h[d];return D*(V=="desc"?-1:1)}}return r.index-a.index}function Bc(r,a,h,d){for(var _=-1,w=r.length,x=h.length,R=-1,D=a.length,V=Se(w-x,0),j=U(D+V),tt=!d;++R<D;)j[R]=a[R];for(;++_<x;)(tt||_<w)&&(j[h[_]]=r[_]);for(;V--;)j[R++]=r[_++];return j}function Hc(r,a,h,d){for(var _=-1,w=r.length,x=-1,R=h.length,D=-1,V=a.length,j=Se(w-R,0),tt=U(j+V),ut=!d;++_<j;)tt[_]=r[_];for(var mt=_;++D<V;)tt[mt+D]=a[D];for(;++x<R;)(ut||_<w)&&(tt[mt+h[x]]=r[_++]);return tt}function Ye(r,a){var h=-1,d=r.length;for(a||(a=U(d));++h<d;)a[h]=r[h];return a}function Un(r,a,h,d){var _=!h;h||(h={});for(var w=-1,x=a.length;++w<x;){var R=a[w],D=d?d(h[R],r[R],R,h,r):e;D===e&&(D=r[R]),_?Qn(h,R,D):bs(h,R,D)}return h}function B1(r,a){return Un(r,ou(r),a)}function H1(r,a){return Un(r,Zc(r),a)}function Ya(r,a){return function(h,d){var _=Pt(h)?Y0:l1,w=a?a():{};return _(h,r,wt(d,2),w)}}function Ni(r){return Lt(function(a,h){var d=-1,_=h.length,w=_>1?h[_-1]:e,x=_>2?h[2]:e;for(w=r.length>3&&typeof w=="function"?(_--,w):e,x&&He(h[0],h[1],x)&&(w=_<3?e:w,_=1),a=te(a);++d<_;){var R=h[d];R&&r(a,R,d,w)}return a})}function Uc(r,a){return function(h,d){if(h==null)return h;if(!Ke(h))return r(h,d);for(var _=h.length,w=a?_:-1,x=te(h);(a?w--:++w<_)&&d(x[w],w,x)!==!1;);return h}}function Wc(r){return function(a,h,d){for(var _=-1,w=te(a),x=d(a),R=x.length;R--;){var D=x[r?R:++_];if(h(w[D],D,w)===!1)break}return a}}function U1(r,a,h){var d=a&A,_=Es(r);function w(){var x=this&&this!==Oe&&this instanceof w?_:r;return x.apply(d?h:this,arguments)}return w}function zc(r){return function(a){a=Kt(a);var h=Ri(a)?Pn(a):e,d=h?h[0]:a.charAt(0),_=h?xr(h,1).join(""):a.slice(1);return d[r]()+_}}function Gi(r){return function(a){return El(Ud(Hd(a).replace(M0,"")),r,"")}}function Es(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=Fi(r.prototype),d=r.apply(h,a);return ue(d)?d:h}}function W1(r,a,h){var d=Es(r);function _(){for(var w=arguments.length,x=U(w),R=w,D=Bi(_);R--;)x[R]=arguments[R];var V=w<3&&x[0]!==D&&x[w-1]!==D?[]:yr(x,D);if(w-=V.length,w<h)return qc(r,a,Ka,_.placeholder,e,x,V,e,e,h-w);var j=this&&this!==Oe&&this instanceof _?d:r;return tn(j,this,x)}return _}function $c(r){return function(a,h,d){var _=te(a);if(!Ke(a)){var w=wt(h,3);a=Te(a),h=function(R){return w(_[R],R,_)}}var x=r(a,h,d);return x>-1?_[w?a[x]:x]:e}}function Yc(r){return Zn(function(a){var h=a.length,d=h,_=vn.prototype.thru;for(r&&a.reverse();d--;){var w=a[d];if(typeof w!="function")throw new _n(l);if(_&&!x&&ja(w)=="wrapper")var x=new vn([],!0)}for(d=x?d:h;++d<h;){w=a[d];var R=ja(w),D=R=="wrapper"?su(w):e;D&&uu(D[0])&&D[1]==($|C|B|L)&&!D[4].length&&D[9]==1?x=x[ja(D[0])].apply(x,D[3]):x=w.length==1&&uu(w)?x[R]():x.thru(w)}return function(){var V=arguments,j=V[0];if(x&&V.length==1&&Pt(j))return x.plant(j).value();for(var tt=0,ut=h?a[tt].apply(this,V):j;++tt<h;)ut=a[tt].call(this,ut);return ut}})}function Ka(r,a,h,d,_,w,x,R,D,V){var j=a&$,tt=a&A,ut=a&T,mt=a&(C|M),xt=a&W,Rt=ut?e:Es(r);function Et(){for(var Ft=arguments.length,Bt=U(Ft),sn=Ft;sn--;)Bt[sn]=arguments[sn];if(mt)var Ue=Bi(Et),an=tm(Bt,Ue);if(d&&(Bt=Bc(Bt,d,_,mt)),w&&(Bt=Hc(Bt,w,x,mt)),Ft-=an,mt&&Ft<V){var _e=yr(Bt,Ue);return qc(r,a,Ka,Et.placeholder,h,Bt,_e,R,D,V-Ft)}var Mn=tt?h:this,rr=ut?Mn[r]:r;return Ft=Bt.length,R?Bt=ly(Bt,R):xt&&Ft>1&&Bt.reverse(),j&&D<Ft&&(Bt.length=D),this&&this!==Oe&&this instanceof Et&&(rr=Rt||Es(rr)),rr.apply(Mn,Bt)}return Et}function Kc(r,a){return function(h,d){return _1(h,r,a(d),{})}}function Xa(r,a){return function(h,d){var _;if(h===e&&d===e)return a;if(h!==e&&(_=h),d!==e){if(_===e)return d;typeof h=="string"||typeof d=="string"?(h=nn(h),d=nn(d)):(h=Mc(h),d=Mc(d)),_=r(h,d)}return _}}function eu(r){return Zn(function(a){return a=le(a,en(wt())),Lt(function(h){var d=this;return r(a,function(_){return tn(_,d,h)})})})}function qa(r,a){a=a===e?" ":nn(a);var h=a.length;if(h<2)return h?ql(a,r):a;var d=ql(a,ka(r/Mi(a)));return Ri(a)?xr(Pn(d),0,r).join(""):d.slice(0,r)}function z1(r,a,h,d){var _=a&A,w=Es(r);function x(){for(var R=-1,D=arguments.length,V=-1,j=d.length,tt=U(j+D),ut=this&&this!==Oe&&this instanceof x?w:r;++V<j;)tt[V]=d[V];for(;D--;)tt[V++]=arguments[++R];return tn(ut,_?h:this,tt)}return x}function Xc(r){return function(a,h,d){return d&&typeof d!="number"&&He(a,h,d)&&(h=d=e),a=nr(a),h===e?(h=a,a=0):h=nr(h),d=d===e?a<h?1:-1:nr(d),P1(a,h,d,r)}}function Va(r){return function(a,h){return typeof a=="string"&&typeof h=="string"||(a=wn(a),h=wn(h)),r(a,h)}}function qc(r,a,h,d,_,w,x,R,D,V){var j=a&C,tt=j?x:e,ut=j?e:x,mt=j?w:e,xt=j?e:w;a|=j?B:N,a&=~(j?N:B),a&S||(a&=~(A|T));var Rt=[r,a,_,mt,tt,xt,ut,R,D,V],Et=h.apply(e,Rt);return uu(r)&&ad(Et,Rt),Et.placeholder=d,od(Et,r,a)}function nu(r){var a=we[r];return function(h,d){if(h=wn(h),d=d==null?0:ke(Ot(d),292),d&&oc(h)){var _=(Kt(h)+"e").split("e"),w=a(_[0]+"e"+(+_[1]+d));return _=(Kt(w)+"e").split("e"),+(_[0]+"e"+(+_[1]-d))}return a(h)}}var $1=ki&&1/xa(new ki([,-0]))[1]==ft?function(r){return new ki(r)}:xu;function Vc(r){return function(a){var h=De(a);return h==z?Ll(a):h==J?om(a):Z0(a,r(a))}}function Jn(r,a,h,d,_,w,x,R){var D=a&T;if(!D&&typeof r!="function")throw new _n(l);var V=d?d.length:0;if(V||(a&=~(B|N),d=_=e),x=x===e?x:Se(Ot(x),0),R=R===e?R:Ot(R),V-=_?_.length:0,a&N){var j=d,tt=_;d=_=e}var ut=D?e:su(r),mt=[r,a,h,d,_,j,tt,w,x,R];if(ut&&sy(mt,ut),r=mt[0],a=mt[1],h=mt[2],d=mt[3],_=mt[4],R=mt[9]=mt[9]===e?D?0:r.length:Se(mt[9]-V,0),!R&&a&(C|M)&&(a&=~(C|M)),!a||a==A)var xt=U1(r,a,h);else a==C||a==M?xt=W1(r,a,R):(a==B||a==(A|B))&&!_.length?xt=z1(r,a,h,d):xt=Ka.apply(e,mt);var Rt=ut?Oc:ad;return od(Rt(xt,mt),r,a)}function jc(r,a,h,d){return r===e||Rn(r,Ii[h])&&!jt.call(d,h)?a:r}function Qc(r,a,h,d,_,w){return ue(r)&&ue(a)&&(w.set(a,r),Wa(r,a,e,Qc,w),w.delete(a)),r}function Y1(r){return Ps(r)?e:r}function Jc(r,a,h,d,_,w){var x=h&m,R=r.length,D=a.length;if(R!=D&&!(x&&D>R))return!1;var V=w.get(r),j=w.get(a);if(V&&j)return V==a&&j==r;var tt=-1,ut=!0,mt=h&P?new Xr:e;for(w.set(r,a),w.set(a,r);++tt<R;){var xt=r[tt],Rt=a[tt];if(d)var Et=x?d(Rt,xt,tt,a,r,w):d(xt,Rt,tt,r,a,w);if(Et!==e){if(Et)continue;ut=!1;break}if(mt){if(!Tl(a,function(Ft,Bt){if(!gs(mt,Bt)&&(xt===Ft||_(xt,Ft,h,d,w)))return mt.push(Bt)})){ut=!1;break}}else if(!(xt===Rt||_(xt,Rt,h,d,w))){ut=!1;break}}return w.delete(r),w.delete(a),ut}function K1(r,a,h,d,_,w,x){switch(h){case Gt:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case Wt:return!(r.byteLength!=a.byteLength||!w(new Ra(r),new Ra(a)));case ae:case Ie:case Q:return Rn(+r,+a);case An:return r.name==a.name&&r.message==a.message;case lt:case yt:return r==a+"";case z:var R=Ll;case J:var D=d&m;if(R||(R=xa),r.size!=a.size&&!D)return!1;var V=x.get(r);if(V)return V==a;d|=P,x.set(r,a);var j=Jc(R(r),R(a),d,_,w,x);return x.delete(r),j;case pt:if(ys)return ys.call(r)==ys.call(a)}return!1}function X1(r,a,h,d,_,w){var x=h&m,R=ru(r),D=R.length,V=ru(a),j=V.length;if(D!=j&&!x)return!1;for(var tt=D;tt--;){var ut=R[tt];if(!(x?ut in a:jt.call(a,ut)))return!1}var mt=w.get(r),xt=w.get(a);if(mt&&xt)return mt==a&&xt==r;var Rt=!0;w.set(r,a),w.set(a,r);for(var Et=x;++tt<D;){ut=R[tt];var Ft=r[ut],Bt=a[ut];if(d)var sn=x?d(Bt,Ft,ut,a,r,w):d(Ft,Bt,ut,r,a,w);if(!(sn===e?Ft===Bt||_(Ft,Bt,h,d,w):sn)){Rt=!1;break}Et||(Et=ut=="constructor")}if(Rt&&!Et){var Ue=r.constructor,an=a.constructor;Ue!=an&&"constructor"in r&&"constructor"in a&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof an=="function"&&an instanceof an)&&(Rt=!1)}return w.delete(r),w.delete(a),Rt}function Zn(r){return fu(id(r,e,dd),r+"")}function ru(r){return mc(r,Te,ou)}function iu(r){return mc(r,Xe,Zc)}var su=Fa?function(r){return Fa.get(r)}:xu;function ja(r){for(var a=r.name+"",h=Di[a],d=jt.call(Di,a)?h.length:0;d--;){var _=h[d],w=_.func;if(w==null||w==r)return _.name}return a}function Bi(r){var a=jt.call(y,"placeholder")?y:r;return a.placeholder}function wt(){var r=y.iteratee||Su;return r=r===Su?wc:r,arguments.length?r(arguments[0],arguments[1]):r}function Qa(r,a){var h=r.__data__;return ey(a)?h[typeof a=="string"?"string":"hash"]:h.map}function au(r){for(var a=Te(r),h=a.length;h--;){var d=a[h],_=r[d];a[h]=[d,_,nd(_)]}return a}function jr(r,a){var h=im(r,a);return bc(h)?h:e}function q1(r){var a=jt.call(r,Yr),h=r[Yr];try{r[Yr]=e;var d=!0}catch{}var _=Pa.call(r);return d&&(a?r[Yr]=h:delete r[Yr]),_}var ou=kl?function(r){return r==null?[]:(r=te(r),vr(kl(r),function(a){return sc.call(r,a)}))}:Eu,Zc=kl?function(r){for(var a=[];r;)mr(a,ou(r)),r=Ma(r);return a}:Eu,De=Be;(Dl&&De(new Dl(new ArrayBuffer(1)))!=Gt||_s&&De(new _s)!=z||Fl&&De(Fl.resolve())!=ht||ki&&De(new ki)!=J||vs&&De(new vs)!=Ct)&&(De=function(r){var a=Be(r),h=a==rt?r.constructor:e,d=h?Qr(h):"";if(d)switch(d){case Rm:return Gt;case Mm:return z;case Lm:return ht;case Im:return J;case km:return Ct}return a});function V1(r,a,h){for(var d=-1,_=h.length;++d<_;){var w=h[d],x=w.size;switch(w.type){case"drop":r+=x;break;case"dropRight":a-=x;break;case"take":a=ke(a,r+x);break;case"takeRight":r=Se(r,a-x);break}}return{start:r,end:a}}function j1(r){var a=r.match(n0);return a?a[1].split(r0):[]}function td(r,a,h){a=Cr(a,r);for(var d=-1,_=a.length,w=!1;++d<_;){var x=Wn(a[d]);if(!(w=r!=null&&h(r,x)))break;r=r[x]}return w||++d!=_?w:(_=r==null?0:r.length,!!_&&io(_)&&tr(x,_)&&(Pt(r)||Jr(r)))}function Q1(r){var a=r.length,h=new r.constructor(a);return a&&typeof r[0]=="string"&&jt.call(r,"index")&&(h.index=r.index,h.input=r.input),h}function ed(r){return typeof r.constructor=="function"&&!Ts(r)?Fi(Ma(r)):{}}function J1(r,a,h){var d=r.constructor;switch(a){case Wt:return tu(r);case ae:case Ie:return new d(+r);case Gt:return D1(r,h);case oe:case Ge:case Bn:case Ei:case qn:case Ti:case Pe:case $e:case Ai:return Nc(r,h);case z:return new d;case Q:case yt:return new d(r);case lt:return F1(r);case J:return new d;case pt:return N1(r)}}function Z1(r,a){var h=a.length;if(!h)return r;var d=h-1;return a[d]=(h>1?"& ":"")+a[d],a=a.join(h>2?", ":" "),r.replace(e0,`{
/* [wrapped with `+a+`] */
`)}function ty(r){return Pt(r)||Jr(r)||!!(ac&&r&&r[ac])}function tr(r,a){var h=typeof r;return a=a==null?dt:a,!!a&&(h=="number"||h!="symbol"&&c0.test(r))&&r>-1&&r%1==0&&r<a}function He(r,a,h){if(!ue(h))return!1;var d=typeof a;return(d=="number"?Ke(h)&&tr(a,h.length):d=="string"&&a in h)?Rn(h[a],r):!1}function lu(r,a){if(Pt(r))return!1;var h=typeof r;return h=="number"||h=="symbol"||h=="boolean"||r==null||rn(r)?!0:Qv.test(r)||!jv.test(r)||a!=null&&r in te(a)}function ey(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function uu(r){var a=ja(r),h=y[a];if(typeof h!="function"||!(a in Nt.prototype))return!1;if(r===h)return!0;var d=su(h);return!!d&&r===d[0]}function ny(r){return!!nc&&nc in r}var ry=Ta?er:Tu;function Ts(r){var a=r&&r.constructor,h=typeof a=="function"&&a.prototype||Ii;return r===h}function nd(r){return r===r&&!ue(r)}function rd(r,a){return function(h){return h==null?!1:h[r]===a&&(a!==e||r in te(h))}}function iy(r){var a=no(r,function(d){return h.size===c&&h.clear(),d}),h=a.cache;return a}function sy(r,a){var h=r[1],d=a[1],_=h|d,w=_<(A|T|$),x=d==$&&h==C||d==$&&h==L&&r[7].length<=a[8]||d==($|L)&&a[7].length<=a[8]&&h==C;if(!(w||x))return r;d&A&&(r[2]=a[2],_|=h&A?0:S);var R=a[3];if(R){var D=r[3];r[3]=D?Bc(D,R,a[4]):R,r[4]=D?yr(r[3],g):a[4]}return R=a[5],R&&(D=r[5],r[5]=D?Hc(D,R,a[6]):R,r[6]=D?yr(r[5],g):a[6]),R=a[7],R&&(r[7]=R),d&$&&(r[8]=r[8]==null?a[8]:ke(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=_,r}function ay(r){var a=[];if(r!=null)for(var h in te(r))a.push(h);return a}function oy(r){return Pa.call(r)}function id(r,a,h){return a=Se(a===e?r.length-1:a,0),function(){for(var d=arguments,_=-1,w=Se(d.length-a,0),x=U(w);++_<w;)x[_]=d[a+_];_=-1;for(var R=U(a+1);++_<a;)R[_]=d[_];return R[a]=h(x),tn(r,this,R)}}function sd(r,a){return a.length<2?r:Vr(r,yn(a,0,-1))}function ly(r,a){for(var h=r.length,d=ke(a.length,h),_=Ye(r);d--;){var w=a[d];r[d]=tr(w,h)?_[w]:e}return r}function hu(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var ad=ld(Oc),As=Cm||function(r,a){return Oe.setTimeout(r,a)},fu=ld(M1);function od(r,a,h){var d=a+"";return fu(r,Z1(d,uy(j1(d),h)))}function ld(r){var a=0,h=0;return function(){var d=Am(),_=G-(d-h);if(h=d,_>0){if(++a>=q)return arguments[0]}else a=0;return r.apply(e,arguments)}}function Ja(r,a){var h=-1,d=r.length,_=d-1;for(a=a===e?d:a;++h<a;){var w=Xl(h,_),x=r[w];r[w]=r[h],r[h]=x}return r.length=a,r}var ud=iy(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(Jv,function(h,d,_,w){a.push(_?w.replace(a0,"$1"):d||h)}),a});function Wn(r){if(typeof r=="string"||rn(r))return r;var a=r+"";return a=="0"&&1/r==-ft?"-0":a}function Qr(r){if(r!=null){try{return Aa.call(r)}catch{}try{return r+""}catch{}}return""}function uy(r,a){return pn(Ee,function(h){var d="_."+h[0];a&h[1]&&!Sa(r,d)&&r.push(d)}),r.sort()}function hd(r){if(r instanceof Nt)return r.clone();var a=new vn(r.__wrapped__,r.__chain__);return a.__actions__=Ye(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function hy(r,a,h){(h?He(r,a,h):a===e)?a=1:a=Se(Ot(a),0);var d=r==null?0:r.length;if(!d||a<1)return[];for(var _=0,w=0,x=U(ka(d/a));_<d;)x[w++]=yn(r,_,_+=a);return x}function fy(r){for(var a=-1,h=r==null?0:r.length,d=0,_=[];++a<h;){var w=r[a];w&&(_[d++]=w)}return _}function cy(){var r=arguments.length;if(!r)return[];for(var a=U(r-1),h=arguments[0],d=r;d--;)a[d-1]=arguments[d];return mr(Pt(h)?Ye(h):[h],Re(a,1))}var dy=Lt(function(r,a){return pe(r)?ws(r,Re(a,1,pe,!0)):[]}),gy=Lt(function(r,a){var h=bn(a);return pe(h)&&(h=e),pe(r)?ws(r,Re(a,1,pe,!0),wt(h,2)):[]}),py=Lt(function(r,a){var h=bn(a);return pe(h)&&(h=e),pe(r)?ws(r,Re(a,1,pe,!0),e,h):[]});function _y(r,a,h){var d=r==null?0:r.length;return d?(a=h||a===e?1:Ot(a),yn(r,a<0?0:a,d)):[]}function vy(r,a,h){var d=r==null?0:r.length;return d?(a=h||a===e?1:Ot(a),a=d-a,yn(r,0,a<0?0:a)):[]}function my(r,a){return r&&r.length?$a(r,wt(a,3),!0,!0):[]}function yy(r,a){return r&&r.length?$a(r,wt(a,3),!0):[]}function by(r,a,h,d){var _=r==null?0:r.length;return _?(h&&typeof h!="number"&&He(r,a,h)&&(h=0,d=_),c1(r,a,h,d)):[]}function fd(r,a,h){var d=r==null?0:r.length;if(!d)return-1;var _=h==null?0:Ot(h);return _<0&&(_=Se(d+_,0)),Ca(r,wt(a,3),_)}function cd(r,a,h){var d=r==null?0:r.length;if(!d)return-1;var _=d-1;return h!==e&&(_=Ot(h),_=h<0?Se(d+_,0):ke(_,d-1)),Ca(r,wt(a,3),_,!0)}function dd(r){var a=r==null?0:r.length;return a?Re(r,1):[]}function wy(r){var a=r==null?0:r.length;return a?Re(r,ft):[]}function Sy(r,a){var h=r==null?0:r.length;return h?(a=a===e?1:Ot(a),Re(r,a)):[]}function Cy(r){for(var a=-1,h=r==null?0:r.length,d={};++a<h;){var _=r[a];d[_[0]]=_[1]}return d}function gd(r){return r&&r.length?r[0]:e}function xy(r,a,h){var d=r==null?0:r.length;if(!d)return-1;var _=h==null?0:Ot(h);return _<0&&(_=Se(d+_,0)),Oi(r,a,_)}function Ey(r){var a=r==null?0:r.length;return a?yn(r,0,-1):[]}var Ty=Lt(function(r){var a=le(r,Jl);return a.length&&a[0]===r[0]?Wl(a):[]}),Ay=Lt(function(r){var a=bn(r),h=le(r,Jl);return a===bn(h)?a=e:h.pop(),h.length&&h[0]===r[0]?Wl(h,wt(a,2)):[]}),Py=Lt(function(r){var a=bn(r),h=le(r,Jl);return a=typeof a=="function"?a:e,a&&h.pop(),h.length&&h[0]===r[0]?Wl(h,e,a):[]});function Oy(r,a){return r==null?"":Em.call(r,a)}function bn(r){var a=r==null?0:r.length;return a?r[a-1]:e}function Ry(r,a,h){var d=r==null?0:r.length;if(!d)return-1;var _=d;return h!==e&&(_=Ot(h),_=_<0?Se(d+_,0):ke(_,d-1)),a===a?um(r,a,_):Ca(r,qf,_,!0)}function My(r,a){return r&&r.length?Ec(r,Ot(a)):e}var Ly=Lt(pd);function pd(r,a){return r&&r.length&&a&&a.length?Kl(r,a):r}function Iy(r,a,h){return r&&r.length&&a&&a.length?Kl(r,a,wt(h,2)):r}function ky(r,a,h){return r&&r.length&&a&&a.length?Kl(r,a,e,h):r}var Dy=Zn(function(r,a){var h=r==null?0:r.length,d=Gl(r,a);return Pc(r,le(a,function(_){return tr(_,h)?+_:_}).sort(Gc)),d});function Fy(r,a){var h=[];if(!(r&&r.length))return h;var d=-1,_=[],w=r.length;for(a=wt(a,3);++d<w;){var x=r[d];a(x,d,r)&&(h.push(x),_.push(d))}return Pc(r,_),h}function cu(r){return r==null?r:Om.call(r)}function Ny(r,a,h){var d=r==null?0:r.length;return d?(h&&typeof h!="number"&&He(r,a,h)?(a=0,h=d):(a=a==null?0:Ot(a),h=h===e?d:Ot(h)),yn(r,a,h)):[]}function Gy(r,a){return za(r,a)}function By(r,a,h){return Vl(r,a,wt(h,2))}function Hy(r,a){var h=r==null?0:r.length;if(h){var d=za(r,a);if(d<h&&Rn(r[d],a))return d}return-1}function Uy(r,a){return za(r,a,!0)}function Wy(r,a,h){return Vl(r,a,wt(h,2),!0)}function zy(r,a){var h=r==null?0:r.length;if(h){var d=za(r,a,!0)-1;if(Rn(r[d],a))return d}return-1}function $y(r){return r&&r.length?Rc(r):[]}function Yy(r,a){return r&&r.length?Rc(r,wt(a,2)):[]}function Ky(r){var a=r==null?0:r.length;return a?yn(r,1,a):[]}function Xy(r,a,h){return r&&r.length?(a=h||a===e?1:Ot(a),yn(r,0,a<0?0:a)):[]}function qy(r,a,h){var d=r==null?0:r.length;return d?(a=h||a===e?1:Ot(a),a=d-a,yn(r,a<0?0:a,d)):[]}function Vy(r,a){return r&&r.length?$a(r,wt(a,3),!1,!0):[]}function jy(r,a){return r&&r.length?$a(r,wt(a,3)):[]}var Qy=Lt(function(r){return Sr(Re(r,1,pe,!0))}),Jy=Lt(function(r){var a=bn(r);return pe(a)&&(a=e),Sr(Re(r,1,pe,!0),wt(a,2))}),Zy=Lt(function(r){var a=bn(r);return a=typeof a=="function"?a:e,Sr(Re(r,1,pe,!0),e,a)});function tb(r){return r&&r.length?Sr(r):[]}function eb(r,a){return r&&r.length?Sr(r,wt(a,2)):[]}function nb(r,a){return a=typeof a=="function"?a:e,r&&r.length?Sr(r,e,a):[]}function du(r){if(!(r&&r.length))return[];var a=0;return r=vr(r,function(h){if(pe(h))return a=Se(h.length,a),!0}),Rl(a,function(h){return le(r,Al(h))})}function _d(r,a){if(!(r&&r.length))return[];var h=du(r);return a==null?h:le(h,function(d){return tn(a,e,d)})}var rb=Lt(function(r,a){return pe(r)?ws(r,a):[]}),ib=Lt(function(r){return Ql(vr(r,pe))}),sb=Lt(function(r){var a=bn(r);return pe(a)&&(a=e),Ql(vr(r,pe),wt(a,2))}),ab=Lt(function(r){var a=bn(r);return a=typeof a=="function"?a:e,Ql(vr(r,pe),e,a)}),ob=Lt(du);function lb(r,a){return kc(r||[],a||[],bs)}function ub(r,a){return kc(r||[],a||[],xs)}var hb=Lt(function(r){var a=r.length,h=a>1?r[a-1]:e;return h=typeof h=="function"?(r.pop(),h):e,_d(r,h)});function vd(r){var a=y(r);return a.__chain__=!0,a}function fb(r,a){return a(r),r}function Za(r,a){return a(r)}var cb=Zn(function(r){var a=r.length,h=a?r[0]:0,d=this.__wrapped__,_=function(w){return Gl(w,r)};return a>1||this.__actions__.length||!(d instanceof Nt)||!tr(h)?this.thru(_):(d=d.slice(h,+h+(a?1:0)),d.__actions__.push({func:Za,args:[_],thisArg:e}),new vn(d,this.__chain__).thru(function(w){return a&&!w.length&&w.push(e),w}))});function db(){return vd(this)}function gb(){return new vn(this.value(),this.__chain__)}function pb(){this.__values__===e&&(this.__values__=Md(this.value()));var r=this.__index__>=this.__values__.length,a=r?e:this.__values__[this.__index__++];return{done:r,value:a}}function _b(){return this}function vb(r){for(var a,h=this;h instanceof Ga;){var d=hd(h);d.__index__=0,d.__values__=e,a?_.__wrapped__=d:a=d;var _=d;h=h.__wrapped__}return _.__wrapped__=r,a}function mb(){var r=this.__wrapped__;if(r instanceof Nt){var a=r;return this.__actions__.length&&(a=new Nt(this)),a=a.reverse(),a.__actions__.push({func:Za,args:[cu],thisArg:e}),new vn(a,this.__chain__)}return this.thru(cu)}function yb(){return Ic(this.__wrapped__,this.__actions__)}var bb=Ya(function(r,a,h){jt.call(r,h)?++r[h]:Qn(r,h,1)});function wb(r,a,h){var d=Pt(r)?Kf:f1;return h&&He(r,a,h)&&(a=e),d(r,wt(a,3))}function Sb(r,a){var h=Pt(r)?vr:_c;return h(r,wt(a,3))}var Cb=$c(fd),xb=$c(cd);function Eb(r,a){return Re(to(r,a),1)}function Tb(r,a){return Re(to(r,a),ft)}function Ab(r,a,h){return h=h===e?1:Ot(h),Re(to(r,a),h)}function md(r,a){var h=Pt(r)?pn:wr;return h(r,wt(a,3))}function yd(r,a){var h=Pt(r)?K0:pc;return h(r,wt(a,3))}var Pb=Ya(function(r,a,h){jt.call(r,h)?r[h].push(a):Qn(r,h,[a])});function Ob(r,a,h,d){r=Ke(r)?r:Ui(r),h=h&&!d?Ot(h):0;var _=r.length;return h<0&&(h=Se(_+h,0)),so(r)?h<=_&&r.indexOf(a,h)>-1:!!_&&Oi(r,a,h)>-1}var Rb=Lt(function(r,a,h){var d=-1,_=typeof a=="function",w=Ke(r)?U(r.length):[];return wr(r,function(x){w[++d]=_?tn(a,x,h):Ss(x,a,h)}),w}),Mb=Ya(function(r,a,h){Qn(r,h,a)});function to(r,a){var h=Pt(r)?le:Sc;return h(r,wt(a,3))}function Lb(r,a,h,d){return r==null?[]:(Pt(a)||(a=a==null?[]:[a]),h=d?e:h,Pt(h)||(h=h==null?[]:[h]),Tc(r,a,h))}var Ib=Ya(function(r,a,h){r[h?0:1].push(a)},function(){return[[],[]]});function kb(r,a,h){var d=Pt(r)?El:jf,_=arguments.length<3;return d(r,wt(a,4),h,_,wr)}function Db(r,a,h){var d=Pt(r)?X0:jf,_=arguments.length<3;return d(r,wt(a,4),h,_,pc)}function Fb(r,a){var h=Pt(r)?vr:_c;return h(r,ro(wt(a,3)))}function Nb(r){var a=Pt(r)?fc:O1;return a(r)}function Gb(r,a,h){(h?He(r,a,h):a===e)?a=1:a=Ot(a);var d=Pt(r)?a1:R1;return d(r,a)}function Bb(r){var a=Pt(r)?o1:L1;return a(r)}function Hb(r){if(r==null)return 0;if(Ke(r))return so(r)?Mi(r):r.length;var a=De(r);return a==z||a==J?r.size:$l(r).length}function Ub(r,a,h){var d=Pt(r)?Tl:I1;return h&&He(r,a,h)&&(a=e),d(r,wt(a,3))}var Wb=Lt(function(r,a){if(r==null)return[];var h=a.length;return h>1&&He(r,a[0],a[1])?a=[]:h>2&&He(a[0],a[1],a[2])&&(a=[a[0]]),Tc(r,Re(a,1),[])}),eo=Sm||function(){return Oe.Date.now()};function zb(r,a){if(typeof a!="function")throw new _n(l);return r=Ot(r),function(){if(--r<1)return a.apply(this,arguments)}}function bd(r,a,h){return a=h?e:a,a=r&&a==null?r.length:a,Jn(r,$,e,e,e,e,a)}function wd(r,a){var h;if(typeof a!="function")throw new _n(l);return r=Ot(r),function(){return--r>0&&(h=a.apply(this,arguments)),r<=1&&(a=e),h}}var gu=Lt(function(r,a,h){var d=A;if(h.length){var _=yr(h,Bi(gu));d|=B}return Jn(r,d,a,h,_)}),Sd=Lt(function(r,a,h){var d=A|T;if(h.length){var _=yr(h,Bi(Sd));d|=B}return Jn(a,d,r,h,_)});function Cd(r,a,h){a=h?e:a;var d=Jn(r,C,e,e,e,e,e,a);return d.placeholder=Cd.placeholder,d}function xd(r,a,h){a=h?e:a;var d=Jn(r,M,e,e,e,e,e,a);return d.placeholder=xd.placeholder,d}function Ed(r,a,h){var d,_,w,x,R,D,V=0,j=!1,tt=!1,ut=!0;if(typeof r!="function")throw new _n(l);a=wn(a)||0,ue(h)&&(j=!!h.leading,tt="maxWait"in h,w=tt?Se(wn(h.maxWait)||0,a):w,ut="trailing"in h?!!h.trailing:ut);function mt(_e){var Mn=d,rr=_;return d=_=e,V=_e,x=r.apply(rr,Mn),x}function xt(_e){return V=_e,R=As(Ft,a),j?mt(_e):x}function Rt(_e){var Mn=_e-D,rr=_e-V,$d=a-Mn;return tt?ke($d,w-rr):$d}function Et(_e){var Mn=_e-D,rr=_e-V;return D===e||Mn>=a||Mn<0||tt&&rr>=w}function Ft(){var _e=eo();if(Et(_e))return Bt(_e);R=As(Ft,Rt(_e))}function Bt(_e){return R=e,ut&&d?mt(_e):(d=_=e,x)}function sn(){R!==e&&Dc(R),V=0,d=D=_=R=e}function Ue(){return R===e?x:Bt(eo())}function an(){var _e=eo(),Mn=Et(_e);if(d=arguments,_=this,D=_e,Mn){if(R===e)return xt(D);if(tt)return Dc(R),R=As(Ft,a),mt(D)}return R===e&&(R=As(Ft,a)),x}return an.cancel=sn,an.flush=Ue,an}var $b=Lt(function(r,a){return gc(r,1,a)}),Yb=Lt(function(r,a,h){return gc(r,wn(a)||0,h)});function Kb(r){return Jn(r,W)}function no(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new _n(l);var h=function(){var d=arguments,_=a?a.apply(this,d):d[0],w=h.cache;if(w.has(_))return w.get(_);var x=r.apply(this,d);return h.cache=w.set(_,x)||w,x};return h.cache=new(no.Cache||jn),h}no.Cache=jn;function ro(r){if(typeof r!="function")throw new _n(l);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function Xb(r){return wd(2,r)}var qb=k1(function(r,a){a=a.length==1&&Pt(a[0])?le(a[0],en(wt())):le(Re(a,1),en(wt()));var h=a.length;return Lt(function(d){for(var _=-1,w=ke(d.length,h);++_<w;)d[_]=a[_].call(this,d[_]);return tn(r,this,d)})}),pu=Lt(function(r,a){var h=yr(a,Bi(pu));return Jn(r,B,e,a,h)}),Td=Lt(function(r,a){var h=yr(a,Bi(Td));return Jn(r,N,e,a,h)}),Vb=Zn(function(r,a){return Jn(r,L,e,e,e,a)});function jb(r,a){if(typeof r!="function")throw new _n(l);return a=a===e?a:Ot(a),Lt(r,a)}function Qb(r,a){if(typeof r!="function")throw new _n(l);return a=a==null?0:Se(Ot(a),0),Lt(function(h){var d=h[a],_=xr(h,0,a);return d&&mr(_,d),tn(r,this,_)})}function Jb(r,a,h){var d=!0,_=!0;if(typeof r!="function")throw new _n(l);return ue(h)&&(d="leading"in h?!!h.leading:d,_="trailing"in h?!!h.trailing:_),Ed(r,a,{leading:d,maxWait:a,trailing:_})}function Zb(r){return bd(r,1)}function t2(r,a){return pu(Zl(a),r)}function e2(){if(!arguments.length)return[];var r=arguments[0];return Pt(r)?r:[r]}function n2(r){return mn(r,b)}function r2(r,a){return a=typeof a=="function"?a:e,mn(r,b,a)}function i2(r){return mn(r,p|b)}function s2(r,a){return a=typeof a=="function"?a:e,mn(r,p|b,a)}function a2(r,a){return a==null||dc(r,a,Te(a))}function Rn(r,a){return r===a||r!==r&&a!==a}var o2=Va(Ul),l2=Va(function(r,a){return r>=a}),Jr=yc(function(){return arguments}())?yc:function(r){return de(r)&&jt.call(r,"callee")&&!sc.call(r,"callee")},Pt=U.isArray,u2=Hf?en(Hf):v1;function Ke(r){return r!=null&&io(r.length)&&!er(r)}function pe(r){return de(r)&&Ke(r)}function h2(r){return r===!0||r===!1||de(r)&&Be(r)==ae}var Er=xm||Tu,f2=Uf?en(Uf):m1;function c2(r){return de(r)&&r.nodeType===1&&!Ps(r)}function d2(r){if(r==null)return!0;if(Ke(r)&&(Pt(r)||typeof r=="string"||typeof r.splice=="function"||Er(r)||Hi(r)||Jr(r)))return!r.length;var a=De(r);if(a==z||a==J)return!r.size;if(Ts(r))return!$l(r).length;for(var h in r)if(jt.call(r,h))return!1;return!0}function g2(r,a){return Cs(r,a)}function p2(r,a,h){h=typeof h=="function"?h:e;var d=h?h(r,a):e;return d===e?Cs(r,a,e,h):!!d}function _u(r){if(!de(r))return!1;var a=Be(r);return a==An||a==zr||typeof r.message=="string"&&typeof r.name=="string"&&!Ps(r)}function _2(r){return typeof r=="number"&&oc(r)}function er(r){if(!ue(r))return!1;var a=Be(r);return a==O||a==k||a==Ze||a==at}function Ad(r){return typeof r=="number"&&r==Ot(r)}function io(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=dt}function ue(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function de(r){return r!=null&&typeof r=="object"}var Pd=Wf?en(Wf):b1;function v2(r,a){return r===a||zl(r,a,au(a))}function m2(r,a,h){return h=typeof h=="function"?h:e,zl(r,a,au(a),h)}function y2(r){return Od(r)&&r!=+r}function b2(r){if(ry(r))throw new At(o);return bc(r)}function w2(r){return r===null}function S2(r){return r==null}function Od(r){return typeof r=="number"||de(r)&&Be(r)==Q}function Ps(r){if(!de(r)||Be(r)!=rt)return!1;var a=Ma(r);if(a===null)return!0;var h=jt.call(a,"constructor")&&a.constructor;return typeof h=="function"&&h instanceof h&&Aa.call(h)==mm}var vu=zf?en(zf):w1;function C2(r){return Ad(r)&&r>=-dt&&r<=dt}var Rd=$f?en($f):S1;function so(r){return typeof r=="string"||!Pt(r)&&de(r)&&Be(r)==yt}function rn(r){return typeof r=="symbol"||de(r)&&Be(r)==pt}var Hi=Yf?en(Yf):C1;function x2(r){return r===e}function E2(r){return de(r)&&De(r)==Ct}function T2(r){return de(r)&&Be(r)==kt}var A2=Va(Yl),P2=Va(function(r,a){return r<=a});function Md(r){if(!r)return[];if(Ke(r))return so(r)?Pn(r):Ye(r);if(ps&&r[ps])return am(r[ps]());var a=De(r),h=a==z?Ll:a==J?xa:Ui;return h(r)}function nr(r){if(!r)return r===0?r:0;if(r=wn(r),r===ft||r===-ft){var a=r<0?-1:1;return a*Mt}return r===r?r:0}function Ot(r){var a=nr(r),h=a%1;return a===a?h?a-h:a:0}function Ld(r){return r?qr(Ot(r),0,St):0}function wn(r){if(typeof r=="number")return r;if(rn(r))return gt;if(ue(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=ue(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=Qf(r);var h=u0.test(r);return h||f0.test(r)?z0(r.slice(2),h?2:8):l0.test(r)?gt:+r}function Id(r){return Un(r,Xe(r))}function O2(r){return r?qr(Ot(r),-dt,dt):r===0?r:0}function Kt(r){return r==null?"":nn(r)}var R2=Ni(function(r,a){if(Ts(a)||Ke(a)){Un(a,Te(a),r);return}for(var h in a)jt.call(a,h)&&bs(r,h,a[h])}),kd=Ni(function(r,a){Un(a,Xe(a),r)}),ao=Ni(function(r,a,h,d){Un(a,Xe(a),r,d)}),M2=Ni(function(r,a,h,d){Un(a,Te(a),r,d)}),L2=Zn(Gl);function I2(r,a){var h=Fi(r);return a==null?h:cc(h,a)}var k2=Lt(function(r,a){r=te(r);var h=-1,d=a.length,_=d>2?a[2]:e;for(_&&He(a[0],a[1],_)&&(d=1);++h<d;)for(var w=a[h],x=Xe(w),R=-1,D=x.length;++R<D;){var V=x[R],j=r[V];(j===e||Rn(j,Ii[V])&&!jt.call(r,V))&&(r[V]=w[V])}return r}),D2=Lt(function(r){return r.push(e,Qc),tn(Dd,e,r)});function F2(r,a){return Xf(r,wt(a,3),Hn)}function N2(r,a){return Xf(r,wt(a,3),Hl)}function G2(r,a){return r==null?r:Bl(r,wt(a,3),Xe)}function B2(r,a){return r==null?r:vc(r,wt(a,3),Xe)}function H2(r,a){return r&&Hn(r,wt(a,3))}function U2(r,a){return r&&Hl(r,wt(a,3))}function W2(r){return r==null?[]:Ua(r,Te(r))}function z2(r){return r==null?[]:Ua(r,Xe(r))}function mu(r,a,h){var d=r==null?e:Vr(r,a);return d===e?h:d}function $2(r,a){return r!=null&&td(r,a,d1)}function yu(r,a){return r!=null&&td(r,a,g1)}var Y2=Kc(function(r,a,h){a!=null&&typeof a.toString!="function"&&(a=Pa.call(a)),r[a]=h},wu(qe)),K2=Kc(function(r,a,h){a!=null&&typeof a.toString!="function"&&(a=Pa.call(a)),jt.call(r,a)?r[a].push(h):r[a]=[h]},wt),X2=Lt(Ss);function Te(r){return Ke(r)?hc(r):$l(r)}function Xe(r){return Ke(r)?hc(r,!0):x1(r)}function q2(r,a){var h={};return a=wt(a,3),Hn(r,function(d,_,w){Qn(h,a(d,_,w),d)}),h}function V2(r,a){var h={};return a=wt(a,3),Hn(r,function(d,_,w){Qn(h,_,a(d,_,w))}),h}var j2=Ni(function(r,a,h){Wa(r,a,h)}),Dd=Ni(function(r,a,h,d){Wa(r,a,h,d)}),Q2=Zn(function(r,a){var h={};if(r==null)return h;var d=!1;a=le(a,function(w){return w=Cr(w,r),d||(d=w.length>1),w}),Un(r,iu(r),h),d&&(h=mn(h,p|v|b,Y1));for(var _=a.length;_--;)jl(h,a[_]);return h});function J2(r,a){return Fd(r,ro(wt(a)))}var Z2=Zn(function(r,a){return r==null?{}:T1(r,a)});function Fd(r,a){if(r==null)return{};var h=le(iu(r),function(d){return[d]});return a=wt(a),Ac(r,h,function(d,_){return a(d,_[0])})}function tw(r,a,h){a=Cr(a,r);var d=-1,_=a.length;for(_||(_=1,r=e);++d<_;){var w=r==null?e:r[Wn(a[d])];w===e&&(d=_,w=h),r=er(w)?w.call(r):w}return r}function ew(r,a,h){return r==null?r:xs(r,a,h)}function nw(r,a,h,d){return d=typeof d=="function"?d:e,r==null?r:xs(r,a,h,d)}var Nd=Vc(Te),Gd=Vc(Xe);function rw(r,a,h){var d=Pt(r),_=d||Er(r)||Hi(r);if(a=wt(a,4),h==null){var w=r&&r.constructor;_?h=d?new w:[]:ue(r)?h=er(w)?Fi(Ma(r)):{}:h={}}return(_?pn:Hn)(r,function(x,R,D){return a(h,x,R,D)}),h}function iw(r,a){return r==null?!0:jl(r,a)}function sw(r,a,h){return r==null?r:Lc(r,a,Zl(h))}function aw(r,a,h,d){return d=typeof d=="function"?d:e,r==null?r:Lc(r,a,Zl(h),d)}function Ui(r){return r==null?[]:Ml(r,Te(r))}function ow(r){return r==null?[]:Ml(r,Xe(r))}function lw(r,a,h){return h===e&&(h=a,a=e),h!==e&&(h=wn(h),h=h===h?h:0),a!==e&&(a=wn(a),a=a===a?a:0),qr(wn(r),a,h)}function uw(r,a,h){return a=nr(a),h===e?(h=a,a=0):h=nr(h),r=wn(r),p1(r,a,h)}function hw(r,a,h){if(h&&typeof h!="boolean"&&He(r,a,h)&&(a=h=e),h===e&&(typeof a=="boolean"?(h=a,a=e):typeof r=="boolean"&&(h=r,r=e)),r===e&&a===e?(r=0,a=1):(r=nr(r),a===e?(a=r,r=0):a=nr(a)),r>a){var d=r;r=a,a=d}if(h||r%1||a%1){var _=lc();return ke(r+_*(a-r+W0("1e-"+((_+"").length-1))),a)}return Xl(r,a)}var fw=Gi(function(r,a,h){return a=a.toLowerCase(),r+(h?Bd(a):a)});function Bd(r){return bu(Kt(r).toLowerCase())}function Hd(r){return r=Kt(r),r&&r.replace(d0,em).replace(L0,"")}function cw(r,a,h){r=Kt(r),a=nn(a);var d=r.length;h=h===e?d:qr(Ot(h),0,d);var _=h;return h-=a.length,h>=0&&r.slice(h,_)==a}function dw(r){return r=Kt(r),r&&Xv.test(r)?r.replace(vf,nm):r}function gw(r){return r=Kt(r),r&&Zv.test(r)?r.replace(pl,"\\$&"):r}var pw=Gi(function(r,a,h){return r+(h?"-":"")+a.toLowerCase()}),_w=Gi(function(r,a,h){return r+(h?" ":"")+a.toLowerCase()}),vw=zc("toLowerCase");function mw(r,a,h){r=Kt(r),a=Ot(a);var d=a?Mi(r):0;if(!a||d>=a)return r;var _=(a-d)/2;return qa(Da(_),h)+r+qa(ka(_),h)}function yw(r,a,h){r=Kt(r),a=Ot(a);var d=a?Mi(r):0;return a&&d<a?r+qa(a-d,h):r}function bw(r,a,h){r=Kt(r),a=Ot(a);var d=a?Mi(r):0;return a&&d<a?qa(a-d,h)+r:r}function ww(r,a,h){return h||a==null?a=0:a&&(a=+a),Pm(Kt(r).replace(_l,""),a||0)}function Sw(r,a,h){return(h?He(r,a,h):a===e)?a=1:a=Ot(a),ql(Kt(r),a)}function Cw(){var r=arguments,a=Kt(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var xw=Gi(function(r,a,h){return r+(h?"_":"")+a.toLowerCase()});function Ew(r,a,h){return h&&typeof h!="number"&&He(r,a,h)&&(a=h=e),h=h===e?St:h>>>0,h?(r=Kt(r),r&&(typeof a=="string"||a!=null&&!vu(a))&&(a=nn(a),!a&&Ri(r))?xr(Pn(r),0,h):r.split(a,h)):[]}var Tw=Gi(function(r,a,h){return r+(h?" ":"")+bu(a)});function Aw(r,a,h){return r=Kt(r),h=h==null?0:qr(Ot(h),0,r.length),a=nn(a),r.slice(h,h+a.length)==a}function Pw(r,a,h){var d=y.templateSettings;h&&He(r,a,h)&&(a=e),r=Kt(r),a=ao({},a,d,jc);var _=ao({},a.imports,d.imports,jc),w=Te(_),x=Ml(_,w),R,D,V=0,j=a.interpolate||ya,tt="__p += '",ut=Il((a.escape||ya).source+"|"+j.source+"|"+(j===mf?o0:ya).source+"|"+(a.evaluate||ya).source+"|$","g"),mt="//# sourceURL="+(jt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++N0+"]")+`
`;r.replace(ut,function(Et,Ft,Bt,sn,Ue,an){return Bt||(Bt=sn),tt+=r.slice(V,an).replace(g0,rm),Ft&&(R=!0,tt+=`' +
__e(`+Ft+`) +
'`),Ue&&(D=!0,tt+=`';
`+Ue+`;
__p += '`),Bt&&(tt+=`' +
((__t = (`+Bt+`)) == null ? '' : __t) +
'`),V=an+Et.length,Et}),tt+=`';
`;var xt=jt.call(a,"variable")&&a.variable;if(!xt)tt=`with (obj) {
`+tt+`
}
`;else if(s0.test(xt))throw new At(u);tt=(D?tt.replace(zv,""):tt).replace($v,"$1").replace(Yv,"$1;"),tt="function("+(xt||"obj")+`) {
`+(xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(R?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+tt+`return __p
}`;var Rt=Wd(function(){return $t(w,mt+"return "+tt).apply(e,x)});if(Rt.source=tt,_u(Rt))throw Rt;return Rt}function Ow(r){return Kt(r).toLowerCase()}function Rw(r){return Kt(r).toUpperCase()}function Mw(r,a,h){if(r=Kt(r),r&&(h||a===e))return Qf(r);if(!r||!(a=nn(a)))return r;var d=Pn(r),_=Pn(a),w=Jf(d,_),x=Zf(d,_)+1;return xr(d,w,x).join("")}function Lw(r,a,h){if(r=Kt(r),r&&(h||a===e))return r.slice(0,ec(r)+1);if(!r||!(a=nn(a)))return r;var d=Pn(r),_=Zf(d,Pn(a))+1;return xr(d,0,_).join("")}function Iw(r,a,h){if(r=Kt(r),r&&(h||a===e))return r.replace(_l,"");if(!r||!(a=nn(a)))return r;var d=Pn(r),_=Jf(d,Pn(a));return xr(d,_).join("")}function kw(r,a){var h=Y,d=X;if(ue(a)){var _="separator"in a?a.separator:_;h="length"in a?Ot(a.length):h,d="omission"in a?nn(a.omission):d}r=Kt(r);var w=r.length;if(Ri(r)){var x=Pn(r);w=x.length}if(h>=w)return r;var R=h-Mi(d);if(R<1)return d;var D=x?xr(x,0,R).join(""):r.slice(0,R);if(_===e)return D+d;if(x&&(R+=D.length-R),vu(_)){if(r.slice(R).search(_)){var V,j=D;for(_.global||(_=Il(_.source,Kt(yf.exec(_))+"g")),_.lastIndex=0;V=_.exec(j);)var tt=V.index;D=D.slice(0,tt===e?R:tt)}}else if(r.indexOf(nn(_),R)!=R){var ut=D.lastIndexOf(_);ut>-1&&(D=D.slice(0,ut))}return D+d}function Dw(r){return r=Kt(r),r&&Kv.test(r)?r.replace(_f,hm):r}var Fw=Gi(function(r,a,h){return r+(h?" ":"")+a.toUpperCase()}),bu=zc("toUpperCase");function Ud(r,a,h){return r=Kt(r),a=h?e:a,a===e?sm(r)?dm(r):j0(r):r.match(a)||[]}var Wd=Lt(function(r,a){try{return tn(r,e,a)}catch(h){return _u(h)?h:new At(h)}}),Nw=Zn(function(r,a){return pn(a,function(h){h=Wn(h),Qn(r,h,gu(r[h],r))}),r});function Gw(r){var a=r==null?0:r.length,h=wt();return r=a?le(r,function(d){if(typeof d[1]!="function")throw new _n(l);return[h(d[0]),d[1]]}):[],Lt(function(d){for(var _=-1;++_<a;){var w=r[_];if(tn(w[0],this,d))return tn(w[1],this,d)}})}function Bw(r){return h1(mn(r,p))}function wu(r){return function(){return r}}function Hw(r,a){return r==null||r!==r?a:r}var Uw=Yc(),Ww=Yc(!0);function qe(r){return r}function Su(r){return wc(typeof r=="function"?r:mn(r,p))}function zw(r){return Cc(mn(r,p))}function $w(r,a){return xc(r,mn(a,p))}var Yw=Lt(function(r,a){return function(h){return Ss(h,r,a)}}),Kw=Lt(function(r,a){return function(h){return Ss(r,h,a)}});function Cu(r,a,h){var d=Te(a),_=Ua(a,d);h==null&&!(ue(a)&&(_.length||!d.length))&&(h=a,a=r,r=this,_=Ua(a,Te(a)));var w=!(ue(h)&&"chain"in h)||!!h.chain,x=er(r);return pn(_,function(R){var D=a[R];r[R]=D,x&&(r.prototype[R]=function(){var V=this.__chain__;if(w||V){var j=r(this.__wrapped__),tt=j.__actions__=Ye(this.__actions__);return tt.push({func:D,args:arguments,thisArg:r}),j.__chain__=V,j}return D.apply(r,mr([this.value()],arguments))})}),r}function Xw(){return Oe._===this&&(Oe._=ym),this}function xu(){}function qw(r){return r=Ot(r),Lt(function(a){return Ec(a,r)})}var Vw=eu(le),jw=eu(Kf),Qw=eu(Tl);function zd(r){return lu(r)?Al(Wn(r)):A1(r)}function Jw(r){return function(a){return r==null?e:Vr(r,a)}}var Zw=Xc(),tS=Xc(!0);function Eu(){return[]}function Tu(){return!1}function eS(){return{}}function nS(){return""}function rS(){return!0}function iS(r,a){if(r=Ot(r),r<1||r>dt)return[];var h=St,d=ke(r,St);a=wt(a),r-=St;for(var _=Rl(d,a);++h<r;)a(h);return _}function sS(r){return Pt(r)?le(r,Wn):rn(r)?[r]:Ye(ud(Kt(r)))}function aS(r){var a=++vm;return Kt(r)+a}var oS=Xa(function(r,a){return r+a},0),lS=nu("ceil"),uS=Xa(function(r,a){return r/a},1),hS=nu("floor");function fS(r){return r&&r.length?Ha(r,qe,Ul):e}function cS(r,a){return r&&r.length?Ha(r,wt(a,2),Ul):e}function dS(r){return Vf(r,qe)}function gS(r,a){return Vf(r,wt(a,2))}function pS(r){return r&&r.length?Ha(r,qe,Yl):e}function _S(r,a){return r&&r.length?Ha(r,wt(a,2),Yl):e}var vS=Xa(function(r,a){return r*a},1),mS=nu("round"),yS=Xa(function(r,a){return r-a},0);function bS(r){return r&&r.length?Ol(r,qe):0}function wS(r,a){return r&&r.length?Ol(r,wt(a,2)):0}return y.after=zb,y.ary=bd,y.assign=R2,y.assignIn=kd,y.assignInWith=ao,y.assignWith=M2,y.at=L2,y.before=wd,y.bind=gu,y.bindAll=Nw,y.bindKey=Sd,y.castArray=e2,y.chain=vd,y.chunk=hy,y.compact=fy,y.concat=cy,y.cond=Gw,y.conforms=Bw,y.constant=wu,y.countBy=bb,y.create=I2,y.curry=Cd,y.curryRight=xd,y.debounce=Ed,y.defaults=k2,y.defaultsDeep=D2,y.defer=$b,y.delay=Yb,y.difference=dy,y.differenceBy=gy,y.differenceWith=py,y.drop=_y,y.dropRight=vy,y.dropRightWhile=my,y.dropWhile=yy,y.fill=by,y.filter=Sb,y.flatMap=Eb,y.flatMapDeep=Tb,y.flatMapDepth=Ab,y.flatten=dd,y.flattenDeep=wy,y.flattenDepth=Sy,y.flip=Kb,y.flow=Uw,y.flowRight=Ww,y.fromPairs=Cy,y.functions=W2,y.functionsIn=z2,y.groupBy=Pb,y.initial=Ey,y.intersection=Ty,y.intersectionBy=Ay,y.intersectionWith=Py,y.invert=Y2,y.invertBy=K2,y.invokeMap=Rb,y.iteratee=Su,y.keyBy=Mb,y.keys=Te,y.keysIn=Xe,y.map=to,y.mapKeys=q2,y.mapValues=V2,y.matches=zw,y.matchesProperty=$w,y.memoize=no,y.merge=j2,y.mergeWith=Dd,y.method=Yw,y.methodOf=Kw,y.mixin=Cu,y.negate=ro,y.nthArg=qw,y.omit=Q2,y.omitBy=J2,y.once=Xb,y.orderBy=Lb,y.over=Vw,y.overArgs=qb,y.overEvery=jw,y.overSome=Qw,y.partial=pu,y.partialRight=Td,y.partition=Ib,y.pick=Z2,y.pickBy=Fd,y.property=zd,y.propertyOf=Jw,y.pull=Ly,y.pullAll=pd,y.pullAllBy=Iy,y.pullAllWith=ky,y.pullAt=Dy,y.range=Zw,y.rangeRight=tS,y.rearg=Vb,y.reject=Fb,y.remove=Fy,y.rest=jb,y.reverse=cu,y.sampleSize=Gb,y.set=ew,y.setWith=nw,y.shuffle=Bb,y.slice=Ny,y.sortBy=Wb,y.sortedUniq=$y,y.sortedUniqBy=Yy,y.split=Ew,y.spread=Qb,y.tail=Ky,y.take=Xy,y.takeRight=qy,y.takeRightWhile=Vy,y.takeWhile=jy,y.tap=fb,y.throttle=Jb,y.thru=Za,y.toArray=Md,y.toPairs=Nd,y.toPairsIn=Gd,y.toPath=sS,y.toPlainObject=Id,y.transform=rw,y.unary=Zb,y.union=Qy,y.unionBy=Jy,y.unionWith=Zy,y.uniq=tb,y.uniqBy=eb,y.uniqWith=nb,y.unset=iw,y.unzip=du,y.unzipWith=_d,y.update=sw,y.updateWith=aw,y.values=Ui,y.valuesIn=ow,y.without=rb,y.words=Ud,y.wrap=t2,y.xor=ib,y.xorBy=sb,y.xorWith=ab,y.zip=ob,y.zipObject=lb,y.zipObjectDeep=ub,y.zipWith=hb,y.entries=Nd,y.entriesIn=Gd,y.extend=kd,y.extendWith=ao,Cu(y,y),y.add=oS,y.attempt=Wd,y.camelCase=fw,y.capitalize=Bd,y.ceil=lS,y.clamp=lw,y.clone=n2,y.cloneDeep=i2,y.cloneDeepWith=s2,y.cloneWith=r2,y.conformsTo=a2,y.deburr=Hd,y.defaultTo=Hw,y.divide=uS,y.endsWith=cw,y.eq=Rn,y.escape=dw,y.escapeRegExp=gw,y.every=wb,y.find=Cb,y.findIndex=fd,y.findKey=F2,y.findLast=xb,y.findLastIndex=cd,y.findLastKey=N2,y.floor=hS,y.forEach=md,y.forEachRight=yd,y.forIn=G2,y.forInRight=B2,y.forOwn=H2,y.forOwnRight=U2,y.get=mu,y.gt=o2,y.gte=l2,y.has=$2,y.hasIn=yu,y.head=gd,y.identity=qe,y.includes=Ob,y.indexOf=xy,y.inRange=uw,y.invoke=X2,y.isArguments=Jr,y.isArray=Pt,y.isArrayBuffer=u2,y.isArrayLike=Ke,y.isArrayLikeObject=pe,y.isBoolean=h2,y.isBuffer=Er,y.isDate=f2,y.isElement=c2,y.isEmpty=d2,y.isEqual=g2,y.isEqualWith=p2,y.isError=_u,y.isFinite=_2,y.isFunction=er,y.isInteger=Ad,y.isLength=io,y.isMap=Pd,y.isMatch=v2,y.isMatchWith=m2,y.isNaN=y2,y.isNative=b2,y.isNil=S2,y.isNull=w2,y.isNumber=Od,y.isObject=ue,y.isObjectLike=de,y.isPlainObject=Ps,y.isRegExp=vu,y.isSafeInteger=C2,y.isSet=Rd,y.isString=so,y.isSymbol=rn,y.isTypedArray=Hi,y.isUndefined=x2,y.isWeakMap=E2,y.isWeakSet=T2,y.join=Oy,y.kebabCase=pw,y.last=bn,y.lastIndexOf=Ry,y.lowerCase=_w,y.lowerFirst=vw,y.lt=A2,y.lte=P2,y.max=fS,y.maxBy=cS,y.mean=dS,y.meanBy=gS,y.min=pS,y.minBy=_S,y.stubArray=Eu,y.stubFalse=Tu,y.stubObject=eS,y.stubString=nS,y.stubTrue=rS,y.multiply=vS,y.nth=My,y.noConflict=Xw,y.noop=xu,y.now=eo,y.pad=mw,y.padEnd=yw,y.padStart=bw,y.parseInt=ww,y.random=hw,y.reduce=kb,y.reduceRight=Db,y.repeat=Sw,y.replace=Cw,y.result=tw,y.round=mS,y.runInContext=I,y.sample=Nb,y.size=Hb,y.snakeCase=xw,y.some=Ub,y.sortedIndex=Gy,y.sortedIndexBy=By,y.sortedIndexOf=Hy,y.sortedLastIndex=Uy,y.sortedLastIndexBy=Wy,y.sortedLastIndexOf=zy,y.startCase=Tw,y.startsWith=Aw,y.subtract=yS,y.sum=bS,y.sumBy=wS,y.template=Pw,y.times=iS,y.toFinite=nr,y.toInteger=Ot,y.toLength=Ld,y.toLower=Ow,y.toNumber=wn,y.toSafeInteger=O2,y.toString=Kt,y.toUpper=Rw,y.trim=Mw,y.trimEnd=Lw,y.trimStart=Iw,y.truncate=kw,y.unescape=Dw,y.uniqueId=aS,y.upperCase=Fw,y.upperFirst=bu,y.each=md,y.eachRight=yd,y.first=gd,Cu(y,function(){var r={};return Hn(y,function(a,h){jt.call(y.prototype,h)||(r[h]=a)}),r}(),{chain:!1}),y.VERSION=i,pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),pn(["drop","take"],function(r,a){Nt.prototype[r]=function(h){h=h===e?1:Se(Ot(h),0);var d=this.__filtered__&&!a?new Nt(this):this.clone();return d.__filtered__?d.__takeCount__=ke(h,d.__takeCount__):d.__views__.push({size:ke(h,St),type:r+(d.__dir__<0?"Right":"")}),d},Nt.prototype[r+"Right"]=function(h){return this.reverse()[r](h).reverse()}}),pn(["filter","map","takeWhile"],function(r,a){var h=a+1,d=h==H||h==nt;Nt.prototype[r]=function(_){var w=this.clone();return w.__iteratees__.push({iteratee:wt(_,3),type:h}),w.__filtered__=w.__filtered__||d,w}}),pn(["head","last"],function(r,a){var h="take"+(a?"Right":"");Nt.prototype[r]=function(){return this[h](1).value()[0]}}),pn(["initial","tail"],function(r,a){var h="drop"+(a?"":"Right");Nt.prototype[r]=function(){return this.__filtered__?new Nt(this):this[h](1)}}),Nt.prototype.compact=function(){return this.filter(qe)},Nt.prototype.find=function(r){return this.filter(r).head()},Nt.prototype.findLast=function(r){return this.reverse().find(r)},Nt.prototype.invokeMap=Lt(function(r,a){return typeof r=="function"?new Nt(this):this.map(function(h){return Ss(h,r,a)})}),Nt.prototype.reject=function(r){return this.filter(ro(wt(r)))},Nt.prototype.slice=function(r,a){r=Ot(r);var h=this;return h.__filtered__&&(r>0||a<0)?new Nt(h):(r<0?h=h.takeRight(-r):r&&(h=h.drop(r)),a!==e&&(a=Ot(a),h=a<0?h.dropRight(-a):h.take(a-r)),h)},Nt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Nt.prototype.toArray=function(){return this.take(St)},Hn(Nt.prototype,function(r,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),_=y[d?"take"+(a=="last"?"Right":""):a],w=d||/^find/.test(a);!_||(y.prototype[a]=function(){var x=this.__wrapped__,R=d?[1]:arguments,D=x instanceof Nt,V=R[0],j=D||Pt(x),tt=function(Ft){var Bt=_.apply(y,mr([Ft],R));return d&&ut?Bt[0]:Bt};j&&h&&typeof V=="function"&&V.length!=1&&(D=j=!1);var ut=this.__chain__,mt=!!this.__actions__.length,xt=w&&!ut,Rt=D&&!mt;if(!w&&j){x=Rt?x:new Nt(this);var Et=r.apply(x,R);return Et.__actions__.push({func:Za,args:[tt],thisArg:e}),new vn(Et,ut)}return xt&&Rt?r.apply(this,R):(Et=this.thru(tt),xt?d?Et.value()[0]:Et.value():Et)})}),pn(["pop","push","shift","sort","splice","unshift"],function(r){var a=Ea[r],h=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",d=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var _=arguments;if(d&&!this.__chain__){var w=this.value();return a.apply(Pt(w)?w:[],_)}return this[h](function(x){return a.apply(Pt(x)?x:[],_)})}}),Hn(Nt.prototype,function(r,a){var h=y[a];if(h){var d=h.name+"";jt.call(Di,d)||(Di[d]=[]),Di[d].push({name:a,func:h})}}),Di[Ka(e,T).name]=[{name:"wrapper",func:e}],Nt.prototype.clone=Dm,Nt.prototype.reverse=Fm,Nt.prototype.value=Nm,y.prototype.at=cb,y.prototype.chain=db,y.prototype.commit=gb,y.prototype.next=pb,y.prototype.plant=vb,y.prototype.reverse=mb,y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=yb,y.prototype.first=y.prototype.head,ps&&(y.prototype[ps]=_b),y},Li=gm();$r?(($r.exports=Li)._=Li,Sl._=Li):Oe._=Li}).call(qi)})(vh,vh.exports);function TT(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pi={exports:{}};const AT={},PT=Object.freeze(Object.defineProperty({__proto__:null,default:AT},Symbol.toStringTag,{value:"Module"})),OT=lf(PT);var sv=typeof process<"u"&&process.pid?process.pid.toString(36):"",av="";if(typeof __webpack_require__!="function"&&typeof TT<"u"){var Nu="",Fg=OT;if(Fg.networkInterfaces)var Gu=Fg.networkInterfaces();if(Gu){t:for(let n in Gu){const t=Gu[n],e=t.length;for(var $i=0;$i<e;$i++)if(t[$i]!==void 0&&t[$i].mac&&t[$i].mac!="00:00:00:00:00:00"){Nu=t[$i].mac;break t}}av=Nu?parseInt(Nu.replace(/\:|\D+/gi,"")).toString(36):""}}pi.exports=pi.exports.default=function(n,t){return(n||"")+av+sv+sa().toString(36)+(t||"")};pi.exports.process=function(n,t){return(n||"")+sv+sa().toString(36)+(t||"")};pi.exports.time=function(n,t){return(n||"")+sa().toString(36)+(t||"")};function sa(){var n=Date.now(),t=sa.last||n;return sa.last=n>t?n:t+1}const Ng={[Ln.RECT]:()=>[50,50,250,50,250,250,50,250],[Ln.T_FIGURE]:()=>[50,50,350,50,350,150,250,150,250,350,150,350,150,150,50,150],[Ln.L_FIGURE]:()=>[50,50,50,450,150,450,150,150,350,150,350,50],[Ln.CUSTOM]:()=>[]},RT=n=>{const t=Ng[n]&&Ng[n]()||[],{circles:e,lines:i}=ov(t);return{type:n,circles:e,lines:i}},ov=n=>{const t=MT(n),e=IT(t);return{circles:t,lines:e}},lv=n=>Object.values(n).reduce((t,e)=>{const{x:i,y:s}=e;return[...t,i,s]},[]),MT=n=>vh.exports.chunk(n,2).reduce((t,e)=>{const[i,s]=e,o=LT(i,s);return[...t,o]},[]),LT=(n,t)=>Dn({...of,id:pi.exports(),x:n,y:t}),IT=n=>n.map((t,e)=>{const i=n[e+1]||n[0];return kT({start:t,end:i})}),kT=({start:n,end:t})=>{const e={start:n};t&&t!==n&&(e.end=t);const i=lv(e),s=pi.exports();return{config:{...CT,id:s,points:i},circles:e}},zo=n=>{const{xDiff:t,yDiff:e}=uv(n);return Math.sqrt(t**2+e**2)},uv=n=>{const{config:t}=n,{points:e}=t,i=e.slice(0,2),s=e.slice(2),o=i[0]-s[0],l=i[1]-s[1];return{xDiff:o,yDiff:l}},DT=n=>n.reduce((t,e)=>{const i=zo(e)||0;return t+i},0),FT=(n,t)=>{const{circles:e,config:i}=n,{xDiff:s,yDiff:o}=uv(n),l=zo(n),u=t/l,f=s*u,c=o*u,g=s-f,p=o-c,{end:v}=e;return v.x+=g,v.y+=p,i.points=lv(e),n},uf=n=>+(n/100).toFixed(2),NT={__name:"CalculatedInfo",props:{width:Number,height:Number},setup(n){const t=n,e=hs(),i=ye(()=>e.getters.lines),s=ye(()=>{const c=t.width-200-25,g=t.height-50-25;return{width:200,height:50,fill:"#fff",stroke:"#555",strokeWidth:5,x:c,y:g}}),o=ye(()=>{const u=DT(i.value),f=uf(u).toFixed(2);return{width:s.value.width,text:`P = ${f}`,x:s.value.x+10,y:s.value.y+10,fontSize:20}});return(l,u)=>{const f=fn("v-rect"),c=fn("v-text");return Xt(),Ae(ee,null,[It(f,{config:me(s)},null,8,["config"]),It(c,{config:me(o)},null,8,["config"])],64)}}},GT={__name:"CanvasLine",props:{line:{type:Object,default:()=>({})},selected:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:t}){const e=n,i=ye(()=>{const u={...e.line.config};return e.selected&&(u.stroke=bT),u}),s=ye(()=>({...i.value,visible:!e.selected})),o=ye(()=>({...i.value,visible:e.selected})),l=u=>{t("click",u,e.line)};return(u,f)=>{const c=fn("v-arrow"),g=fn("v-line");return Xt(),Ae(ee,null,[It(c,{config:me(o),onClick:l,onTap:l},null,8,["config"]),It(g,{config:me(s),onClick:l,onTap:l},null,8,["config"])],64)}}},BT=n=>+(n*100).toFixed(2);const va=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e},HT={class:"floor-planner-input-box"},UT={__name:"FloorPlannerInputBox",props:{modelValue:{type:Number,required:!0}},emits:["update:modelValue"],setup(n,{expose:t,emit:e}){const i=n,s=ze(null),o=Ip({get(){return uf(i.modelValue)},set(u){const f=BT(u);e("update:modelValue",f)}});function l(){s==null||s.value.focus(),s==null||s.value.select()}return t({focus:l}),(u,f)=>(Xt(),Ae("div",HT,[Zp(ll("input",{"onUpdate:modelValue":f[0]||(f[0]=c=>be(o)?o.value=c:null),ref_key:"inputRef",ref:s,min:0,type:"number"},null,512),[[ia,me(o),void 0,{lazy:!0}]])]))}},WT=va(UT,[["__scopeId","data-v-fa3008e6"]]),zT={__name:"FigureLayer",props:{width:Number,height:Number},setup(n){const t=hs(),e=ze(0),i=ze(0),s=ze([]),o=ze([]),l=ze(null),u=ye(()=>t.getters.lines),f=ye(()=>t.getters.circles),c=ye(()=>t.getters.selectedLineId),g=ye(()=>t.getters.selectedLine),p=ye(()=>t.getters.groupFigure),v=ye(()=>t.getters.lineSizesTextConfigs),b=Dn({visible:!1,config:{...of,draggable:!1}}),m=(L,W)=>{L.cancelBubble=!0;const{id:Y}=W.config;A(W),t.commit("setSelectedLine",Y),T()},P=(L,W)=>{L.cancelBubble=!0,g.value&&A(g.value),t.commit("setSelectedLine",W),T()},A=L=>{const{id:W}=L.config;c.value===W&&t.dispatch("switchLineDirection",L)},T=async()=>{var L;await da(),(L=l.value)==null||L.focus()},S=ye({get(){return t.getters.selectedLineLength},set(L){t.dispatch("updateLineSize",{line:g.value,value:L})}}),C=(L,W)=>{const{target:Y}=L,{x:X,y:q}=Y.position(),{width:G,height:H}=Y.size(),ot={x:X,y:q},nt=Math.round(X/Tn)*Tn;Math.abs(nt-X)<G/2&&(ot.x=nt);const dt=Math.round(q/Tn)*Tn;Math.abs(dt-q)<H/2&&(ot.y=dt),W.x=ot.x,W.y=ot.y,b.config.x=ot.x,b.config.y=ot.y,t.dispatch("updateLinesPosition")},M=L=>{const{x:W,y:Y}=L.target.position();L.target.fill("transparent"),b.visible=!0,b.config.x=W,b.config.y=Y},B=L=>{L.target.fill("#fff"),b.visible=!1;const{x:W,y:Y}=b.config;L.target.position({x:W,y:Y})},N=L=>{const{x:W,y:Y}=L.target.position(),X=W-e.value,q=Y-i.value;f.value.forEach((G,H)=>{const ot=s.value[H],nt=o.value[H];G.x=ot+X,G.y=nt+q}),t.dispatch("updateLinesPosition")},$=L=>{const{x:W,y:Y}=L.target.position();e.value=W,i.value=Y,s.value=f.value.map(X=>X.x),o.value=f.value.map(X=>X.y)};return(L,W)=>{const Y=fn("v-rect"),X=fn("v-text"),q=fn("v-circle");return Xt(),Ae(ee,null,[me(g)?(Xt(),xn(c_,{key:0,to:"body"},[It(WT,{modelValue:me(S),"onUpdate:modelValue":W[0]||(W[0]=G=>be(S)?S.value=G:null),ref_key:"inputBoxRef",ref:l},null,8,["modelValue"])])):Ho("",!0),It(Y,{config:me(p),onDragStart:$,onDragMove:N},null,8,["config"]),(Xt(!0),Ae(ee,null,ui(me(u),G=>(Xt(),xn(GT,{key:G.config.id,line:G,selected:G.config.id===me(c),onClick:m},null,8,["line","selected"]))),128)),(Xt(!0),Ae(ee,null,ui(me(v),G=>(Xt(),xn(X,{key:G.lineId,config:G,onClick:H=>P(H,G.lineId),onTap:H=>P(H,G.lineId)},null,8,["config","onClick","onTap"]))),128)),b.visible?(Xt(),xn(q,{key:1,config:b.config},null,8,["config"])):Ho("",!0),(Xt(!0),Ae(ee,null,ui(me(f),G=>(Xt(),xn(q,{key:G.id,config:G,onDragStart:M,onDragMove:H=>C(H,G),onDragEnd:B},null,8,["config","onDragMove"]))),128)),It(NT,{width:n.width,height:n.height},null,8,["width","height"])],64)}}},$T={__name:"CreateLayer",props:{width:Number,height:Number,points:{type:Array,required:!0},mouseActive:{type:Boolean,default:!1}},setup(n,{expose:t}){const e=n,i=Ir("markedPoints"),s=Ir("pushPoint"),o=Dn({points:[],stroke:"#000"});function l(c,g){!e.mouseActive||(s(c.target,g),f())}function u(c,g){s(c.target,g)}function f(){o.points=i.value.reduce((c,g)=>[...c,g.x,g.y],[])}return t({joinPoints:f}),(c,g)=>{const p=fn("v-circle"),v=fn("v-line");return Xt(),Ae(ee,null,[(Xt(!0),Ae(ee,null,ui(n.points,b=>(Xt(),xn(p,{key:b.id,config:b,onMouseenter:m=>l(m,b),onMousedown:m=>u(m,b)},null,8,["config","onMouseenter","onMousedown"]))),128)),It(v,{config:o},null,8,["config"])],64)}}};function YT(n){const t=[n[0]];let e=0,i=1,s=2;for(;s<n.length;)Gg(n[e],n[s],n[i])||t.push(n[i]),e++,i++,s++;return Gg(n[e],t[0],n[i])||t.push(n[i]),t}function Gg(n,t,e){return(e.y-n.y)*(t.x-n.x)===(t.y-n.y)*(e.x-n.x)}const KT=n=>{const t=hs(),e=Dn([]),i=ze([]),s=ze(null),o=ye(()=>t.getters.drawMode),l=Dn({active:!1});ur(o,b=>{if(b){i.value=c();return}u()});function u(){e.length=0,i.value=[],l.active=!1}function f(b,m){if(!m.marked){if(e.length>=20)return p();e.push(m),b.fill("#000"),m.marked=!0,s.value.joinPoints()}}const c=()=>{const b=[],m=Math.ceil(n.width/Tn),P=Math.ceil(n.height/Tn);for(let A=0;A<m;A++)for(let T=0;T<P;T++){const S=g({x:A*Tn,y:T*Tn});b.push(S)}return b},g=({x:b=0,y:m=0})=>({...of,draggable:!1,id:pi.exports(),x:b,y:m,marked:!1}),p=()=>{if(e.length<3)return;const m=YT(e).reduce((P,{x:A,y:T})=>[...P,A,T],[]);t.dispatch("setCustomFigure",m),u()};function v(b,m,P,A){return i.value.find(T=>Math.abs(b-T.x)<P&&Math.abs(m-T.y)<A)}return{markedPoints:e,createLayerRef:s,createLayoutPoints:i,mouseMoveEvent:l,drawMode:o,resetDrawMode:u,getPressedPoint:v,pushMarkedPoint:f,createCustomFigure:p}};const XT={__name:"FloorPlanner",setup(n){const t=Dn({width:600,height:600}),e=KT(t),{createLayerRef:i,drawMode:s,mouseMoveEvent:o,markedPoints:l,createLayoutPoints:u}=e,f=ze(null),c=ze(null),g=hs();gT(f,T=>{const[S]=T,{width:C,height:M}=S.contentRect;t.width=C,t.height=M});function p(){g.commit("setSelectedLine",null)}function v(){!s.value||(o.active=!0)}function b(){!s.value||(o.active=!1,e.createCustomFigure())}const m=T=>{const{evt:S}=T;S.preventDefault();const C=S.touches[0],{clientX:M,clientY:B}=C,{x:N,y:$}=P({clientX:M,clientY:B}),L=e.getPressedPoint(N,$,Dg,Dg);if(!L)return;const W=A(L);W&&e.pushMarkedPoint(W,L)};function P({clientX:T,clientY:S}){if(!c.value)return{x:0,y:0};const C=c.value.getStage(),{content:M}=C,{x:B,y:N}=M.getBoundingClientRect(),$=T-B,L=S-N;return{x:$,y:L}}function A(T){var C;if(!T)return null;const S=(C=c.value)==null?void 0:C.getStage();return S?S.findOne(M=>M.id()===T.id):null}return No("pushPoint",e.pushMarkedPoint),No("markedPoints",ye(()=>l)),(T,S)=>{const C=fn("v-layer"),M=fn("v-stage");return Xt(),Ae("div",{class:"floor-planner",ref_key:"floorPlannerRef",ref:f},[It(M,{ref_key:"stageRef",ref:c,config:t,onClick:p,onTap:p,onMousedown:v,onMouseup:b,onTouchstart:v,onTouchend:b,onTouchmove:m},{default:na(()=>[It(C,null,{default:na(()=>[It(xT,{width:t.width,height:t.height},null,8,["width","height"]),me(s)?(Xt(),xn($T,{key:1,ref_key:"createLayerRef",ref:i,width:t.width,height:t.height,points:me(u),"mouse-active":me(o).active},null,8,["width","height","points","mouse-active"])):(Xt(),xn(zT,{key:0,width:t.width,height:t.height},null,8,["width","height"]))]),_:1})]),_:1},8,["config"])],512)}}},qT=va(XT,[["__scopeId","data-v-dbda780b"]]);const VT={class:"figure-list"},jT=["onClick"],QT={__name:"FloorPlannerFigureList",setup(n){const t=hs(),e={[Ln.RECT]:"[]",[Ln.L_FIGURE]:"\u0413",[Ln.T_FIGURE]:"\u0422",[Ln.CUSTOM]:"\u0420"},i=ye(()=>Object.values(Ln).map(l=>({icon:e[l],visible:!s.value,onClick:()=>{t.dispatch("setFigure",l),l===Ln.CUSTOM&&t.commit("setDrawMode",!0)}})).filter(({visible:l})=>l)),s=ye(()=>t.getters.drawMode),o=()=>{t.dispatch("setFigure",null)};return(l,u)=>(Xt(),Ae("div",VT,[(Xt(!0),Ae(ee,null,ui(me(i),f=>(Xt(),Ae("div",{key:f.type,class:"figure-item",onClick:f.onClick},hp(f.icon),9,jT))),128)),me(s)?(Xt(),Ae("div",{key:0,class:"figure-item",onClick:o},"\u041E\u0442\u043C\u0435\u043D\u0430")):Ho("",!0)]))}},JT=va(QT,[["__scopeId","data-v-c87f1eda"]]);const ZT={class:"floor-planner-panel"},tA={__name:"FloorPlannerPanel",setup(n){return(t,e)=>(Xt(),Ae("div",ZT,[It(JT)]))}},eA=va(tA,[["__scopeId","data-v-2955ff53"]]);const nA={class:"wrapper"},rA={__name:"App",setup(n){const t=hs();return mi(()=>{t.dispatch("setFigure",Ln.RECT)}),(e,i)=>(Xt(),Ae("div",nA,[It(eA),It(qT)]))}},iA=va(rA,[["__scopeId","data-v-62e2ff95"]]);var hv={exports:{}};const sA=lf(LE);var aA=Math.PI/180;function oA(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const es=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},_t={_global:es,version:"8.3.14",isBrowser:oA(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return _t.angleDeg?n*aA:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return _t.DD.isDragging},isDragReady(){return!!_t.DD.node},releaseCanvasOnDestroy:!0,document:es.document,_injectGlobal(n){es.Konva=n}},ce=n=>{_t[n.prototype.getClassName()]=n};_t._injectGlobal(_t);class un{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new un(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}translate(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this}scale(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this}rotate(t){var e=Math.cos(t),i=Math.sin(t),s=this.m[0]*e+this.m[2]*i,o=this.m[1]*e+this.m[3]*i,l=this.m[0]*-i+this.m[2]*e,u=this.m[1]*-i+this.m[3]*e;return this.m[0]=s,this.m[1]=o,this.m[2]=l,this.m[3]=u,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,e){var i=this.m[0]+this.m[2]*e,s=this.m[1]+this.m[3]*e,o=this.m[2]+this.m[0]*t,l=this.m[3]+this.m[1]*t;return this.m[0]=i,this.m[1]=s,this.m[2]=o,this.m[3]=l,this}multiply(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],i=this.m[1]*t.m[0]+this.m[3]*t.m[1],s=this.m[0]*t.m[2]+this.m[2]*t.m[3],o=this.m[1]*t.m[2]+this.m[3]*t.m[3],l=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],u=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=l,this.m[5]=u,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,i=-this.m[1]*t,s=-this.m[2]*t,o=this.m[0]*t,l=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),u=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=i,this.m[2]=s,this.m[3]=o,this.m[4]=l,this.m[5]=u,this}getMatrix(){return this.m}decompose(){var t=this.m[0],e=this.m[1],i=this.m[2],s=this.m[3],o=this.m[4],l=this.m[5],u=t*s-e*i;let f={x:o,y:l,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||e!=0){var c=Math.sqrt(t*t+e*e);f.rotation=e>0?Math.acos(t/c):-Math.acos(t/c),f.scaleX=c,f.scaleY=u/c,f.skewX=(t*i+e*s)/u,f.skewY=0}else if(i!=0||s!=0){var g=Math.sqrt(i*i+s*s);f.rotation=Math.PI/2-(s>0?Math.acos(-i/g):-Math.acos(i/g)),f.scaleX=u/g,f.scaleY=g,f.skewX=0,f.skewY=(t*i+e*s)/u}return f.rotation=F._getRotation(f.rotation),f}}var lA="[object Array]",uA="[object Number]",hA="[object String]",fA="[object Boolean]",cA=Math.PI/180,dA=180/Math.PI,Bu="#",gA="",pA="0",_A="Konva warning: ",Bg="Konva error: ",vA="rgb(",Hu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},mA=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,yo=[];const yA=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(n){setTimeout(n,60)},F={_isElement(n){return!!(n&&n.nodeType==1)},_isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)},_isPlainObject(n){return!!n&&n.constructor===Object},_isArray(n){return Object.prototype.toString.call(n)===lA},_isNumber(n){return Object.prototype.toString.call(n)===uA&&!isNaN(n)&&isFinite(n)},_isString(n){return Object.prototype.toString.call(n)===hA},_isBoolean(n){return Object.prototype.toString.call(n)===fA},isObject(n){return n instanceof Object},isValidSelector(n){if(typeof n!="string")return!1;var t=n[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(n){return n===0||n>0?1:-1},requestAnimFrame(n){yo.push(n),yo.length===1&&yA(function(){const t=yo;yo=[],t.forEach(function(e){e()})})},createCanvasElement(){var n=document.createElement("canvas");try{n.style=n.style||{}}catch{}return n},createImageElement(){return document.createElement("img")},_isInDocument(n){for(;n=n.parentNode;)if(n==document)return!0;return!1},_urlToImage(n,t){var e=F.createImageElement();e.onload=function(){t(e)},e.src=n},_rgbToHex(n,t,e){return((1<<24)+(n<<16)+(t<<8)+e).toString(16).slice(1)},_hexToRgb(n){n=n.replace(Bu,gA);var t=parseInt(n,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){for(var n=(Math.random()*16777215<<0).toString(16);n.length<6;)n=pA+n;return Bu+n},getRGB(n){var t;return n in Hu?(t=Hu[n],{r:t[0],g:t[1],b:t[2]}):n[0]===Bu?this._hexToRgb(n.substring(1)):n.substr(0,4)===vA?(t=mA.exec(n.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(n){return n=n||"black",F._namedColorToRBA(n)||F._hex3ColorToRGBA(n)||F._hex6ColorToRGBA(n)||F._rgbColorToRGBA(n)||F._rgbaColorToRGBA(n)||F._hslColorToRGBA(n)},_namedColorToRBA(n){var t=Hu[n.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(n){if(n.indexOf("rgb(")===0){n=n.match(/rgb\(([^)]+)\)/)[1];var t=n.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(n){if(n.indexOf("rgba(")===0){n=n.match(/rgba\(([^)]+)\)/)[1];var t=n.split(/ *, */).map((e,i)=>e.slice(-1)==="%"?i===3?parseInt(e)/100:parseInt(e)/100*255:Number(e));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex6ColorToRGBA(n){if(n[0]==="#"&&n.length===7)return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16),a:1}},_hex3ColorToRGBA(n){if(n[0]==="#"&&n.length===4)return{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}},_hslColorToRGBA(n){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(n)){const[t,...e]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n),i=Number(e[0])/360,s=Number(e[1])/100,o=Number(e[2])/100;let l,u,f;if(s===0)return f=o*255,{r:Math.round(f),g:Math.round(f),b:Math.round(f),a:1};o<.5?l=o*(1+s):l=o+s-o*s;const c=2*o-l,g=[0,0,0];for(let p=0;p<3;p++)u=i+1/3*-(p-1),u<0&&u++,u>1&&u--,6*u<1?f=c+(l-c)*6*u:2*u<1?f=l:3*u<2?f=c+(l-c)*(2/3-u)*6:f=c,g[p]=f*255;return{r:Math.round(g[0]),g:Math.round(g[1]),b:Math.round(g[2]),a:1}}},haveIntersection(n,t){return!(t.x>n.x+n.width||t.x+t.width<n.x||t.y>n.y+n.height||t.y+t.height<n.y)},cloneObject(n){var t={};for(var e in n)this._isPlainObject(n[e])?t[e]=this.cloneObject(n[e]):this._isArray(n[e])?t[e]=this.cloneArray(n[e]):t[e]=n[e];return t},cloneArray(n){return n.slice(0)},degToRad(n){return n*cA},radToDeg(n){return n*dA},_degToRad(n){return F.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),F.degToRad(n)},_radToDeg(n){return F.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),F.radToDeg(n)},_getRotation(n){return _t.angleDeg?F.radToDeg(n):n},_capitalize(n){return n.charAt(0).toUpperCase()+n.slice(1)},throw(n){throw new Error(Bg+n)},error(n){console.error(Bg+n)},warn(n){!_t.showWarnings||console.warn(_A+n)},each(n,t){for(var e in n)t(e,n[e])},_inRange(n,t,e){return t<=n&&n<e},_getProjectionToSegment(n,t,e,i,s,o){var l,u,f,c=(n-e)*(n-e)+(t-i)*(t-i);if(c==0)l=n,u=t,f=(s-e)*(s-e)+(o-i)*(o-i);else{var g=((s-n)*(e-n)+(o-t)*(i-t))/c;g<0?(l=n,u=t,f=(n-s)*(n-s)+(t-o)*(t-o)):g>1?(l=e,u=i,f=(e-s)*(e-s)+(i-o)*(i-o)):(l=n+g*(e-n),u=t+g*(i-t),f=(l-s)*(l-s)+(u-o)*(u-o))}return[l,u,f]},_getProjectionToLine(n,t,e){var i=F.cloneObject(n),s=Number.MAX_VALUE;return t.forEach(function(o,l){if(!(!e&&l===t.length-1)){var u=t[(l+1)%t.length],f=F._getProjectionToSegment(o.x,o.y,u.x,u.y,n.x,n.y),c=f[0],g=f[1],p=f[2];p<s&&(i.x=c,i.y=g,s=p)}}),i},_prepareArrayForTween(n,t,e){var i,s=[],o=[];if(n.length>t.length){var l=t;t=n,n=l}for(i=0;i<n.length;i+=2)s.push({x:n[i],y:n[i+1]});for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});var u=[];return o.forEach(function(f){var c=F._getProjectionToLine(f,s,e);u.push(c.x),u.push(c.y)}),u},_prepareToStringify(n){var t;n.visitedByCircularReferenceRemoval=!0;for(var e in n)if(!!(n.hasOwnProperty(e)&&n[e]&&typeof n[e]=="object")){if(t=Object.getOwnPropertyDescriptor(n,e),n[e].visitedByCircularReferenceRemoval||F._isElement(n[e]))if(t.configurable)delete n[e];else return null;else if(F._prepareToStringify(n[e])===null)if(t.configurable)delete n[e];else return null}return delete n.visitedByCircularReferenceRemoval,n},_assign(n,t){for(var e in t)n[e]=t[e];return n},_getFirstPointerId(n){return n.touches?n.changedTouches[0].identifier:n.pointerId||999},releaseCanvas(...n){!_t.releaseCanvasOnDestroy||n.forEach(t=>{t.width=0,t.height=0})}};function Hr(n){return F._isString(n)?'"'+n+'"':Object.prototype.toString.call(n)==="[object Number]"||F._isBoolean(n)?n:Object.prototype.toString.call(n)}function fv(n){return n>255?255:n<0?0:Math.round(n)}function it(){if(_t.isUnminified)return function(n,t){return F._isNumber(n)||F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),n}}function cv(n){if(_t.isUnminified)return function(t,e){let i=F._isNumber(t),s=F._isArray(t)&&t.length==n;return!i&&!s&&F.warn(Hr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or Array<number>('+n+")"),t}}function hf(){if(_t.isUnminified)return function(n,t){var e=F._isNumber(n),i=n==="auto";return e||i||F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),n}}function cs(){if(_t.isUnminified)return function(n,t){return F._isString(n)||F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),n}}function dv(){if(_t.isUnminified)return function(n,t){const e=F._isString(n),i=Object.prototype.toString.call(n)==="[object CanvasGradient]"||n&&n.addColorStop;return e||i||F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),n}}function bA(){if(_t.isUnminified)return function(n,t){const e=Int8Array?Object.getPrototypeOf(Int8Array):null;return e&&n instanceof e||(F._isArray(n)?n.forEach(function(i){F._isNumber(i)||F.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),n}}function Nn(){if(_t.isUnminified)return function(n,t){var e=n===!0||n===!1;return e||F.warn(Hr(n)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),n}}function wA(n){if(_t.isUnminified)return function(t,e){return t==null||F.isObject(t)||F.warn(Hr(t)+' is a not valid value for "'+e+'" attribute. The value should be an object with properties '+n),t}}var Ms="get",Ls="set";const E={addGetterSetter(n,t,e,i,s){E.addGetter(n,t,e),E.addSetter(n,t,i,s),E.addOverloadedGetterSetter(n,t)},addGetter(n,t,e){var i=Ms+F._capitalize(t);n.prototype[i]=n.prototype[i]||function(){var s=this.attrs[t];return s===void 0?e:s}},addSetter(n,t,e,i){var s=Ls+F._capitalize(t);n.prototype[s]||E.overWriteSetter(n,t,e,i)},overWriteSetter(n,t,e,i){var s=Ls+F._capitalize(t);n.prototype[s]=function(o){return e&&o!==void 0&&o!==null&&(o=e.call(this,o,t)),this._setAttr(t,o),i&&i.call(this),this}},addComponentsGetterSetter(n,t,e,i,s){var o=e.length,l=F._capitalize,u=Ms+l(t),f=Ls+l(t),c,g;n.prototype[u]=function(){var v={};for(c=0;c<o;c++)g=e[c],v[g]=this.getAttr(t+l(g));return v};var p=wA(e);n.prototype[f]=function(v){var b=this.attrs[t],m;i&&(v=i.call(this,v)),p&&p.call(this,v,t);for(m in v)!v.hasOwnProperty(m)||this._setAttr(t+l(m),v[m]);return v||e.forEach(P=>{this._setAttr(t+l(P),void 0)}),this._fireChangeEvent(t,b,v),s&&s.call(this),this},E.addOverloadedGetterSetter(n,t)},addOverloadedGetterSetter(n,t){var e=F._capitalize(t),i=Ls+e,s=Ms+e;n.prototype[t]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter(n,t,e,i){F.error("Adding deprecated "+t);var s=Ms+F._capitalize(t),o=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";n.prototype[s]=function(){F.error(o);var l=this.attrs[t];return l===void 0?e:l},E.addSetter(n,t,i,function(){F.error(o)}),E.addOverloadedGetterSetter(n,t)},backCompat(n,t){F.each(t,function(e,i){var s=n.prototype[i],o=Ms+F._capitalize(e),l=Ls+F._capitalize(e);function u(){s.apply(this,arguments),F.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+i+'" instead.')}n.prototype[e]=u,n.prototype[o]=u,n.prototype[l]=u})},afterSetFilter(){this._filterUpToDate=!1}};function SA(n){var t=[],e=n.length,i=F,s,o;for(s=0;s<e;s++)o=n[s],i._isNumber(o)?o=Math.round(o*1e3)/1e3:i._isString(o)||(o=o+""),t.push(o);return t}var Hg=",",CA="(",xA=")",EA="([",TA="])",AA=";",PA="()",OA="=",Ug=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],RA=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const MA=100;class cl{constructor(t){this.canvas=t,_t.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,e){var i=this.traceArr,s=i.length,o="",l,u,f,c;for(l=0;l<s;l++)u=i[l],f=u.method,f?(c=u.args,o+=f,t?o+=PA:F._isArray(c[0])?o+=EA+c.join(Hg)+TA:(e&&(c=c.map(g=>typeof g=="number"?Math.floor(g):g)),o+=CA+c.join(Hg)+xA)):(o+=u.property,t||(o+=OA+u.val)),o+=AA;return o}clearTrace(){this.traceArr=[]}_trace(t){var e=this.traceArr,i;e.push(t),i=e.length,i>=MA&&e.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)}_applyLineCap(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)}_applyOpacity(t){var e=t.getAbsoluteOpacity();e!==1&&this.setAttr("globalAlpha",e)}_applyLineJoin(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)}setAttr(t,e){this._context[t]=e}arc(t,e,i,s,o,l){this._context.arc(t,e,i,s,o,l)}arcTo(t,e,i,s,o){this._context.arcTo(t,e,i,s,o)}beginPath(){this._context.beginPath()}bezierCurveTo(t,e,i,s,o,l){this._context.bezierCurveTo(t,e,i,s,o,l)}clearRect(t,e,i,s){this._context.clearRect(t,e,i,s)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,e){var i=arguments;if(i.length===2)return this._context.createImageData(t,e);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,e,i,s){return this._context.createLinearGradient(t,e,i,s)}createPattern(t,e){return this._context.createPattern(t,e)}createRadialGradient(t,e,i,s,o,l){return this._context.createRadialGradient(t,e,i,s,o,l)}drawImage(t,e,i,s,o,l,u,f,c){var g=arguments,p=this._context;g.length===3?p.drawImage(t,e,i):g.length===5?p.drawImage(t,e,i,s,o):g.length===9&&p.drawImage(t,e,i,s,o,l,u,f,c)}ellipse(t,e,i,s,o,l,u,f){this._context.ellipse(t,e,i,s,o,l,u,f)}isPointInPath(t,e){return this._context.isPointInPath(t,e)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,e,i,s){this._context.fillRect(t,e,i,s)}strokeRect(t,e,i,s){this._context.strokeRect(t,e,i,s)}fillText(t,e,i,s){s?this._context.fillText(t,e,i,s):this._context.fillText(t,e,i)}measureText(t){return this._context.measureText(t)}getImageData(t,e,i,s){return this._context.getImageData(t,e,i,s)}lineTo(t,e){this._context.lineTo(t,e)}moveTo(t,e){this._context.moveTo(t,e)}rect(t,e,i,s){this._context.rect(t,e,i,s)}putImageData(t,e,i){this._context.putImageData(t,e,i)}quadraticCurveTo(t,e,i,s){this._context.quadraticCurveTo(t,e,i,s)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,e){this._context.scale(t,e)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,e,i,s,o,l){this._context.setTransform(t,e,i,s,o,l)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,e,i,s){this._context.strokeText(t,e,i,s)}transform(t,e,i,s,o,l){this._context.transform(t,e,i,s,o,l)}translate(t,e){this._context.translate(t,e)}_enableTrace(){var t=this,e=Ug.length,i=this.setAttr,s,o,l=function(u){var f=t[u],c;t[u]=function(){return o=SA(Array.prototype.slice.call(arguments,0)),c=f.apply(t,arguments),t._trace({method:u,args:o}),c}};for(s=0;s<e;s++)l(Ug[s]);t.setAttr=function(){i.apply(t,arguments);var u=arguments[0],f=arguments[1];(u==="shadowOffsetX"||u==="shadowOffsetY"||u==="shadowBlur")&&(f=f/this.canvas.getPixelRatio()),t._trace({property:u,val:f})}}_applyGlobalCompositeOperation(t){const e=t.attrs.globalCompositeOperation;var i=!e||e==="source-over";i||this.setAttr("globalCompositeOperation",e)}}RA.forEach(function(n){Object.defineProperty(cl.prototype,n,{get(){return this._context[n]},set(t){this._context[n]=t}})});class LA extends cl{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fillRadialGradient(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))}_fill(t){var e=t.fill(),i=t.getFillPriority();if(e&&i==="color"){this._fillColor(t);return}var s=t.getFillPatternImage();if(s&&i==="pattern"){this._fillPattern(t);return}var o=t.getFillLinearGradientColorStops();if(o&&i==="linear-gradient"){this._fillLinearGradient(t);return}var l=t.getFillRadialGradientColorStops();if(l&&i==="radial-gradient"){this._fillRadialGradient(t);return}e?this._fillColor(t):s?this._fillPattern(t):o?this._fillLinearGradient(t):l&&this._fillRadialGradient(t)}_strokeLinearGradient(t){var e=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),s=t.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(e.x,e.y,i.x,i.y);if(s){for(var l=0;l<s.length;l+=2)o.addColorStop(s[l],s[l+1]);this.setAttr("strokeStyle",o)}}_stroke(t){var e=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var s=this.getCanvas().getPixelRatio();this.setTransform(s,0,0,s,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var o=t.getStrokeLinearGradientColorStops();o?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var e,i,s,o=(e=t.getShadowRGBA())!==null&&e!==void 0?e:"black",l=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,u=(s=t.getShadowOffset())!==null&&s!==void 0?s:{x:0,y:0},f=t.getAbsoluteScale(),c=this.canvas.getPixelRatio(),g=f.x*c,p=f.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",l*Math.min(Math.abs(g),Math.abs(p))),this.setAttr("shadowOffsetX",u.x*g),this.setAttr("shadowOffsetY",u.y*p)}}class IA extends cl{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t);var s=t.hitStrokeWidth(),o=s==="auto"?t.strokeWidth():s;this.setAttr("lineWidth",o),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}}var bo;function kA(){if(bo)return bo;var n=F.createCanvasElement(),t=n.getContext("2d");return bo=function(){var e=_t._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return e/i}(),F.releaseCanvas(n),bo}class dl{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=t||{},i=e.pixelRatio||_t.pixelRatio||kA();this.pixelRatio=i,this._canvas=F.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,i=this.getContext()._context;i.scale(e,e)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,e){this.setWidth(t||0),this.setHeight(e||0)}toDataURL(t,e){try{return this._canvas.toDataURL(t,e)}catch{try{return this._canvas.toDataURL()}catch(s){return F.error("Unable to get data URL. "+s.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}E.addGetterSetter(dl,"pixelRatio",void 0,it());class ns extends dl{constructor(t={width:0,height:0}){super(t),this.context=new LA(this),this.setSize(t.width,t.height)}}class ff extends dl{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new IA(this),this.setSize(t.width,t.height)}}const zt={get isDragging(){var n=!1;return zt._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return zt._dragElements.forEach(t=>{n=t.node}),n},_dragElements:new Map,_drag(n){const t=[];zt._dragElements.forEach((e,i)=>{const{node:s}=e,o=s.getStage();o.setPointersPositions(n),e.pointerId===void 0&&(e.pointerId=F._getFirstPointerId(n));const l=o._changedPointerPositions.find(c=>c.id===e.pointerId);if(!!l){if(e.dragStatus!=="dragging"){var u=s.dragDistance(),f=Math.max(Math.abs(l.x-e.startPointerPos.x),Math.abs(l.y-e.startPointerPos.y));if(f<u||(s.startDrag({evt:n}),!s.isDragging()))return}s._setDragPosition(n,e),t.push(s)}}),t.forEach(e=>{e.fire("dragmove",{type:"dragmove",target:e,evt:n},!0)})},_endDragBefore(n){const t=[];zt._dragElements.forEach(e=>{const{node:i}=e,s=i.getStage();if(n&&s.setPointersPositions(n),!s._changedPointerPositions.find(u=>u.id===e.pointerId))return;(e.dragStatus==="dragging"||e.dragStatus==="stopped")&&(zt.justDragged=!0,_t._mouseListenClick=!1,_t._touchListenClick=!1,_t._pointerListenClick=!1,e.dragStatus="stopped");const l=e.node.getLayer()||e.node instanceof _t.Stage&&e.node;l&&t.indexOf(l)===-1&&t.push(l)}),t.forEach(e=>{e.draw()})},_endDragAfter(n){zt._dragElements.forEach((t,e)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:n},!0),t.dragStatus!=="dragging"&&zt._dragElements.delete(e)})}};_t.isBrowser&&(window.addEventListener("mouseup",zt._endDragBefore,!0),window.addEventListener("touchend",zt._endDragBefore,!0),window.addEventListener("mousemove",zt._drag),window.addEventListener("touchmove",zt._drag),window.addEventListener("mouseup",zt._endDragAfter,!1),window.addEventListener("touchend",zt._endDragAfter,!1));var Lo="absoluteOpacity",wo="allEventListeners",sr="absoluteTransform",Wg="absoluteScale",ei="canvas",DA="Change",FA="children",NA="konva",mh="listening",zg="mouseenter",$g="mouseleave",Yg="set",Kg="Shape",Io=" ",Xg="stage",Rr="transform",GA="Stage",yh="visible",BA=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Io);let HA=1;class st{constructor(t){this._id=HA++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Rr||t===sr)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,e){var i=this._cache.get(t),s=t===Rr||t===sr,o=i===void 0||s&&i.dirty===!0;return o&&(i=e.call(this),this._cache.set(t,i)),i}_calculate(t,e,i){if(!this._attachedDepsListeners.get(t)){const s=e.map(o=>o+"Change.konva").join(Io);this.on(s,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(ei)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===sr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ei)){const{scene:t,filter:e,hit:i}=this._cache.get(ei);F.releaseCanvas(t,e,i),this._cache.delete(ei)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var e=t||{},i={};(e.x===void 0||e.y===void 0||e.width===void 0||e.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var s=Math.ceil(e.width||i.width),o=Math.ceil(e.height||i.height),l=e.pixelRatio,u=e.x===void 0?Math.floor(i.x):e.x,f=e.y===void 0?Math.floor(i.y):e.y,c=e.offset||0,g=e.drawBorder||!1,p=e.hitCanvasPixelRatio||1;if(!s||!o){F.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}s+=c*2+1,o+=c*2+1,u-=c,f-=c;var v=new ns({pixelRatio:l,width:s,height:o}),b=new ns({pixelRatio:l,width:0,height:0}),m=new ff({pixelRatio:p,width:s,height:o}),P=v.getContext(),A=m.getContext();return m.isCache=!0,v.isCache=!0,this._cache.delete(ei),this._filterUpToDate=!1,e.imageSmoothingEnabled===!1&&(v.getContext()._context.imageSmoothingEnabled=!1,b.getContext()._context.imageSmoothingEnabled=!1),P.save(),A.save(),P.translate(-u,-f),A.translate(-u,-f),this._isUnderCache=!0,this._clearSelfAndDescendantCache(Lo),this._clearSelfAndDescendantCache(Wg),this.drawScene(v,this),this.drawHit(m,this),this._isUnderCache=!1,P.restore(),A.restore(),g&&(P.save(),P.beginPath(),P.rect(0,0,s,o),P.closePath(),P.setAttr("strokeStyle","red"),P.setAttr("lineWidth",5),P.stroke(),P.restore()),this._cache.set(ei,{scene:v,filter:b,hit:m,x:u,y:f}),this._requestDraw(),this}isCached(){return this._cache.has(ei)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,e){var i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s,o,l,u,f=this.getAbsoluteTransform(e);return i.forEach(function(c){var g=f.point(c);s===void 0&&(s=l=g.x,o=u=g.y),s=Math.min(s,g.x),o=Math.min(o,g.y),l=Math.max(l,g.x),u=Math.max(u,g.y)}),{x:s,y:o,width:l-s,height:u-o}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const e=this._getCanvasCache();t.translate(e.x,e.y);var i=this._getCachedSceneCanvas(),s=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/s,i.height/s),t.restore()}_drawCachedHitCanvas(t){var e=this._getCanvasCache(),i=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),e=this._getCanvasCache(),i=e.scene,s=e.filter,o=s.getContext(),l,u,f,c;if(t){if(!this._filterUpToDate){var g=i.pixelRatio;s.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(l=t.length,o.clear(),o.drawImage(i._canvas,0,0,i.getWidth()/g,i.getHeight()/g),u=o.getImageData(0,0,s.getWidth(),s.getHeight()),f=0;f<l;f++){if(c=t[f],typeof c!="function"){F.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,u),o.putImageData(u,0,0)}}catch(p){F.error("Unable to apply filter. "+p.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return s}return i}on(t,e){if(this._cache&&this._cache.delete(wo),arguments.length===3)return this._delegate.apply(this,arguments);var i=t.split(Io),s=i.length,o,l,u,f,c;for(o=0;o<s;o++)l=i[o],u=l.split("."),f=u[0],c=u[1]||"",this.eventListeners[f]||(this.eventListeners[f]=[]),this.eventListeners[f].push({name:c,handler:e});return this}off(t,e){var i=(t||"").split(Io),s=i.length,o,l,u,f,c,g;if(this._cache&&this._cache.delete(wo),!t)for(l in this.eventListeners)this._off(l);for(o=0;o<s;o++)if(u=i[o],f=u.split("."),c=f[0],g=f[1],c)this.eventListeners[c]&&this._off(c,g,e);else for(l in this.eventListeners)this._off(l,g,e);return this}dispatchEvent(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this}addEventListener(t,e){return this.on(t,function(i){e.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,e,i){var s=this;this.on(t,function(o){for(var l=o.target.findAncestors(e,!0,s),u=0;u<l.length;u++)o=F.cloneObject(o),o.currentTarget=l[u],i.call(l[u],o)})}remove(){return this.isDragging()&&this.stopDrag(),zt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(sr),this._clearSelfAndDescendantCache(Lo),this._clearSelfAndDescendantCache(Wg),this._clearSelfAndDescendantCache(Xg),this._clearSelfAndDescendantCache(yh),this._clearSelfAndDescendantCache(mh)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var e="get"+F._capitalize(t);return F._isFunction(this[e])?this[e]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),e=[];t;)e.push(t),t=t.getParent();return e}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var e,i;if(!t)return this;for(e in t)e!==FA&&(i=Yg+F._capitalize(e),F._isFunction(this[i])?this[i](t[e]):this._setAttr(e,t[e]))}),this}isListening(){return this._getCache(mh,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(yh,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,e=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),s=!1;zt._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(l.node.nodeType==="Stage"||l.node.getLayer()===i)&&(s=!0)});var o=!e&&!_t.hitOnDragEnabled&&s;return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),e=this,i=0,s,o,l,u;function f(c){for(s=[],o=c.length,l=0;l<o;l++)u=c[l],i++,u.nodeType!==Kg&&(s=s.concat(u.getChildren().slice())),u._id===e._id&&(l=o);s.length>0&&s[0].getDepth()<=t&&f(s)}return e.nodeType!==GA&&f(e.getStage().getChildren()),i}getDepth(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Rr),this._clearSelfAndDescendantCache(sr)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var e=this.getAbsoluteTransform().copy();return e.invert(),e.point(t)}getAbsolutePosition(t){let e=!1,i=this.parent;for(;i;){if(i.isCached()){e=!0;break}i=i.parent}e&&!t&&(t=!0);var s=this.getAbsoluteTransform(t).getMatrix(),o=new un,l=this.offset();return o.m=s.slice(),o.translate(l.x,l.y),o.getTranslation()}setAbsolutePosition(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(Rr);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(Rr),this._clearSelfAndDescendantCache(sr),this}_setTransform(t){var e;for(e in t)this.attrs[e]=t[e]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var e=t.x,i=t.y,s=this.x(),o=this.y();return e!==void 0&&(s+=e),i!==void 0&&(o+=i),this.setPosition({x:s,y:o}),this}_eachAncestorReverse(t,e){var i=[],s=this.getParent(),o,l;if(!(e&&e._id===this._id)){for(i.unshift(this);s&&(!e||s._id!==e._id);)i.unshift(s),s=s.parent;for(o=i.length,l=0;l<o;l++)t(i[l])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return F.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,e=this.parent.getChildren().length;return t<e-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return F.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,e=this.parent.getChildren().length;return t<e-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return F.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return F.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return F.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&F.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(Lo,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},e=this.getAttrs(),i,s,o,l,u;t.attrs={};for(i in e)s=e[i],u=F.isObject(s)&&!F._isPlainObject(s)&&!F._isArray(s),!u&&(o=typeof this[i]=="function"&&this[i],delete e[i],l=o?o.call(this):null,e[i]=s,l!==s&&(t.attrs[i]=s));return t.className=this.getClassName(),F._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,e,i){var s=[];e&&this._isMatch(t)&&s.push(this);for(var o=this.parent;o;){if(o===i)return s;o._isMatch(t)&&s.push(o),o=o.parent}return s}isAncestorOf(t){return!1}findAncestor(t,e,i){return this.findAncestors(t,e,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var e=t.replace(/ /g,"").split(","),i=e.length,s,o;for(s=0;s<i;s++)if(o=e[s],F.isValidSelector(o)||(F.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),F.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),F.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(Xg,this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,e={},i){return e.target=e.target||this,i?this._fireAndBubble(t,e):this._fire(t,e),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(sr,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var e;if(t)return e=new un,this._eachAncestorReverse(function(s){var o=s.transformsEnabled();o==="all"?e.multiply(s.getTransform()):o==="position"&&e.translate(s.x()-s.offsetX(),s.y()-s.offsetY())},t),e;e=this._cache.get(sr)||new un,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var i=this.transformsEnabled();if(i==="all")e.multiply(this.getTransform());else if(i==="position"){const s=this.attrs.x||0,o=this.attrs.y||0,l=this.attrs.offsetX||0,u=this.attrs.offsetY||0;e.translate(s-l,o-u)}return e.dirty=!1,e}getAbsoluteScale(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();const s=this.getAbsoluteTransform(t).decompose();return{x:s.scaleX,y:s.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Rr,this._getTransform)}_getTransform(){var t,e,i=this._cache.get(Rr)||new un;i.reset();var s=this.x(),o=this.y(),l=_t.getAngle(this.rotation()),u=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,f=(e=this.attrs.scaleY)!==null&&e!==void 0?e:1,c=this.attrs.skewX||0,g=this.attrs.skewY||0,p=this.attrs.offsetX||0,v=this.attrs.offsetY||0;return(s!==0||o!==0)&&i.translate(s,o),l!==0&&i.rotate(l),(c!==0||g!==0)&&i.skew(c,g),(u!==1||f!==1)&&i.scale(u,f),(p!==0||v!==0)&&i.translate(-1*p,-1*v),i.dirty=!1,i}clone(t){var e=F.cloneObject(this.attrs),i,s,o,l,u;for(i in t)e[i]=t[i];var f=new this.constructor(e);for(i in this.eventListeners)for(s=this.eventListeners[i],o=s.length,l=0;l<o;l++)u=s[l],u.name.indexOf(NA)<0&&(f.eventListeners[i]||(f.eventListeners[i]=[]),f.eventListeners[i].push(u));return f}_toKonvaCanvas(t){t=t||{};var e=this.getClientRect(),i=this.getStage(),s=t.x!==void 0?t.x:Math.floor(e.x),o=t.y!==void 0?t.y:Math.floor(e.y),l=t.pixelRatio||1,u=new ns({width:t.width||Math.ceil(e.width)||(i?i.width():0),height:t.height||Math.ceil(e.height)||(i?i.height():0),pixelRatio:l}),f=u.getContext();return t.imageSmoothingEnabled===!1&&(f._context.imageSmoothingEnabled=!1),f.save(),(s||o)&&f.translate(-1*s,-1*o),this.drawScene(u),f.restore(),u}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var e=t.mimeType||null,i=t.quality||null,s=this._toKonvaCanvas(t).toDataURL(e,i);return t.callback&&t.callback(s),s}toImage(t){return new Promise((e,i)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,F._urlToImage(this.toDataURL(t),function(o){e(o),s==null||s(o)})}catch(s){i(s)}})}toBlob(t){return new Promise((e,i)=>{try{const s=t==null?void 0:t.callback;s&&delete t.callback,this.toCanvas(t).toBlob(o=>{e(o),s==null||s(o)})}catch(s){i(s)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():_t.dragDistance}_off(t,e,i){var s=this.eventListeners[t],o,l,u;for(o=0;o<s.length;o++)if(l=s[o].name,u=s[o].handler,(l!=="konva"||e==="konva")&&(!e||l===e)&&(!i||i===u)){if(s.splice(o,1),s.length===0){delete this.eventListeners[t];break}o--}}_fireChangeEvent(t,e,i){this._fire(t+DA,{oldVal:e,newVal:i})}addName(t){if(!this.hasName(t)){var e=this.name(),i=e?e+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const e=this.name();if(!e)return!1;var i=(e||"").split(/\s/g);return i.indexOf(t)!==-1}removeName(t){var e=(this.name()||"").split(/\s/g),i=e.indexOf(t);return i!==-1&&(e.splice(i,1),this.name(e.join(" "))),this}setAttr(t,e){var i=this[Yg+F._capitalize(t)];return F._isFunction(i)?i.call(this,e):this._setAttr(t,e),this}_requestDraw(){if(_t.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,e){var i=this.attrs[t];i===e&&!F.isObject(e)||(e==null?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e),this._requestDraw())}_setComponentAttr(t,e,i){var s;i!==void 0&&(s=this.attrs[t],s||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=i,this._fireChangeEvent(t,s,i))}_fireAndBubble(t,e,i){e&&this.nodeType===Kg&&(e.target=this);var s=(t===zg||t===$g)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!s){this._fire(t,e);var o=(t===zg||t===$g)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!o&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,e,i):this._fireAndBubble.call(this.parent,t,e))}}_getProtoListeners(t){let e=this._cache.get(wo);if(!e){e={};let s=Object.getPrototypeOf(this);for(;s;){if(!s.eventListeners){s=Object.getPrototypeOf(s);continue}for(var i in s.eventListeners){const o=s.eventListeners[i],l=e[i]||[];e[i]=o.concat(l)}s=Object.getPrototypeOf(s)}this._cache.set(wo,e)}return e[t]}_fire(t,e){e=e||{},e.currentTarget=this,e.type=t;const i=this._getProtoListeners(t);if(i)for(var s=0;s<i.length;s++)i[s].handler.call(this,e);const o=this.eventListeners[t];if(o)for(var s=0;s<o.length;s++)o[s].handler.call(this,e)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var e=t?t.pointerId:void 0,i=this.getStage(),s=this.getAbsolutePosition(),o=i._getPointerById(e)||i._changedPointerPositions[0]||s;zt._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-s.x,y:o.y-s.y},dragStatus:"ready",pointerId:e})}startDrag(t,e=!0){zt._dragElements.has(this._id)||this._createDragElement(t);const i=zt._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)}_setDragPosition(t,e){const i=this.getStage()._getPointerById(e.pointerId);if(!!i){var s={x:i.x-e.offset.x,y:i.y-e.offset.y},o=this.dragBoundFunc();if(o!==void 0){const l=o.call(this,s,t);l?s=l:F.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==s.x||this._lastPos.y!==s.y)&&(this.setAbsolutePosition(s),this._requestDraw()),this._lastPos=s}}stopDrag(t){const e=zt._dragElements.get(this._id);e&&(e.dragStatus="stopped"),zt._endDragBefore(t),zt._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=zt._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var e=t.evt.button!==void 0,i=!e||_t.dragButtons.indexOf(t.evt.button)>=0;if(!!i&&!this.isDragging()){var s=!1;zt._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(s=!0)}),s||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const e=zt._dragElements.get(this._id),i=e&&e.dragStatus==="dragging",s=e&&e.dragStatus==="ready";i?this.stopDrag():s&&zt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const e=this.getStage();if(!e)return!1;const i={x:-t.x,y:-t.y,width:e.width()+2*t.x,height:e.height()+2*t.y};return F.haveIntersection(i,this.getClientRect())}static create(t,e){return F._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)}static _createNode(t,e){var i=st.prototype.getClassName.call(t),s=t.children,o,l,u;e&&(t.attrs.container=e),_t[i]||(F.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const f=_t[i];if(o=new f(t.attrs),s)for(l=s.length,u=0;u<l;u++)o.add(st._createNode(s[u]));return o}}st.prototype.nodeType="Node";st.prototype._attrsAffectingSize=[];st.prototype.eventListeners={};st.prototype.on.call(st.prototype,BA,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Rr),this._clearSelfAndDescendantCache(sr)});st.prototype.on.call(st.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(yh)});st.prototype.on.call(st.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(mh)});st.prototype.on.call(st.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(Lo)});const re=E.addGetterSetter;re(st,"zIndex");re(st,"absolutePosition");re(st,"position");re(st,"x",0,it());re(st,"y",0,it());re(st,"globalCompositeOperation","source-over",cs());re(st,"opacity",1,it());re(st,"name","",cs());re(st,"id","",cs());re(st,"rotation",0,it());E.addComponentsGetterSetter(st,"scale",["x","y"]);re(st,"scaleX",1,it());re(st,"scaleY",1,it());E.addComponentsGetterSetter(st,"skew",["x","y"]);re(st,"skewX",0,it());re(st,"skewY",0,it());E.addComponentsGetterSetter(st,"offset",["x","y"]);re(st,"offsetX",0,it());re(st,"offsetY",0,it());re(st,"dragDistance",null,it());re(st,"width",0,it());re(st,"height",0,it());re(st,"listening",!0,Nn());re(st,"preventDefault",!0,Nn());re(st,"filters",null,function(n){return this._filterUpToDate=!1,n});re(st,"visible",!0,Nn());re(st,"transformsEnabled","all",cs());re(st,"size");re(st,"dragBoundFunc");re(st,"draggable",!1,Nn());E.backCompat(st,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class cn extends st{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const e=this.children||[];var i=[];return e.forEach(function(s){t(s)&&i.push(s)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}var i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0}_generalFind(t,e){var i=[];return this._descendants(s=>{const o=s._isMatch(t);return o&&i.push(s),!!(o&&e)}),i}_descendants(t){let e=!1;const i=this.getChildren();for(const s of i){if(e=t(s),e)return!0;if(!!s.hasChildren()&&(e=s._descendants(t),e))return!0}return!1}toObject(){var t=st.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(e=>{t.children.push(e.toObject())}),t}isAncestorOf(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1}clone(t){var e=st.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){e.add(i.clone())}),e}getAllIntersections(t){var e=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(t)&&e.push(i)}),e}_clearSelfAndDescendantCache(t){var e;super._clearSelfAndDescendantCache(t),!this.isCached()&&((e=this.children)===null||e===void 0||e.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(e,i){e.index=i}),this._requestDraw()}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas(),o=s&&s.getContext(),l=this._getCanvasCache(),u=l&&l.scene,f=s&&s.isCache;if(!this.isVisible()&&!f)return this;if(u){o.save();var c=this.getAbsoluteTransform(e).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",s,e);return this}drawHit(t,e){if(!this.shouldDrawHit(e))return this;var i=this.getLayer(),s=t||i&&i.hitCanvas,o=s&&s.getContext(),l=this._getCanvasCache(),u=l&&l.hit;if(u){o.save();var f=this.getAbsoluteTransform(e).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",s,e);return this}_drawChildren(t,e,i){var s,o=e&&e.getContext(),l=this.clipWidth(),u=this.clipHeight(),f=this.clipFunc(),c=l&&u||f;const g=i===this;if(c){o.save();var p=this.getAbsoluteTransform(i),v=p.getMatrix();if(o.transform(v[0],v[1],v[2],v[3],v[4],v[5]),o.beginPath(),f)f.call(this,o,this);else{var b=this.clipX(),m=this.clipY();o.rect(b,m,l,u)}o.clip(),v=p.copy().invert().getMatrix(),o.transform(v[0],v[1],v[2],v[3],v[4],v[5])}var P=!g&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";P&&(o.save(),o._applyGlobalCompositeOperation(this)),(s=this.children)===null||s===void 0||s.forEach(function(A){A[t](e,i)}),P&&o.restore(),c&&o.restore()}getClientRect(t){var e;t=t||{};var i=t.skipTransform,s=t.relativeTo,o,l,u,f,c={x:1/0,y:1/0,width:0,height:0},g=this;(e=this.children)===null||e===void 0||e.forEach(function(P){if(!!P.visible()){var A=P.getClientRect({relativeTo:g,skipShadow:t.skipShadow,skipStroke:t.skipStroke});A.width===0&&A.height===0||(o===void 0?(o=A.x,l=A.y,u=A.x+A.width,f=A.y+A.height):(o=Math.min(o,A.x),l=Math.min(l,A.y),u=Math.max(u,A.x+A.width),f=Math.max(f,A.y+A.height)))}});for(var p=this.find("Shape"),v=!1,b=0;b<p.length;b++){var m=p[b];if(m._isVisible(this)){v=!0;break}}return v&&o!==void 0?c={x:o,y:l,width:u-o,height:f-l}:c={x:0,y:0,width:0,height:0},i?c:this._transformedRect(c,s)}}E.addComponentsGetterSetter(cn,"clip",["x","y","width","height"]);E.addGetterSetter(cn,"clipX",void 0,it());E.addGetterSetter(cn,"clipY",void 0,it());E.addGetterSetter(cn,"clipWidth",void 0,it());E.addGetterSetter(cn,"clipHeight",void 0,it());E.addGetterSetter(cn,"clipFunc");const aa=new Map,gv=_t._global.PointerEvent!==void 0;function Uu(n){return aa.get(n)}function cf(n){return{evt:n,pointerId:n.pointerId}}function pv(n,t){return aa.get(n)===t}function _v(n,t){Xs(n),t.getStage()&&(aa.set(n,t),gv&&t._fire("gotpointercapture",cf(new PointerEvent("gotpointercapture"))))}function Xs(n,t){const e=aa.get(n);if(!e)return;const i=e.getStage();i&&i.content,aa.delete(n),gv&&e._fire("lostpointercapture",cf(new PointerEvent("lostpointercapture")))}var UA="Stage",WA="string",qg="px",zA="mouseout",vv="mouseleave",mv="mouseover",yv="mouseenter",bv="mousemove",wv="mousedown",Sv="mouseup",Ns="pointermove",Gs="pointerdown",Vi="pointerup",Bs="pointercancel",$A="lostpointercapture",So="pointerout",Co="pointerleave",xo="pointerover",Eo="pointerenter",bh="contextmenu",Cv="touchstart",xv="touchend",Ev="touchmove",Tv="touchcancel",wh="wheel",YA=5,KA=[[yv,"_pointerenter"],[wv,"_pointerdown"],[bv,"_pointermove"],[Sv,"_pointerup"],[vv,"_pointerleave"],[Cv,"_pointerdown"],[Ev,"_pointermove"],[xv,"_pointerup"],[Tv,"_pointercancel"],[mv,"_pointerover"],[wh,"_wheel"],[bh,"_contextmenu"],[Gs,"_pointerdown"],[Ns,"_pointermove"],[Vi,"_pointerup"],[Bs,"_pointercancel"],[$A,"_lostpointercapture"]];const Wu={mouse:{[So]:zA,[Co]:vv,[xo]:mv,[Eo]:yv,[Ns]:bv,[Gs]:wv,[Vi]:Sv,[Bs]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[So]:"touchout",[Co]:"touchleave",[xo]:"touchover",[Eo]:"touchenter",[Ns]:Ev,[Gs]:Cv,[Vi]:xv,[Bs]:Tv,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[So]:So,[Co]:Co,[xo]:xo,[Eo]:Eo,[Ns]:Ns,[Gs]:Gs,[Vi]:Vi,[Bs]:Bs,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Hs=n=>n.indexOf("pointer")>=0?"pointer":n.indexOf("touch")>=0?"touch":"mouse",Yi=n=>{const t=Hs(n);if(t==="pointer")return _t.pointerEventsEnabled&&Wu.pointer;if(t==="touch")return Wu.touch;if(t==="mouse")return Wu.mouse};function Vg(n={}){return(n.clipFunc||n.clipWidth||n.clipHeight)&&F.warn("Stage does not support clipping. Please use clip for Layers or Groups."),n}const XA="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",ko=[];class gl extends cn{constructor(t){super(Vg(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),ko.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Vg(this.attrs)}),this._checkVisibility()}_validateAdd(t){const e=t.getType()==="Layer",i=t.getType()==="FastLayer";e||i||F.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===WA){if(t.charAt(0)==="."){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var i;t.charAt(0)!=="#"?i=t:i=t.slice(1),t=document.getElementById(i)}if(!t)throw"Can not find container in document with id "+i}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t=this.children,e=t.length,i;for(i=0;i<e;i++)t[i].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),cn.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&F._isInDocument(t)&&this.container().removeChild(t);var e=ko.indexOf(this);return e>-1&&ko.splice(e,1),F.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(F.warn(XA),null)}_getPointerById(t){return this._pointerPositions.find(e=>e.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t=t||{},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var e=new ns({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),i=e.getContext()._context,s=this.children;return(t.x||t.y)&&i.translate(-1*t.x,-1*t.y),s.forEach(function(o){if(!!o.isVisible()){var l=o._toKonvaCanvas(t);i.drawImage(l._canvas,t.x,t.y,l.getWidth()/l.getPixelRatio(),l.getHeight()/l.getPixelRatio())}}),e}getIntersection(t){if(!t)return null;var e=this.children,i=e.length,s=i-1,o;for(o=s;o>=0;o--){const l=e[o].getIntersection(t);if(l)return l}return null}_resizeDOM(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+qg,this.content.style.height=e+qg),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.forEach(i=>{i.setSize({width:t,height:e}),i.draw()})}add(t,...e){if(arguments.length>1){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(t);var s=this.children.length;return s>YA&&F.warn("The stage has "+s+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),_t.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return pv(t,this)}setPointerCapture(t){_v(t,this)}releaseCapture(t){Xs(t)}getLayers(){return this.children}_bindContentEvents(){!_t.isBrowser||KA.forEach(([t,e])=>{this.content.addEventListener(t,i=>{this[e](i)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const e=Yi(t.type);this._fire(e.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const e=Yi(t.type);this._fire(e.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let e=this[t+"targetShape"];return e&&!e.getStage()&&(e=null),e}_pointerleave(t){const e=Yi(t.type),i=Hs(t.type);if(!!e){this.setPointersPositions(t);var s=this._getTargetShape(i),o=!zt.isDragging||_t.hitOnDragEnabled;s&&o?(s._fireAndBubble(e.pointerout,{evt:t}),s._fireAndBubble(e.pointerleave,{evt:t}),this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this[i+"targetShape"]=null):o&&(this._fire(e.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(e.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const e=Yi(t.type),i=Hs(t.type);if(!!e){this.setPointersPositions(t);var s=!1;this._changedPointerPositions.forEach(o=>{var l=this.getIntersection(o);if(zt.justDragged=!1,_t["_"+i+"ListenClick"]=!0,!(l&&l.isListening()))return;_t.capturePointerEventsEnabled&&l.setPointerCapture(o.id),this[i+"ClickStartShape"]=l,l._fireAndBubble(e.pointerdown,{evt:t,pointerId:o.id}),s=!0;const f=t.type.indexOf("touch")>=0;l.preventDefault()&&t.cancelable&&f&&t.preventDefault()}),s||this._fire(e.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const e=Yi(t.type),i=Hs(t.type);if(!e)return;zt.isDragging&&zt.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t);var s=!zt.isDragging||_t.hitOnDragEnabled;if(!s)return;var o={};let l=!1;var u=this._getTargetShape(i);this._changedPointerPositions.forEach(f=>{const c=Uu(f.id)||this.getIntersection(f),g=f.id,p={evt:t,pointerId:g};var v=u!==c;if(v&&u&&(u._fireAndBubble(e.pointerout,Object.assign({},p),c),u._fireAndBubble(e.pointerleave,Object.assign({},p),c)),c){if(o[c._id])return;o[c._id]=!0}c&&c.isListening()?(l=!0,v&&(c._fireAndBubble(e.pointerover,Object.assign({},p),u),c._fireAndBubble(e.pointerenter,Object.assign({},p),u),this[i+"targetShape"]=c),c._fireAndBubble(e.pointermove,Object.assign({},p))):u&&(this._fire(e.pointerover,{evt:t,target:this,currentTarget:this,pointerId:g}),this[i+"targetShape"]=null)}),l||this._fire(e.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const e=Yi(t.type),i=Hs(t.type);if(!e)return;this.setPointersPositions(t);const s=this[i+"ClickStartShape"],o=this[i+"ClickEndShape"];var l={};let u=!1;this._changedPointerPositions.forEach(f=>{const c=Uu(f.id)||this.getIntersection(f);if(c){if(c.releaseCapture(f.id),l[c._id])return;l[c._id]=!0}const g=f.id,p={evt:t,pointerId:g};let v=!1;_t["_"+i+"InDblClickWindow"]?(v=!0,clearTimeout(this[i+"DblTimeout"])):zt.justDragged||(_t["_"+i+"InDblClickWindow"]=!0,clearTimeout(this[i+"DblTimeout"])),this[i+"DblTimeout"]=setTimeout(function(){_t["_"+i+"InDblClickWindow"]=!1},_t.dblClickWindow),c&&c.isListening()?(u=!0,this[i+"ClickEndShape"]=c,c._fireAndBubble(e.pointerup,Object.assign({},p)),_t["_"+i+"ListenClick"]&&s&&s===c&&(c._fireAndBubble(e.pointerclick,Object.assign({},p)),v&&o&&o===c&&c._fireAndBubble(e.pointerdblclick,Object.assign({},p)))):(this[i+"ClickEndShape"]=null,_t["_"+i+"ListenClick"]&&this._fire(e.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:g}),v&&this._fire(e.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:g}))}),u||this._fire(e.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),_t["_"+i+"ListenClick"]=!1,t.cancelable&&i!=="touch"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(bh,{evt:t}):this._fire(bh,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(wh,{evt:t}):this._fire(wh,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const e=Uu(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(Vi,cf(t)),Xs(t.pointerId)}_lostpointercapture(t){Xs(t.pointerId)}setPointersPositions(t){var e=this._getContentPosition(),i=null,s=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,o=>{this._pointerPositions.push({id:o.identifier,x:(o.clientX-e.left)/e.scaleX,y:(o.clientY-e.top)/e.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,o=>{this._changedPointerPositions.push({id:o.identifier,x:(o.clientX-e.left)/e.scaleX,y:(o.clientY-e.top)/e.scaleY})})):(i=(t.clientX-e.left)/e.scaleX,s=(t.clientY-e.top)/e.scaleY,this.pointerPos={x:i,y:s},this._pointerPositions=[{x:i,y:s,id:F._getFirstPointerId(t)}],this._changedPointerPositions=[{x:i,y:s,id:F._getFirstPointerId(t)}])}_setPointerPosition(t){F.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new ns({width:this.width(),height:this.height()}),this.bufferHitCanvas=new ff({pixelRatio:1,width:this.width(),height:this.height()}),!!_t.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return F.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}}gl.prototype.nodeType=UA;ce(gl);E.addGetterSetter(gl,"container");var Av="hasShadow",Pv="shadowRGBA",Ov="patternImage",Rv="linearGradient",Mv="radialGradient";let To;function zu(){return To||(To=F.createCanvasElement().getContext("2d"),To)}const qs={};function qA(n){n.fill()}function VA(n){n.stroke()}function jA(n){n.fill()}function QA(n){n.stroke()}function JA(){this._clearCache(Av)}function ZA(){this._clearCache(Pv)}function tP(){this._clearCache(Ov)}function eP(){this._clearCache(Rv)}function nP(){this._clearCache(Mv)}class et extends st{constructor(t){super(t);let e;for(;e=F.getRandomColor(),!(e&&!(e in qs)););this.colorKey=e,qs[e]=this}getContext(){return F.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return F.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Av,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Ov,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var t=zu();const e=t.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(e&&e.setTransform){const i=new un;i.translate(this.fillPatternX(),this.fillPatternY()),i.rotate(_t.getAngle(this.fillPatternRotation())),i.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),i.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const s=i.getMatrix(),o=typeof DOMMatrix>"u"?{a:s[0],b:s[1],c:s[2],d:s[3],e:s[4],f:s[5]}:new DOMMatrix(s);e.setTransform(o)}return e}}_getLinearGradient(){return this._getCache(Rv,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var e=zu(),i=this.fillLinearGradientStartPoint(),s=this.fillLinearGradientEndPoint(),o=e.createLinearGradient(i.x,i.y,s.x,s.y),l=0;l<t.length;l+=2)o.addColorStop(t[l],t[l+1]);return o}}_getRadialGradient(){return this._getCache(Mv,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var e=zu(),i=this.fillRadialGradientStartPoint(),s=this.fillRadialGradientEndPoint(),o=e.createRadialGradient(i.x,i.y,this.fillRadialGradientStartRadius(),s.x,s.y,this.fillRadialGradientEndRadius()),l=0;l<t.length;l+=2)o.addColorStop(t[l],t[l+1]);return o}}getShadowRGBA(){return this._getCache(Pv,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var t=F.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var e=this.getStage(),i=e.bufferHitCanvas,s;return i.getContext().clear(),this.drawHit(i,null,!0),s=i.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,s[3]>0}destroy(){return st.prototype.destroy.call(this),delete qs[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var e;if(!this.getStage()||!((e=this.attrs.perfectDrawEnabled)!==null&&e!==void 0?e:!0))return!1;const s=t||this.hasFill(),o=this.hasStroke(),l=this.getAbsoluteOpacity()!==1;if(s&&o&&l)return!0;const u=this.hasShadow(),f=this.shadowForStrokeEnabled();return!!(s&&o&&u&&f)}setStrokeHitEnabled(t){F.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const e=t.skipTransform,i=t.relativeTo,s=this.getSelfRect(),l=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=s.width+l,f=s.height+l,c=!t.skipShadow&&this.hasShadow(),g=c?this.shadowOffsetX():0,p=c?this.shadowOffsetY():0,v=u+Math.abs(g),b=f+Math.abs(p),m=c&&this.shadowBlur()||0,P=v+m*2,A=b+m*2,T={width:P,height:A,x:-(l/2+m)+Math.min(g,0)+s.x,y:-(l/2+m)+Math.min(p,0)+s.y};return e?T:this._transformedRect(T,i)}drawScene(t,e){var i=this.getLayer(),s=t||i.getCanvas(),o=s.getContext(),l=this._getCanvasCache(),u=this.getSceneFunc(),f=this.hasShadow(),c,g,p,v=s.isCache,b=e===this;if(!this.isVisible()&&!b)return this;if(l){o.save();var m=this.getAbsoluteTransform(e).getMatrix();return o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!u)return this;if(o.save(),this._useBufferCanvas()&&!v){c=this.getStage(),g=c.bufferCanvas,p=g.getContext(),p.clear(),p.save(),p._applyLineJoin(this);var P=this.getAbsoluteTransform(e).getMatrix();p.transform(P[0],P[1],P[2],P[3],P[4],P[5]),u.call(this,p,this),p.restore();var A=g.pixelRatio;f&&o._applyShadow(this),o._applyOpacity(this),o._applyGlobalCompositeOperation(this),o.drawImage(g._canvas,0,0,g.width/A,g.height/A)}else{if(o._applyLineJoin(this),!b){var P=this.getAbsoluteTransform(e).getMatrix();o.transform(P[0],P[1],P[2],P[3],P[4],P[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}f&&o._applyShadow(this),u.call(this,o,this)}return o.restore(),this}drawHit(t,e,i=!1){if(!this.shouldDrawHit(e,i))return this;var s=this.getLayer(),o=t||s.hitCanvas,l=o&&o.getContext(),u=this.hitFunc()||this.sceneFunc(),f=this._getCanvasCache(),c=f&&f.hit;if(this.colorKey||F.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),c){l.save();var g=this.getAbsoluteTransform(e).getMatrix();return l.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedHitCanvas(l),l.restore(),this}if(!u)return this;if(l.save(),l._applyLineJoin(this),!(this===e)){var v=this.getAbsoluteTransform(e).getMatrix();l.transform(v[0],v[1],v[2],v[3],v[4],v[5])}return u.call(this,l,this),l.restore(),this}drawHitFromCache(t=0){var e=this._getCanvasCache(),i=this._getCachedSceneCanvas(),s=e.hit,o=s.getContext(),l=s.getWidth(),u=s.getHeight(),f,c,g,p,v,b;o.clear(),o.drawImage(i._canvas,0,0,l,u);try{for(f=o.getImageData(0,0,l,u),c=f.data,g=c.length,p=F._hexToRgb(this.colorKey),v=0;v<g;v+=4)b=c[v+3],b>t?(c[v]=p.r,c[v+1]=p.g,c[v+2]=p.b,c[v+3]=255):c[v+3]=0;o.putImageData(f,0,0)}catch(m){F.error("Unable to draw hit graph from cached scene canvas. "+m.message)}return this}hasPointerCapture(t){return pv(t,this)}setPointerCapture(t){_v(t,this)}releaseCapture(t){Xs(t)}}et.prototype._fillFunc=qA;et.prototype._strokeFunc=VA;et.prototype._fillFuncHit=jA;et.prototype._strokeFuncHit=QA;et.prototype._centroid=!1;et.prototype.nodeType="Shape";ce(et);et.prototype.eventListeners={};et.prototype.on.call(et.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",JA);et.prototype.on.call(et.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",ZA);et.prototype.on.call(et.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",tP);et.prototype.on.call(et.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",eP);et.prototype.on.call(et.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",nP);E.addGetterSetter(et,"stroke",void 0,dv());E.addGetterSetter(et,"strokeWidth",2,it());E.addGetterSetter(et,"fillAfterStrokeEnabled",!1);E.addGetterSetter(et,"hitStrokeWidth","auto",hf());E.addGetterSetter(et,"strokeHitEnabled",!0,Nn());E.addGetterSetter(et,"perfectDrawEnabled",!0,Nn());E.addGetterSetter(et,"shadowForStrokeEnabled",!0,Nn());E.addGetterSetter(et,"lineJoin");E.addGetterSetter(et,"lineCap");E.addGetterSetter(et,"sceneFunc");E.addGetterSetter(et,"hitFunc");E.addGetterSetter(et,"dash");E.addGetterSetter(et,"dashOffset",0,it());E.addGetterSetter(et,"shadowColor",void 0,cs());E.addGetterSetter(et,"shadowBlur",0,it());E.addGetterSetter(et,"shadowOpacity",1,it());E.addComponentsGetterSetter(et,"shadowOffset",["x","y"]);E.addGetterSetter(et,"shadowOffsetX",0,it());E.addGetterSetter(et,"shadowOffsetY",0,it());E.addGetterSetter(et,"fillPatternImage");E.addGetterSetter(et,"fill",void 0,dv());E.addGetterSetter(et,"fillPatternX",0,it());E.addGetterSetter(et,"fillPatternY",0,it());E.addGetterSetter(et,"fillLinearGradientColorStops");E.addGetterSetter(et,"strokeLinearGradientColorStops");E.addGetterSetter(et,"fillRadialGradientStartRadius",0);E.addGetterSetter(et,"fillRadialGradientEndRadius",0);E.addGetterSetter(et,"fillRadialGradientColorStops");E.addGetterSetter(et,"fillPatternRepeat","repeat");E.addGetterSetter(et,"fillEnabled",!0);E.addGetterSetter(et,"strokeEnabled",!0);E.addGetterSetter(et,"shadowEnabled",!0);E.addGetterSetter(et,"dashEnabled",!0);E.addGetterSetter(et,"strokeScaleEnabled",!0);E.addGetterSetter(et,"fillPriority","color");E.addComponentsGetterSetter(et,"fillPatternOffset",["x","y"]);E.addGetterSetter(et,"fillPatternOffsetX",0,it());E.addGetterSetter(et,"fillPatternOffsetY",0,it());E.addComponentsGetterSetter(et,"fillPatternScale",["x","y"]);E.addGetterSetter(et,"fillPatternScaleX",1,it());E.addGetterSetter(et,"fillPatternScaleY",1,it());E.addComponentsGetterSetter(et,"fillLinearGradientStartPoint",["x","y"]);E.addComponentsGetterSetter(et,"strokeLinearGradientStartPoint",["x","y"]);E.addGetterSetter(et,"fillLinearGradientStartPointX",0);E.addGetterSetter(et,"strokeLinearGradientStartPointX",0);E.addGetterSetter(et,"fillLinearGradientStartPointY",0);E.addGetterSetter(et,"strokeLinearGradientStartPointY",0);E.addComponentsGetterSetter(et,"fillLinearGradientEndPoint",["x","y"]);E.addComponentsGetterSetter(et,"strokeLinearGradientEndPoint",["x","y"]);E.addGetterSetter(et,"fillLinearGradientEndPointX",0);E.addGetterSetter(et,"strokeLinearGradientEndPointX",0);E.addGetterSetter(et,"fillLinearGradientEndPointY",0);E.addGetterSetter(et,"strokeLinearGradientEndPointY",0);E.addComponentsGetterSetter(et,"fillRadialGradientStartPoint",["x","y"]);E.addGetterSetter(et,"fillRadialGradientStartPointX",0);E.addGetterSetter(et,"fillRadialGradientStartPointY",0);E.addComponentsGetterSetter(et,"fillRadialGradientEndPoint",["x","y"]);E.addGetterSetter(et,"fillRadialGradientEndPointX",0);E.addGetterSetter(et,"fillRadialGradientEndPointY",0);E.addGetterSetter(et,"fillPatternRotation",0);E.backCompat(et,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var rP="#",iP="beforeDraw",sP="draw",Lv=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],aP=Lv.length;class bi extends cn{constructor(t){super(t),this.canvas=new ns,this.hitCanvas=new ff({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),t<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[t+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){st.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=st.prototype.moveUp.call(this);if(!t)return!1;var e=this.getStage();return!e||!e.content?!1:(e.content.removeChild(this.getNativeCanvasElement()),this.index<e.children.length-1?e.content.insertBefore(this.getNativeCanvasElement(),e.children[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(st.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(st.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),e[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return st.prototype.remove.call(this),t&&t.parentNode&&F._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:e}){return this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e),this._setSmoothEnabled(),this}_validateAdd(t){var e=t.getType();e!=="Group"&&e!=="Shape"&&F.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),st.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){F.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){F.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,F.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var e=1,i=!1;;){for(let s=0;s<aP;s++){const o=Lv[s],l=this._getIntersection({x:t.x+o.x*e,y:t.y+o.y*e}),u=l.shape;if(u)return u;if(i=!!l.antialiased,!l.antialiased)break}if(i)e+=1;else return null}}_getIntersection(t){const e=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*e),Math.round(t.y*e),1,1).data,s=i[3];if(s===255){const o=F._rgbToHex(i[0],i[1],i[2]),l=qs[rP+o];return l?{shape:l}:{antialiased:!0}}else if(s>0)return{antialiased:!0};return{}}drawScene(t,e){var i=this.getLayer(),s=t||i&&i.getCanvas();return this._fire(iP,{node:this}),this.clearBeforeDraw()&&s.getContext().clear(),cn.prototype.drawScene.call(this,s,e),this._fire(sP,{node:this}),this}drawHit(t,e){var i=this.getLayer(),s=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),cn.prototype.drawHit.call(this,s,e),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){F.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return F.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,e=!!this.hitCanvas._canvas.parentNode;e?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return F.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}bi.prototype.nodeType="Layer";ce(bi);E.addGetterSetter(bi,"imageSmoothingEnabled",!0);E.addGetterSetter(bi,"clearBeforeDraw",!0);E.addGetterSetter(bi,"hitGraphEnabled",!0,Nn());class df extends bi{constructor(t){super(t),this.listening(!1),F.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}df.prototype.nodeType="FastLayer";ce(df);class os extends cn{_validateAdd(t){var e=t.getType();e!=="Group"&&e!=="Shape"&&F.throw("You may only add groups and shapes to groups.")}}os.prototype.nodeType="Group";ce(os);var $u=function(){return es.performance&&es.performance.now?function(){return es.performance.now()}:function(){return new Date().getTime()}}();class En{constructor(t,e){this.id=En.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:$u(),frameRate:0},this.func=t,this.setLayers(e)}setLayers(t){var e=[];return t?t.length>0?e=t:e=[t]:e=[],this.layers=e,this}getLayers(){return this.layers}addLayer(t){var e=this.layers,i=e.length,s;for(s=0;s<i;s++)if(e[s]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t=En,e=t.animations,i=e.length,s;for(s=0;s<i;s++)if(e[s].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=$u(),En._addAnimation(this),this}stop(){return En._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var e=t.id,i=this.animations,s=i.length,o;for(o=0;o<s;o++)if(i[o].id===e){this.animations.splice(o,1);break}}static _runFrames(){var t={},e=this.animations,i,s,o,l,u,f,c,g,p;for(l=0;l<e.length;l++)if(i=e[l],s=i.layers,o=i.func,i._updateFrameObject($u()),f=s.length,o?p=o.call(i,i.frame)!==!1:p=!0,!!p)for(u=0;u<f;u++)c=s[u],c._id!==void 0&&(t[c._id]=c);for(g in t)!t.hasOwnProperty(g)||t[g].batchDraw()}static _animationLoop(){var t=En;t.animations.length?(t._runFrames(),F.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,F.requestAnimFrame(this._animationLoop))}}En.animations=[];En.animIdCounter=0;En.animRunning=!1;var oP={node:1,duration:1,easing:1,onFinish:1,yoyo:1},lP=1,jg=2,Qg=3,uP=0,Jg=["fill","stroke","shadowColor"];class hP{constructor(t,e,i,s,o,l,u){this.prop=t,this.propFunc=e,this.begin=s,this._pos=s,this.duration=l,this._change=0,this.prevPos=0,this.yoyo=u,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=i,this._change=o-this.begin,this.pause()}fire(t){var e=this[t];e&&e()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=jg,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=Qg,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;this.state===jg?this.setTime(t):this.state===Qg&&this.setTime(this.duration-t)}pause(){this.state=lP,this.fire("onPause")}getTimer(){return new Date().getTime()}}class ve{constructor(t){var e=this,i=t.node,s=i._id,o,l=t.easing||Vs.Linear,u=!!t.yoyo,f;typeof t.duration>"u"?o=.3:t.duration===0?o=.001:o=t.duration,this.node=i,this._id=uP++;var c=i.getLayer()||(i instanceof _t.Stage?i.getLayers():null);c||F.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new En(function(){e.tween.onEnterFrame()},c),this.tween=new hP(f,function(g){e._tweenFunc(g)},l,0,1,o*1e3,u),this._addListeners(),ve.attrs[s]||(ve.attrs[s]={}),ve.attrs[s][this._id]||(ve.attrs[s][this._id]={}),ve.tweens[s]||(ve.tweens[s]={});for(f in t)oP[f]===void 0&&this._addAttr(f,t[f]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,e){var i=this.node,s=i._id,o,l,u,f,c,g,p,v;if(u=ve.tweens[s][t],u&&delete ve.attrs[s][u][t],o=i.getAttr(t),F._isArray(e))if(l=[],c=Math.max(e.length,o.length),t==="points"&&e.length!==o.length&&(e.length>o.length?(p=o,o=F._prepareArrayForTween(o,e,i.closed())):(g=e,e=F._prepareArrayForTween(e,o,i.closed()))),t.indexOf("fill")===0)for(f=0;f<c;f++)if(f%2===0)l.push(e[f]-o[f]);else{var b=F.colorToRGBA(o[f]);v=F.colorToRGBA(e[f]),o[f]=b,l.push({r:v.r-b.r,g:v.g-b.g,b:v.b-b.b,a:v.a-b.a})}else for(f=0;f<c;f++)l.push(e[f]-o[f]);else Jg.indexOf(t)!==-1?(o=F.colorToRGBA(o),v=F.colorToRGBA(e),l={r:v.r-o.r,g:v.g-o.g,b:v.b-o.b,a:v.a-o.a}):l=e-o;ve.attrs[s][this._id][t]={start:o,diff:l,end:e,trueEnd:g,trueStart:p},ve.tweens[s][t]=this._id}_tweenFunc(t){var e=this.node,i=ve.attrs[e._id][this._id],s,o,l,u,f,c,g,p;for(s in i){if(o=i[s],l=o.start,u=o.diff,p=o.end,F._isArray(l))if(f=[],g=Math.max(l.length,p.length),s.indexOf("fill")===0)for(c=0;c<g;c++)c%2===0?f.push((l[c]||0)+u[c]*t):f.push("rgba("+Math.round(l[c].r+u[c].r*t)+","+Math.round(l[c].g+u[c].g*t)+","+Math.round(l[c].b+u[c].b*t)+","+(l[c].a+u[c].a*t)+")");else for(c=0;c<g;c++)f.push((l[c]||0)+u[c]*t);else Jg.indexOf(s)!==-1?f="rgba("+Math.round(l.r+u.r*t)+","+Math.round(l.g+u.g*t)+","+Math.round(l.b+u.b*t)+","+(l.a+u.a*t)+")":f=l+u*t;e.setAttr(s,f)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,e=ve.attrs[t._id][this._id];e.points&&e.points.trueEnd&&t.setAttr("points",e.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,e=ve.attrs[t._id][this._id];e.points&&e.points.trueStart&&t.points(e.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t=this.node._id,e=this._id,i=ve.tweens[t],s;this.pause();for(s in i)delete ve.tweens[t][s];delete ve.attrs[t][e]}}ve.attrs={};ve.tweens={};st.prototype.to=function(n){var t=n.onFinish;n.node=this,n.onFinish=function(){this.destroy(),t&&t()};var e=new ve(n);e.play()};const Vs={BackEaseIn(n,t,e,i){var s=1.70158;return e*(n/=i)*n*((s+1)*n-s)+t},BackEaseOut(n,t,e,i){var s=1.70158;return e*((n=n/i-1)*n*((s+1)*n+s)+1)+t},BackEaseInOut(n,t,e,i){var s=1.70158;return(n/=i/2)<1?e/2*(n*n*(((s*=1.525)+1)*n-s))+t:e/2*((n-=2)*n*(((s*=1.525)+1)*n+s)+2)+t},ElasticEaseIn(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i)===1?t+e:(o||(o=i*.3),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),-(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+t)},ElasticEaseOut(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i)===1?t+e:(o||(o=i*.3),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),s*Math.pow(2,-10*n)*Math.sin((n*i-l)*(2*Math.PI)/o)+e+t)},ElasticEaseInOut(n,t,e,i,s,o){var l=0;return n===0?t:(n/=i/2)===2?t+e:(o||(o=i*(.3*1.5)),!s||s<Math.abs(e)?(s=e,l=o/4):l=o/(2*Math.PI)*Math.asin(e/s),n<1?-.5*(s*Math.pow(2,10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o))+t:s*Math.pow(2,-10*(n-=1))*Math.sin((n*i-l)*(2*Math.PI)/o)*.5+e+t)},BounceEaseOut(n,t,e,i){return(n/=i)<1/2.75?e*(7.5625*n*n)+t:n<2/2.75?e*(7.5625*(n-=1.5/2.75)*n+.75)+t:n<2.5/2.75?e*(7.5625*(n-=2.25/2.75)*n+.9375)+t:e*(7.5625*(n-=2.625/2.75)*n+.984375)+t},BounceEaseIn(n,t,e,i){return e-Vs.BounceEaseOut(i-n,0,e,i)+t},BounceEaseInOut(n,t,e,i){return n<i/2?Vs.BounceEaseIn(n*2,0,e,i)*.5+t:Vs.BounceEaseOut(n*2-i,0,e,i)*.5+e*.5+t},EaseIn(n,t,e,i){return e*(n/=i)*n+t},EaseOut(n,t,e,i){return-e*(n/=i)*(n-2)+t},EaseInOut(n,t,e,i){return(n/=i/2)<1?e/2*n*n+t:-e/2*(--n*(n-2)-1)+t},StrongEaseIn(n,t,e,i){return e*(n/=i)*n*n*n*n+t},StrongEaseOut(n,t,e,i){return e*((n=n/i-1)*n*n*n*n+1)+t},StrongEaseInOut(n,t,e,i){return(n/=i/2)<1?e/2*n*n*n*n*n+t:e/2*((n-=2)*n*n*n*n+2)+t},Linear(n,t,e,i){return e*n/i+t}},Zg=F._assign(_t,{Util:F,Transform:un,Node:st,Container:cn,Stage:gl,stages:ko,Layer:bi,FastLayer:df,Group:os,DD:zt,Shape:et,shapes:qs,Animation:En,Tween:ve,Easings:Vs,Context:cl,Canvas:dl});class gr extends et{_sceneFunc(t){var e=_t.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,i),t.arc(0,0,this.innerRadius(),e,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),e=this.outerRadius(),i=this.clockwise(),s=_t.getAngle(i?360-this.angle():this.angle()),o=Math.cos(Math.min(s,Math.PI)),l=1,u=Math.sin(Math.min(Math.max(Math.PI,s),3*Math.PI/2)),f=Math.sin(Math.min(s,Math.PI/2)),c=o*(o>0?t:e),g=l*e,p=u*(u>0?t:e),v=f*(f>0?e:t);return{x:c,y:i?-1*v:p,width:g-c,height:v-p}}}gr.prototype._centroid=!0;gr.prototype.className="Arc";gr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(gr);E.addGetterSetter(gr,"innerRadius",0,it());E.addGetterSetter(gr,"outerRadius",0,it());E.addGetterSetter(gr,"angle",0,it());E.addGetterSetter(gr,"clockwise",!1,Nn());function Sh(n,t,e,i,s,o,l){var u=Math.sqrt(Math.pow(e-n,2)+Math.pow(i-t,2)),f=Math.sqrt(Math.pow(s-e,2)+Math.pow(o-i,2)),c=l*u/(u+f),g=l*f/(u+f),p=e-c*(s-n),v=i-c*(o-t),b=e+g*(s-n),m=i+g*(o-t);return[p,v,b,m]}function tp(n,t){var e=n.length,i=[],s,o;for(s=2;s<e-2;s+=2)o=Sh(n[s-2],n[s-1],n[s],n[s+1],n[s+2],n[s+3],t),!isNaN(o[0])&&(i.push(o[0]),i.push(o[1]),i.push(n[s]),i.push(n[s+1]),i.push(o[2]),i.push(o[3]));return i}class pr extends et{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var e=this.points(),i=e.length,s=this.tension(),o=this.closed(),l=this.bezier(),u,f,c;if(!!i){if(t.beginPath(),t.moveTo(e[0],e[1]),s!==0&&i>4){for(u=this.getTensionPoints(),f=u.length,c=o?0:4,o||t.quadraticCurveTo(u[0],u[1],u[2],u[3]);c<f-2;)t.bezierCurveTo(u[c++],u[c++],u[c++],u[c++],u[c++],u[c++]);o||t.quadraticCurveTo(u[f-2],u[f-1],e[i-2],e[i-1])}else if(l)for(c=2;c<i;)t.bezierCurveTo(e[c++],e[c++],e[c++],e[c++],e[c++],e[c++]);else for(c=2;c<i;c+=2)t.lineTo(e[c],e[c+1]);o?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():tp(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),e=t.length,i=this.tension(),s=Sh(t[e-2],t[e-1],t[0],t[1],t[2],t[3],i),o=Sh(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],i),l=tp(t,i),u=[s[2],s[3]].concat(l).concat([o[0],o[1],t[e-2],t[e-1],o[2],o[3],s[0],s[1],t[0],t[1]]);return u}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var e=t[0],i=t[0],s=t[1],o=t[1],l,u,f=0;f<t.length/2;f++)l=t[f*2],u=t[f*2+1],e=Math.min(e,l),i=Math.max(i,l),s=Math.min(s,u),o=Math.max(o,u);return{x:e,y:s,width:i-e,height:o-s}}}pr.prototype.className="Line";pr.prototype._attrsAffectingSize=["points","bezier","tension"];ce(pr);E.addGetterSetter(pr,"closed",!1);E.addGetterSetter(pr,"bezier",!1);E.addGetterSetter(pr,"tension",0,it());E.addGetterSetter(pr,"points",[],bA());class Qt extends et{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=Qt.parsePathData(this.data()),this.pathLength=0;for(var e=0;e<this.dataArray.length;++e)this.pathLength+=this.dataArray[e].pathLength;this.on("dataChange.konva",function(){this.dataArray=Qt.parsePathData(this.data()),this.pathLength=0;for(var i=0;i<this.dataArray.length;++i)this.pathLength+=this.dataArray[i].pathLength})}_sceneFunc(t){var e=this.dataArray;t.beginPath();for(var i=!1,s=0;s<e.length;s++){var o=e[s].command,l=e[s].points;switch(o){case"L":t.lineTo(l[0],l[1]);break;case"M":t.moveTo(l[0],l[1]);break;case"C":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"Q":t.quadraticCurveTo(l[0],l[1],l[2],l[3]);break;case"A":var u=l[0],f=l[1],c=l[2],g=l[3],p=l[4],v=l[5],b=l[6],m=l[7],P=c>g?c:g,A=c>g?1:c/g,T=c>g?g/c:1;t.translate(u,f),t.rotate(b),t.scale(A,T),t.arc(0,0,P,p,p+v,1-m),t.scale(1/A,1/T),t.rotate(-b),t.translate(-u,-f);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(c){if(c.command==="A"){var g=c.points[4],p=c.points[5],v=c.points[4]+p,b=Math.PI/180;if(Math.abs(g-v)<b&&(b=Math.abs(g-v)),p<0)for(let m=g-b;m>v;m-=b){const P=Qt.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);t.push(P.x,P.y)}else for(let m=g+b;m<v;m+=b){const P=Qt.getPointOnEllipticalArc(c.points[0],c.points[1],c.points[2],c.points[3],m,0);t.push(P.x,P.y)}}else if(c.command==="C")for(let m=0;m<=1;m+=.01){const P=Qt.getPointOnCubicBezier(m,c.start.x,c.start.y,c.points[0],c.points[1],c.points[2],c.points[3],c.points[4],c.points[5]);t.push(P.x,P.y)}else t=t.concat(c.points)});for(var e=t[0],i=t[0],s=t[1],o=t[1],l,u,f=0;f<t.length/2;f++)l=t[f*2],u=t[f*2+1],isNaN(l)||(e=Math.min(e,l),i=Math.max(i,l)),isNaN(u)||(s=Math.min(s,u),o=Math.max(o,u));return{x:e,y:s,width:i-e,height:o-s}}getLength(){return this.pathLength}getPointAtLength(t){var e,i=0,s=this.dataArray.length;if(!s)return null;for(;i<s&&t>this.dataArray[i].pathLength;)t-=this.dataArray[i].pathLength,++i;if(i===s)return e=this.dataArray[i-1].points.slice(-2),{x:e[0],y:e[1]};if(t<.01)return e=this.dataArray[i].points.slice(0,2),{x:e[0],y:e[1]};var o=this.dataArray[i],l=o.points;switch(o.command){case"L":return Qt.getPointOnLine(t,o.start.x,o.start.y,l[0],l[1]);case"C":return Qt.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,l[0],l[1],l[2],l[3],l[4],l[5]);case"Q":return Qt.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,l[0],l[1],l[2],l[3]);case"A":var u=l[0],f=l[1],c=l[2],g=l[3],p=l[4],v=l[5],b=l[6];return p+=v*t/o.pathLength,Qt.getPointOnEllipticalArc(u,f,c,g,p,b)}return null}static getLineLength(t,e,i,s){return Math.sqrt((i-t)*(i-t)+(s-e)*(s-e))}static getPointOnLine(t,e,i,s,o,l,u){l===void 0&&(l=e),u===void 0&&(u=i);var f=(o-i)/(s-e+1e-8),c=Math.sqrt(t*t/(1+f*f));s<e&&(c*=-1);var g=f*c,p;if(s===e)p={x:l,y:u+g};else if((u-i)/(l-e+1e-8)===f)p={x:l+c,y:u+g};else{var v,b,m=this.getLineLength(e,i,s,o),P=(l-e)*(s-e)+(u-i)*(o-i);P=P/(m*m),v=e+P*(s-e),b=i+P*(o-i);var A=this.getLineLength(l,u,v,b),T=Math.sqrt(t*t-A*A);c=Math.sqrt(T*T/(1+f*f)),s<e&&(c*=-1),g=f*c,p={x:v+c,y:b+g}}return p}static getPointOnCubicBezier(t,e,i,s,o,l,u,f,c){function g(A){return A*A*A}function p(A){return 3*A*A*(1-A)}function v(A){return 3*A*(1-A)*(1-A)}function b(A){return(1-A)*(1-A)*(1-A)}var m=f*g(t)+l*p(t)+s*v(t)+e*b(t),P=c*g(t)+u*p(t)+o*v(t)+i*b(t);return{x:m,y:P}}static getPointOnQuadraticBezier(t,e,i,s,o,l,u){function f(b){return b*b}function c(b){return 2*b*(1-b)}function g(b){return(1-b)*(1-b)}var p=l*f(t)+s*c(t)+e*g(t),v=u*f(t)+o*c(t)+i*g(t);return{x:p,y:v}}static getPointOnEllipticalArc(t,e,i,s,o,l){var u=Math.cos(l),f=Math.sin(l),c={x:i*Math.cos(o),y:s*Math.sin(o)};return{x:t+(c.x*u-c.y*f),y:e+(c.x*f+c.y*u)}}static parsePathData(t){if(!t)return[];var e=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var s=0;s<i.length;s++)e=e.replace(new RegExp(i[s],"g"),"|"+i[s]);var o=e.split("|"),l=[],u=[],f=0,c=0,g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,p;for(s=1;s<o.length;s++){var v=o[s],b=v.charAt(0);for(v=v.slice(1),u.length=0;p=g.exec(v);)u.push(p[0]);for(var m=[],P=0,A=u.length;P<A;P++){if(u[P]==="00"){m.push(0,0);continue}var T=parseFloat(u[P]);isNaN(T)?m.push(0):m.push(T)}for(;m.length>0&&!isNaN(m[0]);){var S=null,C=[],M=f,B=c,N,$,L,W,Y,X,q,G,H,ot;switch(b){case"l":f+=m.shift(),c+=m.shift(),S="L",C.push(f,c);break;case"L":f=m.shift(),c=m.shift(),C.push(f,c);break;case"m":var nt=m.shift(),ft=m.shift();if(f+=nt,c+=ft,S="M",l.length>2&&l[l.length-1].command==="z"){for(var dt=l.length-2;dt>=0;dt--)if(l[dt].command==="M"){f=l[dt].points[0]+nt,c=l[dt].points[1]+ft;break}}C.push(f,c),b="l";break;case"M":f=m.shift(),c=m.shift(),S="M",C.push(f,c),b="L";break;case"h":f+=m.shift(),S="L",C.push(f,c);break;case"H":f=m.shift(),S="L",C.push(f,c);break;case"v":c+=m.shift(),S="L",C.push(f,c);break;case"V":c=m.shift(),S="L",C.push(f,c);break;case"C":C.push(m.shift(),m.shift(),m.shift(),m.shift()),f=m.shift(),c=m.shift(),C.push(f,c);break;case"c":C.push(f+m.shift(),c+m.shift(),f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="C",C.push(f,c);break;case"S":$=f,L=c,N=l[l.length-1],N.command==="C"&&($=f+(f-N.points[2]),L=c+(c-N.points[3])),C.push($,L,m.shift(),m.shift()),f=m.shift(),c=m.shift(),S="C",C.push(f,c);break;case"s":$=f,L=c,N=l[l.length-1],N.command==="C"&&($=f+(f-N.points[2]),L=c+(c-N.points[3])),C.push($,L,f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="C",C.push(f,c);break;case"Q":C.push(m.shift(),m.shift()),f=m.shift(),c=m.shift(),C.push(f,c);break;case"q":C.push(f+m.shift(),c+m.shift()),f+=m.shift(),c+=m.shift(),S="Q",C.push(f,c);break;case"T":$=f,L=c,N=l[l.length-1],N.command==="Q"&&($=f+(f-N.points[0]),L=c+(c-N.points[1])),f=m.shift(),c=m.shift(),S="Q",C.push($,L,f,c);break;case"t":$=f,L=c,N=l[l.length-1],N.command==="Q"&&($=f+(f-N.points[0]),L=c+(c-N.points[1])),f+=m.shift(),c+=m.shift(),S="Q",C.push($,L,f,c);break;case"A":W=m.shift(),Y=m.shift(),X=m.shift(),q=m.shift(),G=m.shift(),H=f,ot=c,f=m.shift(),c=m.shift(),S="A",C=this.convertEndpointToCenterParameterization(H,ot,f,c,q,G,W,Y,X);break;case"a":W=m.shift(),Y=m.shift(),X=m.shift(),q=m.shift(),G=m.shift(),H=f,ot=c,f+=m.shift(),c+=m.shift(),S="A",C=this.convertEndpointToCenterParameterization(H,ot,f,c,q,G,W,Y,X);break}l.push({command:S||b,points:C,start:{x:M,y:B},pathLength:this.calcLength(M,B,S||b,C)})}(b==="z"||b==="Z")&&l.push({command:"z",points:[],start:void 0,pathLength:0})}return l}static calcLength(t,e,i,s){var o,l,u,f,c=Qt;switch(i){case"L":return c.getLineLength(t,e,s[0],s[1]);case"C":for(o=0,l=c.getPointOnCubicBezier(0,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),f=.01;f<=1;f+=.01)u=c.getPointOnCubicBezier(f,t,e,s[0],s[1],s[2],s[3],s[4],s[5]),o+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return o;case"Q":for(o=0,l=c.getPointOnQuadraticBezier(0,t,e,s[0],s[1],s[2],s[3]),f=.01;f<=1;f+=.01)u=c.getPointOnQuadraticBezier(f,t,e,s[0],s[1],s[2],s[3]),o+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return o;case"A":o=0;var g=s[4],p=s[5],v=s[4]+p,b=Math.PI/180;if(Math.abs(g-v)<b&&(b=Math.abs(g-v)),l=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],g,0),p<0)for(f=g-b;f>v;f-=b)u=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),o+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;else for(f=g+b;f<v;f+=b)u=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),o+=c.getLineLength(l.x,l.y,u.x,u.y),l=u;return u=c.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],v,0),o+=c.getLineLength(l.x,l.y,u.x,u.y),o}return 0}static convertEndpointToCenterParameterization(t,e,i,s,o,l,u,f,c){var g=c*(Math.PI/180),p=Math.cos(g)*(t-i)/2+Math.sin(g)*(e-s)/2,v=-1*Math.sin(g)*(t-i)/2+Math.cos(g)*(e-s)/2,b=p*p/(u*u)+v*v/(f*f);b>1&&(u*=Math.sqrt(b),f*=Math.sqrt(b));var m=Math.sqrt((u*u*(f*f)-u*u*(v*v)-f*f*(p*p))/(u*u*(v*v)+f*f*(p*p)));o===l&&(m*=-1),isNaN(m)&&(m=0);var P=m*u*v/f,A=m*-f*p/u,T=(t+i)/2+Math.cos(g)*P-Math.sin(g)*A,S=(e+s)/2+Math.sin(g)*P+Math.cos(g)*A,C=function(Y){return Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1])},M=function(Y,X){return(Y[0]*X[0]+Y[1]*X[1])/(C(Y)*C(X))},B=function(Y,X){return(Y[0]*X[1]<Y[1]*X[0]?-1:1)*Math.acos(M(Y,X))},N=B([1,0],[(p-P)/u,(v-A)/f]),$=[(p-P)/u,(v-A)/f],L=[(-1*p-P)/u,(-1*v-A)/f],W=B($,L);return M($,L)<=-1&&(W=Math.PI),M($,L)>=1&&(W=0),l===0&&W>0&&(W=W-2*Math.PI),l===1&&W<0&&(W=W+2*Math.PI),[T,S,u,f,N,W,g,l]}}Qt.prototype.className="Path";Qt.prototype._attrsAffectingSize=["data"];ce(Qt);E.addGetterSetter(Qt,"data");class wi extends pr{_sceneFunc(t){super._sceneFunc(t);var e=Math.PI*2,i=this.points(),s=i,o=this.tension()!==0&&i.length>4;o&&(s=this.getTensionPoints());var l=this.pointerLength(),u=i.length,f,c;if(o){const v=[s[s.length-4],s[s.length-3],s[s.length-2],s[s.length-1],i[u-2],i[u-1]],b=Qt.calcLength(s[s.length-4],s[s.length-3],"C",v),m=Qt.getPointOnQuadraticBezier(Math.min(1,1-l/b),v[0],v[1],v[2],v[3],v[4],v[5]);f=i[u-2]-m.x,c=i[u-1]-m.y}else f=i[u-2]-i[u-4],c=i[u-1]-i[u-3];var g=(Math.atan2(c,f)+e)%e,p=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[u-2],i[u-1]),t.rotate(g),t.moveTo(0,0),t.lineTo(-l,p/2),t.lineTo(-l,-p/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),o?(f=(s[0]+s[2])/2-i[0],c=(s[1]+s[3])/2-i[1]):(f=i[2]-i[0],c=i[3]-i[1]),t.rotate((Math.atan2(-c,-f)+e)%e),t.moveTo(0,0),t.lineTo(-l,p/2),t.lineTo(-l,-p/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var e=this.dashEnabled();e&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),e&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),e=this.pointerWidth()/2;return{x:t.x-e,y:t.y-e,width:t.width+e*2,height:t.height+e*2}}}wi.prototype.className="Arrow";ce(wi);E.addGetterSetter(wi,"pointerLength",10,it());E.addGetterSetter(wi,"pointerWidth",10,it());E.addGetterSetter(wi,"pointerAtBeginning",!1);E.addGetterSetter(wi,"pointerAtEnding",!0);class ds extends et{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}ds.prototype._centroid=!0;ds.prototype.className="Circle";ds.prototype._attrsAffectingSize=["radius"];ce(ds);E.addGetterSetter(ds,"radius",0,it());class Ur extends et{_sceneFunc(t){var e=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),e!==i&&t.scale(1,i/e),t.arc(0,0,e,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}Ur.prototype.className="Ellipse";Ur.prototype._centroid=!0;Ur.prototype._attrsAffectingSize=["radiusX","radiusY"];ce(Ur);E.addComponentsGetterSetter(Ur,"radius",["x","y"]);E.addGetterSetter(Ur,"radiusX",0,it());E.addGetterSetter(Ur,"radiusY",0,it());class Gn extends et{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const e=this.getWidth(),i=this.getHeight(),s=this.attrs.image;let o;if(s){const l=this.attrs.cropWidth,u=this.attrs.cropHeight;l&&u?o=[s,this.cropX(),this.cropY(),l,u,0,0,e,i]:o=[s,0,0,e,i]}(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)),s&&t.drawImage.apply(t,o)}_hitFunc(t){var e=this.width(),i=this.height();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,e;return(t=this.attrs.width)!==null&&t!==void 0?t:(e=this.image())===null||e===void 0?void 0:e.width}getHeight(){var t,e;return(t=this.attrs.height)!==null&&t!==void 0?t:(e=this.image())===null||e===void 0?void 0:e.height}static fromURL(t,e,i=null){var s=F.createImageElement();s.onload=function(){var o=new Gn({image:s});e(o)},s.onerror=i,s.crossOrigin="Anonymous",s.src=t}}Gn.prototype.className="Image";ce(Gn);E.addGetterSetter(Gn,"image");E.addComponentsGetterSetter(Gn,"crop",["x","y","width","height"]);E.addGetterSetter(Gn,"cropX",0,it());E.addGetterSetter(Gn,"cropY",0,it());E.addGetterSetter(Gn,"cropWidth",0,it());E.addGetterSetter(Gn,"cropHeight",0,it());var Iv=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],fP="Change.konva",cP="none",Ch="up",xh="right",Eh="down",Th="left",dP=Iv.length;class gf extends os{constructor(t){super(t),this.on("add.konva",function(e){this._addListeners(e.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var e=this,i,s=function(){e._sync()};for(i=0;i<dP;i++)t.on(Iv[i]+fP,s)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),e=this.getTag(),i,s,o,l,u,f,c;if(t&&e){switch(i=t.width(),s=t.height(),o=e.pointerDirection(),l=e.pointerWidth(),c=e.pointerHeight(),u=0,f=0,o){case Ch:u=i/2,f=-1*c;break;case xh:u=i+l,f=s/2;break;case Eh:u=i/2,f=s+c;break;case Th:u=-1*l,f=s/2;break}e.setAttrs({x:-1*u,y:-1*f,width:i,height:s}),t.setAttrs({x:-1*u,y:-1*f})}}}gf.prototype.className="Label";ce(gf);class Si extends et{_sceneFunc(t){var e=this.width(),i=this.height(),s=this.pointerDirection(),o=this.pointerWidth(),l=this.pointerHeight(),u=this.cornerRadius();let f=0,c=0,g=0,p=0;typeof u=="number"?f=c=g=p=Math.min(u,e/2,i/2):(f=Math.min(u[0]||0,e/2,i/2),c=Math.min(u[1]||0,e/2,i/2),p=Math.min(u[2]||0,e/2,i/2),g=Math.min(u[3]||0,e/2,i/2)),t.beginPath(),t.moveTo(f,0),s===Ch&&(t.lineTo((e-o)/2,0),t.lineTo(e/2,-1*l),t.lineTo((e+o)/2,0)),t.lineTo(e-c,0),t.arc(e-c,c,c,Math.PI*3/2,0,!1),s===xh&&(t.lineTo(e,(i-l)/2),t.lineTo(e+o,i/2),t.lineTo(e,(i+l)/2)),t.lineTo(e,i-p),t.arc(e-p,i-p,p,0,Math.PI/2,!1),s===Eh&&(t.lineTo((e+o)/2,i),t.lineTo(e/2,i+l),t.lineTo((e-o)/2,i)),t.lineTo(g,i),t.arc(g,i-g,g,Math.PI/2,Math.PI,!1),s===Th&&(t.lineTo(0,(i+l)/2),t.lineTo(-1*o,i/2),t.lineTo(0,(i-l)/2)),t.lineTo(0,f),t.arc(f,f,f,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,e=0,i=this.pointerWidth(),s=this.pointerHeight(),o=this.pointerDirection(),l=this.width(),u=this.height();return o===Ch?(e-=s,u+=s):o===Eh?u+=s:o===Th?(t-=i*1.5,l+=i):o===xh&&(l+=i*1.5),{x:t,y:e,width:l,height:u}}}Si.prototype.className="Tag";ce(Si);E.addGetterSetter(Si,"pointerDirection",cP);E.addGetterSetter(Si,"pointerWidth",0,it());E.addGetterSetter(Si,"pointerHeight",0,it());E.addGetterSetter(Si,"cornerRadius",0,cv(4));class ma extends et{_sceneFunc(t){var e=this.cornerRadius(),i=this.width(),s=this.height();if(t.beginPath(),!e)t.rect(0,0,i,s);else{let o=0,l=0,u=0,f=0;typeof e=="number"?o=l=u=f=Math.min(e,i/2,s/2):(o=Math.min(e[0]||0,i/2,s/2),l=Math.min(e[1]||0,i/2,s/2),f=Math.min(e[2]||0,i/2,s/2),u=Math.min(e[3]||0,i/2,s/2)),t.moveTo(o,0),t.lineTo(i-l,0),t.arc(i-l,l,l,Math.PI*3/2,0,!1),t.lineTo(i,s-f),t.arc(i-f,s-f,f,0,Math.PI/2,!1),t.lineTo(u,s),t.arc(u,s-u,u,Math.PI/2,Math.PI,!1),t.lineTo(0,o),t.arc(o,o,o,Math.PI,Math.PI*3/2,!1)}t.closePath(),t.fillStrokeShape(this)}}ma.prototype.className="Rect";ce(ma);E.addGetterSetter(ma,"cornerRadius",0,cv(4));class Ci extends et{_sceneFunc(t){const e=this._getPoints();t.beginPath(),t.moveTo(e[0].x,e[0].y);for(var i=1;i<e.length;i++)t.lineTo(e[i].x,e[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,e=this.attrs.radius||0,i=[];for(var s=0;s<t;s++)i.push({x:e*Math.sin(s*2*Math.PI/t),y:-1*e*Math.cos(s*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var e=t[0].x,i=t[0].y,s=t[0].x,o=t[0].y;return t.forEach(l=>{e=Math.min(e,l.x),i=Math.max(i,l.x),s=Math.min(s,l.y),o=Math.max(o,l.y)}),{x:e,y:s,width:i-e,height:o-s}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Ci.prototype.className="RegularPolygon";Ci.prototype._centroid=!0;Ci.prototype._attrsAffectingSize=["radius"];ce(Ci);E.addGetterSetter(Ci,"radius",0,it());E.addGetterSetter(Ci,"sides",0,it());var ep=Math.PI*2;class xi extends et{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,ep,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),ep,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}xi.prototype.className="Ring";xi.prototype._centroid=!0;xi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(xi);E.addGetterSetter(xi,"innerRadius",0,it());E.addGetterSetter(xi,"outerRadius",0,it());class Xn extends et{constructor(t){super(t),this._updated=!0,this.anim=new En(()=>{var e=this._updated;return this._updated=!1,e}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var e=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[e],l=this.frameOffsets(),u=o[s+0],f=o[s+1],c=o[s+2],g=o[s+3],p=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,c,g),t.closePath(),t.fillStrokeShape(this)),p)if(l){var v=l[e],b=i*2;t.drawImage(p,u,f,c,g,v[b+0],v[b+1],c,g)}else t.drawImage(p,u,f,c,g,0,0,c,g)}_hitFunc(t){var e=this.animation(),i=this.frameIndex(),s=i*4,o=this.animations()[e],l=this.frameOffsets(),u=o[s+2],f=o[s+3];if(t.beginPath(),l){var c=l[e],g=i*2;t.rect(c[g+0],c[g+1],u,f)}else t.rect(0,0,u,f);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),e=this.animation(),i=this.animations(),s=i[e],o=s.length/4;t<o-1?this.frameIndex(t+1):this.frameIndex(0)}}Xn.prototype.className="Sprite";ce(Xn);E.addGetterSetter(Xn,"animation");E.addGetterSetter(Xn,"animations");E.addGetterSetter(Xn,"frameOffsets");E.addGetterSetter(Xn,"image");E.addGetterSetter(Xn,"frameIndex",0,it());E.addGetterSetter(Xn,"frameRate",17,it());E.backCompat(Xn,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Wr extends et{_sceneFunc(t){var e=this.innerRadius(),i=this.outerRadius(),s=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var o=1;o<s*2;o++){var l=o%2===0?i:e,u=l*Math.sin(o*Math.PI/s),f=-1*l*Math.cos(o*Math.PI/s);t.lineTo(u,f)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Wr.prototype.className="Star";Wr.prototype._centroid=!0;Wr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];ce(Wr);E.addGetterSetter(Wr,"numPoints",5,it());E.addGetterSetter(Wr,"innerRadius",0,it());E.addGetterSetter(Wr,"outerRadius",0,it());function kv(n){return Array.from(n)}var Ki="auto",gP="center",Is="justify",pP="Change.konva",_P="2d",np="-",Dv="left",vP="text",mP="Text",yP="top",bP="bottom",rp="middle",Fv="normal",wP="px ",Ao=" ",SP="right",CP="word",xP="char",ip="none",Yu="\u2026",Nv=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],EP=Nv.length;function TP(n){return n.split(",").map(t=>{t=t.trim();const e=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!i&&(t=`"${t}"`),t}).join(", ")}var Po;function Ku(){return Po||(Po=F.createCanvasElement().getContext(_P),Po)}function AP(n){n.fillText(this._partialText,this._partialTextX,this._partialTextY)}function PP(n){n.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function OP(n){return n=n||{},!n.fillLinearGradientColorStops&&!n.fillRadialGradientColorStops&&!n.fillPatternImage&&(n.fill=n.fill||"black"),n}class fe extends et{constructor(t){super(OP(t)),this._partialTextX=0,this._partialTextY=0;for(var e=0;e<EP;e++)this.on(Nv[e]+pP,this._setTextData);this._setTextData()}_sceneFunc(t){var e=this.textArr,i=e.length;if(!!this.text()){var s=this.padding(),o=this.fontSize(),l=this.lineHeight()*o,u=this.verticalAlign(),f=0,c=this.align(),g=this.getWidth(),p=this.letterSpacing(),v=this.fill(),b=this.textDecoration(),m=b.indexOf("underline")!==-1,P=b.indexOf("line-through")!==-1,A,T=0,T=l/2,S=0,C=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",rp),t.setAttr("textAlign",Dv),u===rp?f=(this.getHeight()-i*l-s*2)/2:u===bP&&(f=this.getHeight()-i*l-s*2),t.translate(s,f+s),A=0;A<i;A++){var S=0,C=0,M=e[A],B=M.text,N=M.width,$=M.lastInParagraph,L,W,Y;if(t.save(),c===SP?S+=g-N-s*2:c===gP&&(S+=(g-N-s*2)/2),m&&(t.save(),t.beginPath(),t.moveTo(S,T+C+Math.round(o/2)),L=B.split(" ").length-1,W=L===0,Y=c===Is&&$&&!W?g-s*2:N,t.lineTo(S+Math.round(Y),T+C+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=v,t.stroke(),t.restore()),P&&(t.save(),t.beginPath(),t.moveTo(S,T+C),L=B.split(" ").length-1,W=L===0,Y=c===Is&&$&&!W?g-s*2:N,t.lineTo(S+Math.round(Y),T+C),t.lineWidth=o/15,t.strokeStyle=v,t.stroke(),t.restore()),p!==0||c===Is){L=B.split(" ").length-1;for(var X=kv(B),q=0;q<X.length;q++){var G=X[q];G===" "&&!$&&c===Is&&(S+=(g-s*2-N)/L),this._partialTextX=S,this._partialTextY=T+C,this._partialText=G,t.fillStrokeShape(this),S+=this.measureSize(G).width+p}}else this._partialTextX=S,this._partialTextY=T+C,this._partialText=B,t.fillStrokeShape(this);t.restore(),i>1&&(T+=l)}}}_hitFunc(t){var e=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,e,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var e=F._isString(t)?t:t==null?"":t+"";return this._setAttr(vP,e),this}getWidth(){var t=this.attrs.width===Ki||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Ki||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return F.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var e=Ku(),i=this.fontSize(),s;return e.save(),e.font=this._getContextFont(),s=e.measureText(t),e.restore(),{width:s.width,height:i}}_getContextFont(){return this.fontStyle()+Ao+this.fontVariant()+Ao+(this.fontSize()+wP)+TP(this.fontFamily())}_addTextLine(t){this.align()===Is&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e,lastInParagraph:!1})}_getTextWidth(t){var e=this.letterSpacing(),i=t.length;return Ku().measureText(t).width+(i?e*(i-1):0)}_setTextData(){var t=this.text().split(`
`),e=+this.fontSize(),i=0,s=this.lineHeight()*e,o=this.attrs.width,l=this.attrs.height,u=o!==Ki&&o!==void 0,f=l!==Ki&&l!==void 0,c=this.padding(),g=o-c*2,p=l-c*2,v=0,b=this.wrap(),m=b!==ip,P=b!==xP&&m,A=this.ellipsis();this.textArr=[],Ku().font=this._getContextFont();for(var T=A?this._getTextWidth(Yu):0,S=0,C=t.length;S<C;++S){var M=t[S],B=this._getTextWidth(M);if(u&&B>g)for(;M.length>0;){for(var N=0,$=M.length,L="",W=0;N<$;){var Y=N+$>>>1,X=M.slice(0,Y+1),q=this._getTextWidth(X)+T;q<=g?(N=Y+1,L=X,W=q):$=Y}if(L){if(P){var G,H=M[L.length],ot=H===Ao||H===np;ot&&W<=g?G=L.length:G=Math.max(L.lastIndexOf(Ao),L.lastIndexOf(np))+1,G>0&&(N=G,L=L.slice(0,N),W=this._getTextWidth(L))}L=L.trimRight(),this._addTextLine(L),i=Math.max(i,W),v+=s;var nt=this._shouldHandleEllipsis(v);if(nt){this._tryToAddEllipsisToLastLine();break}if(M=M.slice(N),M=M.trimLeft(),M.length>0&&(B=this._getTextWidth(M),B<=g)){this._addTextLine(M),v+=s,i=Math.max(i,B);break}}else break}else this._addTextLine(M),v+=s,i=Math.max(i,B),this._shouldHandleEllipsis(v)&&S<C-1&&this._tryToAddEllipsisToLastLine();if(f&&v+s>p)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=e,this.textWidth=i}_shouldHandleEllipsis(t){var e=+this.fontSize(),i=this.lineHeight()*e,s=this.attrs.height,o=s!==Ki&&s!==void 0,l=this.padding(),u=s-l*2,f=this.wrap(),c=f!==ip;return!c||o&&t+i>u}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,e=t!==Ki&&t!==void 0,i=this.padding(),s=t-i*2,o=this.ellipsis(),l=this.textArr[this.textArr.length-1];if(!(!l||!o)){if(e){var u=this._getTextWidth(l.text+Yu)<s;u||(l.text=l.text.slice(0,l.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(l.text+Yu)}}getStrokeScaleEnabled(){return!0}}fe.prototype._fillFunc=AP;fe.prototype._strokeFunc=PP;fe.prototype.className=mP;fe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];ce(fe);E.overWriteSetter(fe,"width",hf());E.overWriteSetter(fe,"height",hf());E.addGetterSetter(fe,"fontFamily","Arial");E.addGetterSetter(fe,"fontSize",12,it());E.addGetterSetter(fe,"fontStyle",Fv);E.addGetterSetter(fe,"fontVariant",Fv);E.addGetterSetter(fe,"padding",0,it());E.addGetterSetter(fe,"align",Dv);E.addGetterSetter(fe,"verticalAlign",yP);E.addGetterSetter(fe,"lineHeight",1,it());E.addGetterSetter(fe,"wrap",CP);E.addGetterSetter(fe,"ellipsis",!1,Nn());E.addGetterSetter(fe,"letterSpacing",0,it());E.addGetterSetter(fe,"text","",cs());E.addGetterSetter(fe,"textDecoration","");var RP="",Gv="normal";function Bv(n){n.fillText(this.partialText,0,0)}function Hv(n){n.strokeText(this.partialText,0,0)}class xe extends et{constructor(t){super(t),this.dummyCanvas=F.createCanvasElement(),this.dataArray=[],this.dataArray=Qt.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Qt.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),i=this.fill(),s=this.fontSize(),o=this.glyphInfo;e==="underline"&&t.beginPath();for(var l=0;l<o.length;l++){t.save();var u=o[l].p0;t.translate(u.x,u.y),t.rotate(o[l].rotation),this.partialText=o[l].text,t.fillStrokeShape(this),e==="underline"&&(l===0&&t.moveTo(0,s/2+1),t.lineTo(s,s/2+1)),t.restore()}e==="underline"&&(t.strokeStyle=i,t.lineWidth=s/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var i=e[0].p0;t.moveTo(i.x,i.y)}for(var s=0;s<e.length;s++){var o=e[s].p1;t.lineTo(o.x,o.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return F.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return fe.prototype.setText.call(this,t)}_getContextFont(){return fe.prototype._getContextFont.call(this)}_getTextSize(t){var e=this.dummyCanvas,i=e.getContext("2d");i.save(),i.font=this._getContextFont();var s=i.measureText(t);return i.restore(),{width:s.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,e=this._getTextSize(this.attrs.text),i=this.letterSpacing(),s=this.align(),o=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);this.glyphInfo=[];for(var u=0,f=0;f<t.dataArray.length;f++)t.dataArray[f].pathLength>0&&(u+=t.dataArray[f].pathLength);var c=0;s==="center"&&(c=Math.max(0,u/2-l/2)),s==="right"&&(c=Math.max(0,u-l));for(var g=kv(this.text()),p=this.text().split(" ").length-1,v,b,m,P=-1,A=0,T=function(){A=0;for(var q=t.dataArray,G=P+1;G<q.length;G++){if(q[G].pathLength>0)return P=G,q[G];q[G].command==="M"&&(v={x:q[G].points[0],y:q[G].points[1]})}return{}},S=function(q){var G=t._getTextSize(q).width+i;q===" "&&s==="justify"&&(G+=(u-l)/p);var H=0,ot=0;for(b=void 0;Math.abs(G-H)/G>.01&&ot<20;){ot++;for(var nt=H;m===void 0;)m=T(),m&&nt+m.pathLength<G&&(nt+=m.pathLength,m=void 0);if(Object.keys(m).length===0||v===void 0)return;var ft=!1;switch(m.command){case"L":Qt.getLineLength(v.x,v.y,m.points[0],m.points[1])>G?b=Qt.getPointOnLine(G,v.x,v.y,m.points[0],m.points[1],v.x,v.y):m=void 0;break;case"A":var dt=m.points[4],Mt=m.points[5],gt=m.points[4]+Mt;A===0?A=dt+1e-8:G>H?A+=Math.PI/180*Mt/Math.abs(Mt):A-=Math.PI/360*Mt/Math.abs(Mt),(Mt<0&&A<gt||Mt>=0&&A>gt)&&(A=gt,ft=!0),b=Qt.getPointOnEllipticalArc(m.points[0],m.points[1],m.points[2],m.points[3],A,m.points[6]);break;case"C":A===0?G>m.pathLength?A=1e-8:A=G/m.pathLength:G>H?A+=(G-H)/m.pathLength/2:A=Math.max(A-(H-G)/m.pathLength/2,0),A>1&&(A=1,ft=!0),b=Qt.getPointOnCubicBezier(A,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3],m.points[4],m.points[5]);break;case"Q":A===0?A=G/m.pathLength:G>H?A+=(G-H)/m.pathLength:A-=(H-G)/m.pathLength,A>1&&(A=1,ft=!0),b=Qt.getPointOnQuadraticBezier(A,m.start.x,m.start.y,m.points[0],m.points[1],m.points[2],m.points[3]);break}b!==void 0&&(H=Qt.getLineLength(v.x,v.y,b.x,b.y)),ft&&(ft=!1,m=void 0)}},C="C",M=t._getTextSize(C).width+i,B=c/M-1,N=0;N<B&&(S(C),!(v===void 0||b===void 0));N++)v=b;for(var $=0;$<g.length&&(S(g[$]),!(v===void 0||b===void 0));$++){var L=Qt.getLineLength(v.x,v.y,b.x,b.y),W=0;if(o)try{W=o(g[$-1],g[$])*this.fontSize()}catch{W=0}v.x+=W,b.x+=W,this.textWidth+=W;var Y=Qt.getPointOnLine(W+L/2,v.x,v.y,b.x,b.y),X=Math.atan2(b.y-v.y,b.x-v.x);this.glyphInfo.push({transposeX:Y.x,transposeY:Y.y,text:g[$],rotation:X,p0:v,p1:b}),v=b}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(g){t.push(g.p0.x),t.push(g.p0.y),t.push(g.p1.x),t.push(g.p1.y)});for(var e=t[0]||0,i=t[0]||0,s=t[1]||0,o=t[1]||0,l,u,f=0;f<t.length/2;f++)l=t[f*2],u=t[f*2+1],e=Math.min(e,l),i=Math.max(i,l),s=Math.min(s,u),o=Math.max(o,u);var c=this.fontSize();return{x:e-c/2,y:s-c/2,width:i-e+c,height:o-s+c}}destroy(){return F.releaseCanvas(this.dummyCanvas),super.destroy()}}xe.prototype._fillFunc=Bv;xe.prototype._strokeFunc=Hv;xe.prototype._fillFuncHit=Bv;xe.prototype._strokeFuncHit=Hv;xe.prototype.className="TextPath";xe.prototype._attrsAffectingSize=["text","fontSize","data"];ce(xe);E.addGetterSetter(xe,"data");E.addGetterSetter(xe,"fontFamily","Arial");E.addGetterSetter(xe,"fontSize",12,it());E.addGetterSetter(xe,"fontStyle",Gv);E.addGetterSetter(xe,"align","left");E.addGetterSetter(xe,"letterSpacing",0,it());E.addGetterSetter(xe,"textBaseline","middle");E.addGetterSetter(xe,"fontVariant",Gv);E.addGetterSetter(xe,"text",RP);E.addGetterSetter(xe,"textDecoration",null);E.addGetterSetter(xe,"kerningFunc",null);var Uv="tr-konva",MP=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(n=>n+`.${Uv}`).join(" "),sp="nodesRect",LP=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],IP={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const kP="ontouchstart"in _t._global;function DP(n,t){if(n==="rotater")return"crosshair";t+=F.degToRad(IP[n]||0);var e=(F.radToDeg(t)%360+360)%360;return F._inRange(e,315+22.5,360)||F._inRange(e,0,22.5)?"ns-resize":F._inRange(e,45-22.5,45+22.5)?"nesw-resize":F._inRange(e,90-22.5,90+22.5)?"ew-resize":F._inRange(e,135-22.5,135+22.5)?"nwse-resize":F._inRange(e,180-22.5,180+22.5)?"ns-resize":F._inRange(e,225-22.5,225+22.5)?"nesw-resize":F._inRange(e,270-22.5,270+22.5)?"ew-resize":F._inRange(e,315-22.5,315+22.5)?"nwse-resize":(F.error("Transformer has unknown angle for cursor detection: "+e),"pointer")}var $o=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],ap=1e8;function FP(n){return{x:n.x+n.width/2*Math.cos(n.rotation)+n.height/2*Math.sin(-n.rotation),y:n.y+n.height/2*Math.cos(n.rotation)+n.width/2*Math.sin(n.rotation)}}function Wv(n,t,e){const i=e.x+(n.x-e.x)*Math.cos(t)-(n.y-e.y)*Math.sin(t),s=e.y+(n.x-e.x)*Math.sin(t)+(n.y-e.y)*Math.cos(t);return Object.assign(Object.assign({},n),{rotation:n.rotation+t,x:i,y:s})}function NP(n,t){const e=FP(n);return Wv(n,t,e)}function GP(n,t,e){let i=t;for(let s=0;s<n.length;s++){const o=_t.getAngle(n[s]),l=Math.abs(o-t)%(Math.PI*2);Math.min(l,Math.PI*2-l)<e&&(i=o)}return i}class qt extends os{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(MP,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return F.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Uv+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const s=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=i._attrsAffectingSize.map(l=>l+"Change."+this._getEventNamespace()).join(" ");i.on(o,s),i.on(LP.map(l=>l+`.${this._getEventNamespace()}`).join(" "),s),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,s),this._proxyDrag(i)}),this._resetTransformCache();var e=!!this.findOne(".top-left");return e&&this.update(),this}_proxyDrag(t){let e;t.on(`dragstart.${this._getEventNamespace()}`,i=>{e=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!e)return;const s=t.getAbsolutePosition(),o=s.x-e.x,l=s.y-e.y;this.nodes().forEach(u=>{if(u===t||u.isDragging())return;const f=u.getAbsolutePosition();u.setAbsolutePosition({x:f.x+o,y:f.y+l}),u.startDrag(i)}),e=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(sp),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(sp,this.__getNodeRect)}__getNodeShape(t,e=this.rotation(),i){var s=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=t.getAbsoluteScale(i),l=t.getAbsolutePosition(i),u=s.x*o.x-t.offsetX()*o.x,f=s.y*o.y-t.offsetY()*o.y;const c=(_t.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),g={x:l.x+u*Math.cos(c)+f*Math.sin(-c),y:l.y+f*Math.cos(c)+u*Math.sin(c),width:s.width*o.x,height:s.height*o.y,rotation:c};return Wv(g,-_t.getAngle(e),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-ap,y:-ap,width:0,height:0,rotation:0};const e=[];this.nodes().map(c=>{const g=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var p=[{x:g.x,y:g.y},{x:g.x+g.width,y:g.y},{x:g.x+g.width,y:g.y+g.height},{x:g.x,y:g.y+g.height}],v=c.getAbsoluteTransform();p.forEach(function(b){var m=v.point(b);e.push(m)})});const i=new un;i.rotate(-_t.getAngle(this.rotation()));var s,o,l,u;e.forEach(function(c){var g=i.point(c);s===void 0&&(s=l=g.x,o=u=g.y),s=Math.min(s,g.x),o=Math.min(o,g.y),l=Math.max(l,g.x),u=Math.max(u,g.y)}),i.invert();const f=i.point({x:s,y:o});return{x:f.x,y:f.y,width:l-s,height:u-o,rotation:_t.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),$o.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var e=new ma({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:kP?10:"auto"}),i=this;e.on("mousedown touchstart",function(s){i._handleMouseDown(s)}),e.on("dragstart",s=>{e.stopDrag(),s.cancelBubble=!0}),e.on("dragend",s=>{s.cancelBubble=!0}),e.on("mouseenter",()=>{var s=_t.getAngle(this.rotation()),o=DP(t,s);e.getStage().content&&(e.getStage().content.style.cursor=o),this._cursorChange=!0}),e.on("mouseout",()=>{e.getStage().content&&(e.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(e)}_createBack(){var t=new et({name:"back",width:0,height:0,draggable:!0,sceneFunc(e){var i=this.getParent(),s=i.padding();e.beginPath(),e.rect(-s,-s,this.width()+s*2,this.height()+s*2),e.moveTo(this.width()/2,-s),i.rotateEnabled()&&e.lineTo(this.width()/2,-i.rotateAnchorOffset()*F._sign(this.height())-s),e.fillStrokeShape(this)},hitFunc:(e,i)=>{if(!!this.shouldOverdrawWholeArea()){var s=this.padding();e.beginPath(),e.rect(-s,-s,i.width()+s*2,i.height()+s*2),e.fillStrokeShape(i)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",e=>{e.cancelBubble=!0}),t.on("dragmove",e=>{e.cancelBubble=!0}),t.on("dragend",e=>{e.cancelBubble=!0}),this.on("dragmove",e=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),i=e.width,s=e.height,o=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));this.sin=Math.abs(s/o),this.cos=Math.abs(i/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var l=t.target.getAbsolutePosition(),u=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:u.x-l.x,y:u.y-l.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(f=>{f._fire("transformstart",{evt:t.evt,target:f})})}_handleMouseMove(t){var e,i,s,o=this.findOne("."+this._movingAnchorName),l=o.getStage();l.setPointersPositions(t);const u=l.getPointerPosition();let f={x:u.x-this._anchorDragOffset.x,y:u.y-this._anchorDragOffset.y};const c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(f=this.anchorDragBoundFunc()(c,f,t)),o.setAbsolutePosition(f);const g=o.getAbsolutePosition();if(!(c.x===g.x&&c.y===g.y)){if(this._movingAnchorName==="rotater"){var p=this._getNodeRect();e=o.x()-p.width/2,i=-o.y()+p.height/2;let q=Math.atan2(-i,e)+Math.PI/2;p.height<0&&(q-=Math.PI);var v=_t.getAngle(this.rotation());const G=v+q,H=_t.getAngle(this.rotationSnapTolerance()),nt=GP(this.rotationSnaps(),G,H)-p.rotation,ft=NP(p,nt);this._fitNodesInto(ft,t);return}var b=this.keepRatio()||t.shiftKey,S=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(b){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};s=Math.sqrt(Math.pow(m.x-o.x(),2)+Math.pow(m.y-o.y(),2));var P=this.findOne(".top-left").x()>m.x?-1:1,A=this.findOne(".top-left").y()>m.y?-1:1;e=s*this.cos*P,i=s*this.sin*A,this.findOne(".top-left").x(m.x-e),this.findOne(".top-left").y(m.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(b){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};s=Math.sqrt(Math.pow(o.x()-m.x,2)+Math.pow(m.y-o.y(),2));var P=this.findOne(".top-right").x()<m.x?-1:1,A=this.findOne(".top-right").y()>m.y?-1:1;e=s*this.cos*P,i=s*this.sin*A,this.findOne(".top-right").x(m.x+e),this.findOne(".top-right").y(m.y-i)}var T=o.position();this.findOne(".top-left").y(T.y),this.findOne(".bottom-right").x(T.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(b){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};s=Math.sqrt(Math.pow(m.x-o.x(),2)+Math.pow(o.y()-m.y,2));var P=m.x<o.x()?-1:1,A=o.y()<m.y?-1:1;e=s*this.cos*P,i=s*this.sin*A,o.x(m.x-e),o.y(m.y+i)}T=o.position(),this.findOne(".top-left").x(T.x),this.findOne(".bottom-right").y(T.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(b){var m=S?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};s=Math.sqrt(Math.pow(o.x()-m.x,2)+Math.pow(o.y()-m.y,2));var P=this.findOne(".bottom-right").x()<m.x?-1:1,A=this.findOne(".bottom-right").y()<m.y?-1:1;e=s*this.cos*P,i=s*this.sin*A,this.findOne(".bottom-right").x(m.x+e),this.findOne(".bottom-right").y(m.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var S=this.centeredScaling()||t.altKey;if(S){var C=this.findOne(".top-left"),M=this.findOne(".bottom-right"),B=C.x(),N=C.y(),$=this.getWidth()-M.x(),L=this.getHeight()-M.y();M.move({x:-B,y:-N}),C.move({x:$,y:L})}var W=this.findOne(".top-left").getAbsolutePosition();e=W.x,i=W.y;var Y=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),X=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:i,width:Y,height:X,rotation:_t.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&this._nodes.forEach(i=>{i._fire("transformend",{evt:t,target:i})}),this._movingAnchorName=null}}_fitNodesInto(t,e){var i=this._getNodeRect();const s=1;if(F._inRange(t.width,-this.padding()*2-s,s)){this.update();return}if(F._inRange(t.height,-this.padding()*2-s,s)){this.update();return}const o=this.flipEnabled();var l=new un;if(l.rotate(_t.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const p=l.point({x:-this.padding()*2,y:0});if(t.x+=p.x,t.y+=p.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,!o){this.update();return}}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const p=l.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.width+=this.padding()*2,!o){this.update();return}}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const p=l.point({x:0,y:-this.padding()*2});if(t.x+=p.x,t.y+=p.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2,!o){this.update();return}}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const p=l.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=p.x,this._anchorDragOffset.y-=p.y,t.height+=this.padding()*2,!o){this.update();return}}if(this.boundBoxFunc()){const p=this.boundBoxFunc()(i,t);p?t=p:F.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const u=1e7,f=new un;f.translate(i.x,i.y),f.rotate(i.rotation),f.scale(i.width/u,i.height/u);const c=new un;c.translate(t.x,t.y),c.rotate(t.rotation),c.scale(t.width/u,t.height/u);const g=c.multiply(f.invert());this._nodes.forEach(p=>{var v;const b=p.getParent().getAbsoluteTransform(),m=p.getTransform().copy();m.translate(p.offsetX(),p.offsetY());const P=new un;P.multiply(b.copy().invert()).multiply(g).multiply(b).multiply(m);const A=P.decompose();p.setAttrs(A),this._fire("transform",{evt:e,target:p}),p._fire("transform",{evt:e,target:p}),(v=p.getLayer())===null||v===void 0||v.batchDraw()}),this.rotation(F._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,e){this.findOne(t).setAttrs(e)}update(){var t,e=this._getNodeRect();this.rotation(F._getRotation(e.rotation));var i=e.width,s=e.height,o=this.enabledAnchors(),l=this.resizeEnabled(),u=this.padding(),f=this.anchorSize();this.find("._anchor").forEach(c=>{c.setAttrs({width:f,height:f,offsetX:f/2,offsetY:f/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:f/2+u,offsetY:f/2+u,visible:l&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:f/2+u,visible:l&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:f/2-u,offsetY:f/2+u,visible:l&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:s/2,offsetX:f/2+u,visible:l&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:s/2,offsetX:f/2-u,visible:l&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:s,offsetX:f/2+u,offsetY:f/2-u,visible:l&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:s,offsetY:f/2-u,visible:l&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:s,offsetX:f/2-u,offsetY:f/2-u,visible:l&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*F._sign(s)-u,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:s,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),os.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return st.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function BP(n){return n instanceof Array||F.warn("enabledAnchors value should be an array"),n instanceof Array&&n.forEach(function(t){$o.indexOf(t)===-1&&F.warn("Unknown anchor name: "+t+". Available names are: "+$o.join(", "))}),n||[]}qt.prototype.className="Transformer";ce(qt);E.addGetterSetter(qt,"enabledAnchors",$o,BP);E.addGetterSetter(qt,"flipEnabled",!0,Nn());E.addGetterSetter(qt,"resizeEnabled",!0);E.addGetterSetter(qt,"anchorSize",10,it());E.addGetterSetter(qt,"rotateEnabled",!0);E.addGetterSetter(qt,"rotationSnaps",[]);E.addGetterSetter(qt,"rotateAnchorOffset",50,it());E.addGetterSetter(qt,"rotationSnapTolerance",5,it());E.addGetterSetter(qt,"borderEnabled",!0);E.addGetterSetter(qt,"anchorStroke","rgb(0, 161, 255)");E.addGetterSetter(qt,"anchorStrokeWidth",1,it());E.addGetterSetter(qt,"anchorFill","white");E.addGetterSetter(qt,"anchorCornerRadius",0,it());E.addGetterSetter(qt,"borderStroke","rgb(0, 161, 255)");E.addGetterSetter(qt,"borderStrokeWidth",1,it());E.addGetterSetter(qt,"borderDash");E.addGetterSetter(qt,"keepRatio",!0);E.addGetterSetter(qt,"centeredScaling",!1);E.addGetterSetter(qt,"ignoreStroke",!1);E.addGetterSetter(qt,"padding",0,it());E.addGetterSetter(qt,"node");E.addGetterSetter(qt,"nodes");E.addGetterSetter(qt,"boundBoxFunc");E.addGetterSetter(qt,"anchorDragBoundFunc");E.addGetterSetter(qt,"shouldOverdrawWholeArea",!1);E.addGetterSetter(qt,"useSingleNodeRotation",!0);E.backCompat(qt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class _r extends et{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,_t.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}_r.prototype.className="Wedge";_r.prototype._centroid=!0;_r.prototype._attrsAffectingSize=["radius"];ce(_r);E.addGetterSetter(_r,"radius",0,it());E.addGetterSetter(_r,"angle",0,it());E.addGetterSetter(_r,"clockwise",!1);E.backCompat(_r,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function op(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var HP=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],UP=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function WP(n,t){var e=n.data,i=n.width,s=n.height,o,l,u,f,c,g,p,v,b,m,P,A,T,S,C,M,B,N,$,L,W,Y,X,q,G=t+t+1,H=i-1,ot=s-1,nt=t+1,ft=nt*(nt+1)/2,dt=new op,Mt=null,gt=dt,St=null,Dt=null,Yt=HP[t],Ee=UP[t];for(u=1;u<G;u++)gt=gt.next=new op,u===nt&&(Mt=gt);for(gt.next=dt,p=g=0,l=0;l<s;l++){for(M=B=N=$=v=b=m=P=0,A=nt*(L=e[g]),T=nt*(W=e[g+1]),S=nt*(Y=e[g+2]),C=nt*(X=e[g+3]),v+=ft*L,b+=ft*W,m+=ft*Y,P+=ft*X,gt=dt,u=0;u<nt;u++)gt.r=L,gt.g=W,gt.b=Y,gt.a=X,gt=gt.next;for(u=1;u<nt;u++)f=g+((H<u?H:u)<<2),v+=(gt.r=L=e[f])*(q=nt-u),b+=(gt.g=W=e[f+1])*q,m+=(gt.b=Y=e[f+2])*q,P+=(gt.a=X=e[f+3])*q,M+=L,B+=W,N+=Y,$+=X,gt=gt.next;for(St=dt,Dt=Mt,o=0;o<i;o++)e[g+3]=X=P*Yt>>Ee,X!==0?(X=255/X,e[g]=(v*Yt>>Ee)*X,e[g+1]=(b*Yt>>Ee)*X,e[g+2]=(m*Yt>>Ee)*X):e[g]=e[g+1]=e[g+2]=0,v-=A,b-=T,m-=S,P-=C,A-=St.r,T-=St.g,S-=St.b,C-=St.a,f=p+((f=o+t+1)<H?f:H)<<2,M+=St.r=e[f],B+=St.g=e[f+1],N+=St.b=e[f+2],$+=St.a=e[f+3],v+=M,b+=B,m+=N,P+=$,St=St.next,A+=L=Dt.r,T+=W=Dt.g,S+=Y=Dt.b,C+=X=Dt.a,M-=L,B-=W,N-=Y,$-=X,Dt=Dt.next,g+=4;p+=i}for(o=0;o<i;o++){for(B=N=$=M=b=m=P=v=0,g=o<<2,A=nt*(L=e[g]),T=nt*(W=e[g+1]),S=nt*(Y=e[g+2]),C=nt*(X=e[g+3]),v+=ft*L,b+=ft*W,m+=ft*Y,P+=ft*X,gt=dt,u=0;u<nt;u++)gt.r=L,gt.g=W,gt.b=Y,gt.a=X,gt=gt.next;for(c=i,u=1;u<=t;u++)g=c+o<<2,v+=(gt.r=L=e[g])*(q=nt-u),b+=(gt.g=W=e[g+1])*q,m+=(gt.b=Y=e[g+2])*q,P+=(gt.a=X=e[g+3])*q,M+=L,B+=W,N+=Y,$+=X,gt=gt.next,u<ot&&(c+=i);for(g=o,St=dt,Dt=Mt,l=0;l<s;l++)f=g<<2,e[f+3]=X=P*Yt>>Ee,X>0?(X=255/X,e[f]=(v*Yt>>Ee)*X,e[f+1]=(b*Yt>>Ee)*X,e[f+2]=(m*Yt>>Ee)*X):e[f]=e[f+1]=e[f+2]=0,v-=A,b-=T,m-=S,P-=C,A-=St.r,T-=St.g,S-=St.b,C-=St.a,f=o+((f=l+nt)<ot?f:ot)*i<<2,v+=M+=St.r=e[f],b+=B+=St.g=e[f+1],m+=N+=St.b=e[f+2],P+=$+=St.a=e[f+3],St=St.next,A+=L=Dt.r,T+=W=Dt.g,S+=Y=Dt.b,C+=X=Dt.a,M-=L,B-=W,N-=Y,$-=X,Dt=Dt.next,g+=i}}const zP=function(t){var e=Math.round(this.blurRadius());e>0&&WP(t,e)};E.addGetterSetter(st,"blurRadius",0,it(),E.afterSetFilter);const $P=function(n){var t=this.brightness()*255,e=n.data,i=e.length,s;for(s=0;s<i;s+=4)e[s]+=t,e[s+1]+=t,e[s+2]+=t};E.addGetterSetter(st,"brightness",0,it(),E.afterSetFilter);const YP=function(n){var t=Math.pow((this.contrast()+100)/100,2),e=n.data,i=e.length,s=150,o=150,l=150,u;for(u=0;u<i;u+=4)s=e[u],o=e[u+1],l=e[u+2],s/=255,s-=.5,s*=t,s+=.5,s*=255,o/=255,o-=.5,o*=t,o+=.5,o*=255,l/=255,l-=.5,l*=t,l+=.5,l*=255,s=s<0?0:s>255?255:s,o=o<0?0:o>255?255:o,l=l<0?0:l>255?255:l,e[u]=s,e[u+1]=o,e[u+2]=l};E.addGetterSetter(st,"contrast",0,it(),E.afterSetFilter);const KP=function(n){var t=this.embossStrength()*10,e=this.embossWhiteLevel()*255,i=this.embossDirection(),s=this.embossBlend(),o=0,l=0,u=n.data,f=n.width,c=n.height,g=f*4,p=c;switch(i){case"top-left":o=-1,l=-1;break;case"top":o=-1,l=0;break;case"top-right":o=-1,l=1;break;case"right":o=0,l=1;break;case"bottom-right":o=1,l=1;break;case"bottom":o=1,l=0;break;case"bottom-left":o=1,l=-1;break;case"left":o=0,l=-1;break;default:F.error("Unknown emboss direction: "+i)}do{var v=(p-1)*g,b=o;p+b<1&&(b=0),p+b>c&&(b=0);var m=(p-1+b)*f*4,P=f;do{var A=v+(P-1)*4,T=l;P+T<1&&(T=0),P+T>f&&(T=0);var S=m+(P-1+T)*4,C=u[A]-u[S],M=u[A+1]-u[S+1],B=u[A+2]-u[S+2],N=C,$=N>0?N:-N,L=M>0?M:-M,W=B>0?B:-B;if(L>$&&(N=M),W>$&&(N=B),N*=t,s){var Y=u[A]+N,X=u[A+1]+N,q=u[A+2]+N;u[A]=Y>255?255:Y<0?0:Y,u[A+1]=X>255?255:X<0?0:X,u[A+2]=q>255?255:q<0?0:q}else{var G=e-N;G<0?G=0:G>255&&(G=255),u[A]=u[A+1]=u[A+2]=G}}while(--P)}while(--p)};E.addGetterSetter(st,"embossStrength",.5,it(),E.afterSetFilter);E.addGetterSetter(st,"embossWhiteLevel",.5,it(),E.afterSetFilter);E.addGetterSetter(st,"embossDirection","top-left",null,E.afterSetFilter);E.addGetterSetter(st,"embossBlend",!1,null,E.afterSetFilter);function Xu(n,t,e,i,s){var o=e-t,l=s-i,u;return o===0?i+l/2:l===0?i:(u=(n-t)/o,u=l*u+i,u)}const XP=function(n){var t=n.data,e=t.length,i=t[0],s=i,o,l=t[1],u=l,f,c=t[2],g=c,p,v,b=this.enhance();if(b!==0){for(v=0;v<e;v+=4)o=t[v+0],o<i?i=o:o>s&&(s=o),f=t[v+1],f<l?l=f:f>u&&(u=f),p=t[v+2],p<c?c=p:p>g&&(g=p);s===i&&(s=255,i=0),u===l&&(u=255,l=0),g===c&&(g=255,c=0);var m,P,A,T,S,C,M,B,N;for(b>0?(P=s+b*(255-s),A=i-b*(i-0),S=u+b*(255-u),C=l-b*(l-0),B=g+b*(255-g),N=c-b*(c-0)):(m=(s+i)*.5,P=s+b*(s-m),A=i+b*(i-m),T=(u+l)*.5,S=u+b*(u-T),C=l+b*(l-T),M=(g+c)*.5,B=g+b*(g-M),N=c+b*(c-M)),v=0;v<e;v+=4)t[v+0]=Xu(t[v+0],i,s,A,P),t[v+1]=Xu(t[v+1],l,u,C,S),t[v+2]=Xu(t[v+2],c,g,N,B)}};E.addGetterSetter(st,"enhance",0,it(),E.afterSetFilter);const qP=function(n){var t=n.data,e=t.length,i,s;for(i=0;i<e;i+=4)s=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i]=s,t[i+1]=s,t[i+2]=s};E.addGetterSetter(st,"hue",0,it(),E.afterSetFilter);E.addGetterSetter(st,"saturation",0,it(),E.afterSetFilter);E.addGetterSetter(st,"luminance",0,it(),E.afterSetFilter);const VP=function(n){var t=n.data,e=t.length,i=1,s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l=this.luminance()*127,u,f=i*s*Math.cos(o*Math.PI/180),c=i*s*Math.sin(o*Math.PI/180),g=.299*i+.701*f+.167*c,p=.587*i-.587*f+.33*c,v=.114*i-.114*f-.497*c,b=.299*i-.299*f-.328*c,m=.587*i+.413*f+.035*c,P=.114*i-.114*f+.293*c,A=.299*i-.3*f+1.25*c,T=.587*i-.586*f-1.05*c,S=.114*i+.886*f-.2*c,C,M,B,N;for(u=0;u<e;u+=4)C=t[u+0],M=t[u+1],B=t[u+2],N=t[u+3],t[u+0]=g*C+p*M+v*B+l,t[u+1]=b*C+m*M+P*B+l,t[u+2]=A*C+T*M+S*B+l,t[u+3]=N},jP=function(n){var t=n.data,e=t.length,i=Math.pow(2,this.value()),s=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,l,u=i*s*Math.cos(o*Math.PI/180),f=i*s*Math.sin(o*Math.PI/180),c=.299*i+.701*u+.167*f,g=.587*i-.587*u+.33*f,p=.114*i-.114*u-.497*f,v=.299*i-.299*u-.328*f,b=.587*i+.413*u+.035*f,m=.114*i-.114*u+.293*f,P=.299*i-.3*u+1.25*f,A=.587*i-.586*u-1.05*f,T=.114*i+.886*u-.2*f,S,C,M,B;for(l=0;l<e;l+=4)S=t[l+0],C=t[l+1],M=t[l+2],B=t[l+3],t[l+0]=c*S+g*C+p*M,t[l+1]=v*S+b*C+m*M,t[l+2]=P*S+A*C+T*M,t[l+3]=B};E.addGetterSetter(st,"hue",0,it(),E.afterSetFilter);E.addGetterSetter(st,"saturation",0,it(),E.afterSetFilter);E.addGetterSetter(st,"value",0,it(),E.afterSetFilter);const QP=function(n){var t=n.data,e=t.length,i;for(i=0;i<e;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};var JP=function(n,t,e){var i=n.data,s=t.data,o=n.width,l=n.height,u=e.polarCenterX||o/2,f=e.polarCenterY||l/2,c,g,p,v=0,b=0,m=0,P=0,A,T=Math.sqrt(u*u+f*f);g=o-u,p=l-f,A=Math.sqrt(g*g+p*p),T=A>T?A:T;var S=l,C=o,M,B,N=360/C*Math.PI/180,$,L;for(B=0;B<C;B+=1)for($=Math.sin(B*N),L=Math.cos(B*N),M=0;M<S;M+=1)g=Math.floor(u+T*M/S*L),p=Math.floor(f+T*M/S*$),c=(p*o+g)*4,v=i[c+0],b=i[c+1],m=i[c+2],P=i[c+3],c=(B+M*o)*4,s[c+0]=v,s[c+1]=b,s[c+2]=m,s[c+3]=P},ZP=function(n,t,e){var i=n.data,s=t.data,o=n.width,l=n.height,u=e.polarCenterX||o/2,f=e.polarCenterY||l/2,c,g,p,v,b,m=0,P=0,A=0,T=0,S,C=Math.sqrt(u*u+f*f);g=o-u,p=l-f,S=Math.sqrt(g*g+p*p),C=S>C?S:C;var M=l,B=o,N,$,L=e.polarRotation||0,W,Y;for(g=0;g<o;g+=1)for(p=0;p<l;p+=1)v=g-u,b=p-f,N=Math.sqrt(v*v+b*b)*M/C,$=(Math.atan2(b,v)*180/Math.PI+360+L)%360,$=$*B/360,W=Math.floor($),Y=Math.floor(N),c=(Y*o+W)*4,m=i[c+0],P=i[c+1],A=i[c+2],T=i[c+3],c=(p*o+g)*4,s[c+0]=m,s[c+1]=P,s[c+2]=A,s[c+3]=T};const tO=function(n){var t=n.width,e=n.height,i,s,o,l,u,f,c,g,p,v,b=Math.round(this.kaleidoscopePower()),m=Math.round(this.kaleidoscopeAngle()),P=Math.floor(t*(m%360)/360);if(!(b<1)){var A=F.createCanvasElement();A.width=t,A.height=e;var T=A.getContext("2d").getImageData(0,0,t,e);F.releaseCanvas(A),JP(n,T,{polarCenterX:t/2,polarCenterY:e/2});for(var S=t/Math.pow(2,b);S<=8;)S=S*2,b-=1;S=Math.ceil(S);var C=S,M=0,B=C,N=1;for(P+S>t&&(M=C,B=0,N=-1),s=0;s<e;s+=1)for(i=M;i!==B;i+=N)o=Math.round(i+P)%t,p=(t*s+o)*4,u=T.data[p+0],f=T.data[p+1],c=T.data[p+2],g=T.data[p+3],v=(t*s+i)*4,T.data[v+0]=u,T.data[v+1]=f,T.data[v+2]=c,T.data[v+3]=g;for(s=0;s<e;s+=1)for(C=Math.floor(S),l=0;l<b;l+=1){for(i=0;i<C+1;i+=1)p=(t*s+i)*4,u=T.data[p+0],f=T.data[p+1],c=T.data[p+2],g=T.data[p+3],v=(t*s+C*2-i-1)*4,T.data[v+0]=u,T.data[v+1]=f,T.data[v+2]=c,T.data[v+3]=g;C*=2}ZP(T,n,{polarRotation:0})}};E.addGetterSetter(st,"kaleidoscopePower",2,it(),E.afterSetFilter);E.addGetterSetter(st,"kaleidoscopeAngle",0,it(),E.afterSetFilter);function Oo(n,t,e){var i=(e*n.width+t)*4,s=[];return s.push(n.data[i++],n.data[i++],n.data[i++],n.data[i++]),s}function ks(n,t){return Math.sqrt(Math.pow(n[0]-t[0],2)+Math.pow(n[1]-t[1],2)+Math.pow(n[2]-t[2],2))}function eO(n){for(var t=[0,0,0],e=0;e<n.length;e++)t[0]+=n[e][0],t[1]+=n[e][1],t[2]+=n[e][2];return t[0]/=n.length,t[1]/=n.length,t[2]/=n.length,t}function nO(n,t){var e=Oo(n,0,0),i=Oo(n,n.width-1,0),s=Oo(n,0,n.height-1),o=Oo(n,n.width-1,n.height-1),l=t||10;if(ks(e,i)<l&&ks(i,o)<l&&ks(o,s)<l&&ks(s,e)<l){for(var u=eO([i,e,o,s]),f=[],c=0;c<n.width*n.height;c++){var g=ks(u,[n.data[c*4],n.data[c*4+1],n.data[c*4+2]]);f[c]=g<l?0:255}return f}}function rO(n,t){for(var e=0;e<n.width*n.height;e++)n.data[4*e+3]=t[e]}function iO(n,t,e){for(var i=[1,1,1,1,0,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],u=0;u<e;u++)for(var f=0;f<t;f++){for(var c=u*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var b=u+p-o,m=f+v-o;if(b>=0&&b<e&&m>=0&&m<t){var P=b*t+m,A=i[p*s+v];g+=n[P]*A}}l[c]=g===255*8?255:0}return l}function sO(n,t,e){for(var i=[1,1,1,1,1,1,1,1,1],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],u=0;u<e;u++)for(var f=0;f<t;f++){for(var c=u*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var b=u+p-o,m=f+v-o;if(b>=0&&b<e&&m>=0&&m<t){var P=b*t+m,A=i[p*s+v];g+=n[P]*A}}l[c]=g>=255*4?255:0}return l}function aO(n,t,e){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],s=Math.round(Math.sqrt(i.length)),o=Math.floor(s/2),l=[],u=0;u<e;u++)for(var f=0;f<t;f++){for(var c=u*t+f,g=0,p=0;p<s;p++)for(var v=0;v<s;v++){var b=u+p-o,m=f+v-o;if(b>=0&&b<e&&m>=0&&m<t){var P=b*t+m,A=i[p*s+v];g+=n[P]*A}}l[c]=g}return l}const oO=function(n){var t=this.threshold(),e=nO(n,t);return e&&(e=iO(e,n.width,n.height),e=sO(e,n.width,n.height),e=aO(e,n.width,n.height),rO(n,e)),n};E.addGetterSetter(st,"threshold",0,it(),E.afterSetFilter);const lO=function(n){var t=this.noise()*255,e=n.data,i=e.length,s=t/2,o;for(o=0;o<i;o+=4)e[o+0]+=s-2*s*Math.random(),e[o+1]+=s-2*s*Math.random(),e[o+2]+=s-2*s*Math.random()};E.addGetterSetter(st,"noise",.2,it(),E.afterSetFilter);const uO=function(n){var t=Math.ceil(this.pixelSize()),e=n.width,i=n.height,s,o,l,u,f,c,g,p=Math.ceil(e/t),v=Math.ceil(i/t),b,m,P,A,T,S,C,M=n.data;if(t<=0){F.error("pixelSize value can not be <= 0");return}for(T=0;T<p;T+=1)for(S=0;S<v;S+=1){for(u=0,f=0,c=0,g=0,b=T*t,m=b+t,P=S*t,A=P+t,C=0,s=b;s<m;s+=1)if(!(s>=e))for(o=P;o<A;o+=1)o>=i||(l=(e*o+s)*4,u+=M[l+0],f+=M[l+1],c+=M[l+2],g+=M[l+3],C+=1);for(u=u/C,f=f/C,c=c/C,g=g/C,s=b;s<m;s+=1)if(!(s>=e))for(o=P;o<A;o+=1)o>=i||(l=(e*o+s)*4,M[l+0]=u,M[l+1]=f,M[l+2]=c,M[l+3]=g)}};E.addGetterSetter(st,"pixelSize",8,it(),E.afterSetFilter);const hO=function(n){var t=Math.round(this.levels()*254)+1,e=n.data,i=e.length,s=255/t,o;for(o=0;o<i;o+=1)e[o]=Math.floor(e[o]/s)*s};E.addGetterSetter(st,"levels",.5,it(),E.afterSetFilter);const fO=function(n){var t=n.data,e=t.length,i=this.red(),s=this.green(),o=this.blue(),l,u;for(l=0;l<e;l+=4)u=(.34*t[l]+.5*t[l+1]+.16*t[l+2])/255,t[l]=u*i,t[l+1]=u*s,t[l+2]=u*o,t[l+3]=t[l+3]};E.addGetterSetter(st,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(st,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(st,"blue",0,fv,E.afterSetFilter);const cO=function(n){var t=n.data,e=t.length,i=this.red(),s=this.green(),o=this.blue(),l=this.alpha(),u,f;for(u=0;u<e;u+=4)f=1-l,t[u]=i*l+t[u]*f,t[u+1]=s*l+t[u+1]*f,t[u+2]=o*l+t[u+2]*f};E.addGetterSetter(st,"red",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(st,"green",0,function(n){return this._filterUpToDate=!1,n>255?255:n<0?0:Math.round(n)});E.addGetterSetter(st,"blue",0,fv,E.afterSetFilter);E.addGetterSetter(st,"alpha",1,function(n){return this._filterUpToDate=!1,n>1?1:n<0?0:n});const dO=function(n){var t=n.data,e=t.length,i,s,o,l;for(i=0;i<e;i+=4)s=t[i+0],o=t[i+1],l=t[i+2],t[i+0]=Math.min(255,s*.393+o*.769+l*.189),t[i+1]=Math.min(255,s*.349+o*.686+l*.168),t[i+2]=Math.min(255,s*.272+o*.534+l*.131)},gO=function(n){var t=n.data,e=n.width,i=n.height,s=e*4,o=i;do{var l=(o-1)*s,u=e;do{var f=l+(u-1)*4,c=t[f],g=t[f+1],p=t[f+2];c>127&&(c=255-c),g>127&&(g=255-g),p>127&&(p=255-p),t[f]=c,t[f+1]=g,t[f+2]=p}while(--u)}while(--o)},pO=function(n){var t=this.threshold()*255,e=n.data,i=e.length,s;for(s=0;s<i;s+=1)e[s]=e[s]<t?0:255};E.addGetterSetter(st,"threshold",.5,it(),E.afterSetFilter);const _O=Zg.Util._assign(Zg,{Arc:gr,Arrow:wi,Circle:ds,Ellipse:Ur,Image:Gn,Label:gf,Tag:Si,Line:pr,Path:Qt,Rect:ma,RegularPolygon:Ci,Ring:xi,Sprite:Xn,Star:Wr,Text:fe,TextPath:xe,Transformer:qt,Wedge:_r,Filters:{Blur:zP,Brighten:$P,Contrast:YP,Emboss:KP,Enhance:XP,Grayscale:qP,HSL:VP,HSV:jP,Invert:QP,Kaleidoscope:tO,Mask:oO,Noise:lO,Pixelate:uO,Posterize:hO,RGB:fO,RGBA:cO,Sepia:dO,Solarize:gO,Threshold:pO}}),vO=Object.freeze(Object.defineProperty({__proto__:null,default:_O},Symbol.toStringTag,{value:"Module"})),mO=lf(vO);/*!
 * vue-konva v3.0.1 - https://github.com/konvajs/vue-konva#readme
 * MIT Licensed
 */(function(n,t){(function(i,s){n.exports=s(sA,mO)})(qi,function(e,i){return function(s){var o={};function l(u){if(o[u])return o[u].exports;var f=o[u]={i:u,l:!1,exports:{}};return s[u].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=s,l.c=o,l.d=function(u,f,c){l.o(u,f)||Object.defineProperty(u,f,{enumerable:!0,get:c})},l.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l.t=function(u,f){if(f&1&&(u=l(u)),f&8||f&4&&typeof u=="object"&&u&&u.__esModule)return u;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:u}),f&2&&typeof u!="string")for(var g in u)l.d(c,g,function(p){return u[p]}.bind(null,g));return c},l.n=function(u){var f=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(f,"a",f),f},l.o=function(u,f){return Object.prototype.hasOwnProperty.call(u,f)},l.p="",l(l.s=2)}([function(s,o){s.exports=e},function(s,o){s.exports=i},function(s,o,l){s.exports=l(3)},function(s,o,l){l.r(o);var u=l(0),f=l(1),c=l.n(f);function g(G){if(!c.a.autoDrawEnabled){var H=G.getLayer()||G.getStage();H&&H.batchDraw()}}var p={key:!0,style:!0,elm:!0,isRootInsert:!0},v=".vue-konva-event";function b(G,H,ot,nt){H===void 0&&(H={}),ot===void 0&&(ot={});var ft=G.__konvaNode,dt={},Mt=!1;for(var gt in ot)if(!p[gt]){var St=gt.slice(0,2)==="on",Dt=ot[gt]!==H[gt];if(St&&Dt){var Yt=gt.substr(2).toLowerCase();Yt.substr(0,7)==="content"&&(Yt="content"+Yt.substr(7,1).toUpperCase()+Yt.substr(8)),ft.off(Yt+v,ot[gt])}var Ee=!H.hasOwnProperty(gt);Ee&&ft.setAttr(gt,void 0)}for(var Vt in H)if(!p[Vt]){var Zt=Vt.slice(0,2)==="on",Ze=ot[Vt]!==H[Vt];if(Zt&&Ze){var ae=Vt.substr(2).toLowerCase();ae.substr(0,7)==="content"&&(ae="content"+ae.substr(7,1).toUpperCase()+ae.substr(8)),H[Vt]&&(ft.off(ae+v),ft.on(ae+v,H[Vt]))}!Zt&&(H[Vt]!==ot[Vt]||nt&&H[Vt]!==ft.getAttr(Vt))&&(Mt=!0,dt[Vt]=H[Vt])}Mt&&(ft.setAttrs(dt),g(ft))}var m="v";function P(G){function H(ot){return ot.__konvaNode?ot:ot.parent?H(ot.parent):(console.error("vue-konva error: Can not find parent node"),{})}return H(G.parent)}function A(G){if(G!=null&&G.component)return G.component.__konvaNode||A(G.component.subTree)}function T(G){var H=G.el,ot=G.component,nt=A(G);if((H==null?void 0:H.tagName)&&ot&&!nt){var ft=H&&H.tagName.toLowerCase();return console.error('vue-konva error: You are trying to render "'+ft+'" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.'),null}return nt}function S(G){var H=[];return G.children&&G.children.forEach(function(ot){!ot.component&&Array.isArray(ot.children)&&ot.children.forEach(function(nt){!nt.component&&Array.isArray(nt.children)?H.push.apply(H,nt.children):H.push(nt)}),ot.component&&H.push(ot)}),H}function C(G,H){var ot=S(G),nt=[];ot.forEach(function(dt){var Mt=T(dt);Mt&&nt.push(Mt)});var ft=!1;nt.forEach(function(dt,Mt){dt.getZIndex()!==Mt&&(dt.setZIndex(Mt),ft=!0)}),ft&&g(H)}function M(){return M=Object.assign||function(G){for(var H=1;H<arguments.length;H++){var ot=arguments[H];for(var nt in ot)Object.prototype.hasOwnProperty.call(ot,nt)&&(G[nt]=ot[nt])}return G},M.apply(this,arguments)}var B={props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup:function(H,ot){var nt=ot.attrs,ft=ot.slots,dt=ot.expose;ot.emits;var Mt=Object(u.getCurrentInstance)(),gt=Object(u.reactive)({}),St=Object(u.ref)(null),Dt=new window.Konva.Stage({width:H.config.width,height:H.config.height,container:document.createElement("div")});Mt.__konvaNode=Dt,Vt();function Yt(){return Mt.__konvaNode}function Ee(){return Mt.__konvaNode}function Vt(){var Zt=gt||{},Ze=M({},nt,H.config);b(Mt,Ze,Zt,H.__useStrictMode),Object.assign(gt,Ze)}return Object(u.onMounted)(function(){St.value.innerHTML="",Dt.container(St.value),Vt()}),Object(u.onUpdated)(function(){Vt(),C(Mt.subTree,Dt)}),Object(u.onBeforeUnmount)(function(){Dt.destroy()}),Object(u.watch)(function(){return H.config},Vt,{deep:!0}),dt({getStage:Ee,getNode:Yt}),function(){var Zt;return Object(u.h)("div",{ref:St},(Zt=ft.default)===null||Zt===void 0?void 0:Zt.call(ft))}}};function N(){return N=Object.assign||function(G){for(var H=1;H<arguments.length;H++){var ot=arguments[H];for(var nt in ot)Object.prototype.hasOwnProperty.call(ot,nt)&&(G[nt]=ot[nt])}return G},N.apply(this,arguments)}var $=".vue-konva-event",L={Group:!0,Layer:!0,FastLayer:!0,Label:!0},W=function(G){return{props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup:function(ot,nt){var ft=nt.attrs,dt=nt.slots,Mt=nt.expose,gt=Object(u.getCurrentInstance)(),St=Object(u.reactive)({}),Dt=window.Konva[G];if(!Dt){console.error("vue-konva error: Can not find node "+G);return}var Yt=new Dt;gt.__konvaNode=Yt,gt.vnode.__konvaNode=Yt,Zt();function Ee(){return gt.__konvaNode}function Vt(){return gt.__konvaNode}function Zt(){var ae={};for(var Ie in gt.vnode.props)Ie.slice(0,2)==="on"&&(ae[Ie]=gt.vnode.props[Ie]);var zr=St||{},An=N({},ft,ot.config,ae);b(gt,An,zr,ot.__useStrictMode),Object.assign(St,An)}Object(u.onMounted)(function(){var ae=P(gt).__konvaNode;ae.add(Yt),g(Yt)}),Object(u.onUnmounted)(function(){g(Yt),Yt.destroy(),Yt.off($)}),Object(u.onUpdated)(function(){Zt(),C(gt.subTree,Yt)}),Object(u.watch)(function(){return ot.config},Zt,{deep:!0}),Mt({getStage:Vt,getNode:Ee});var Ze=L[G];return Ze?function(){var ae;return Object(u.h)("template",{},(ae=dt.default)===null||ae===void 0?void 0:ae.call(dt))}:function(){return null}}}};typeof window<"u"&&!window.Konva&&l(1);var Y=["Layer","FastLayer","Group","Label","Rect","Circle","Ellipse","Wedge","Line","Sprite","Image","Text","TextPath","Star","Ring","Arc","Tag","Path","RegularPolygon","Arrow","Shape","Transformer"],X=[{name:"Stage",component:B}].concat(Y.map(function(G){return{name:G,component:W(G)}})),q={install:function(H,ot){var nt=m;ot&&ot.prefix&&(nt=ot.prefix),X.forEach(function(ft){H.component(""+nt+ft.name,ft.component)})}};o.default=q}]).default})})(hv);const yO=ET(hv.exports),lp=()=>({drawMode:!1,selectedLineId:null,figure:null}),bO=rT({state:lp(),mutations:{setFigure(n,t){n.figure=t},setDrawMode(n,t){if(n.drawMode=t,t){n.figure=null,n.selectedLineId=null;return}},setSelectedLine(n,t){n.drawMode||(n.selectedLineId=t)}},actions:{setFigure({commit:n},t){const e=RT(t);n("setFigure",e),n("setDrawMode",!1)},setCustomFigure({commit:n},t){const e=ov(t);n("setFigure",e),n("setDrawMode",!1)},switchLineDirection({dispatch:n},t){const{circles:e}=t,{start:i,end:s}=e;e.start=s,e.end=i,n("updateLinesPosition")},updateLineSize({dispatch:n},{line:t,value:e}){!e||(FT(t,e),n("updateLinesPosition"))},updateLinesPosition({state:n}){const{lines:t=[]}=n.figure;t.forEach(e=>{const{config:i,circles:s}=e,{start:o,end:l}=s;i.points=[o.x,o.y,l.x,l.y]})},reset({state:n}){Object.assign(n,lp())}},getters:{figure:n=>n.figure,lines:(n,t)=>{var e;return((e=t.figure)==null?void 0:e.lines)||[]},circles:(n,t)=>{var e;return((e=t.figure)==null?void 0:e.circles)||[]},drawMode:n=>n.drawMode,selectedLineId:n=>n.selectedLineId,selectedLine:(n,t)=>{const{lines:e}=t;return e.find(i=>i.config.id===n.selectedLineId)},selectedLineLength(n,t){const{selectedLine:e}=t;return e?zo(e):0},fullSize:(n,t)=>{const{circles:e}=t;if(!e.length)return{width:0,height:0};const i=e.map(c=>c.x),s=i.map(c=>i.map(g=>Math.abs(c-g))).flat(),o=+Math.max(...s).toFixed(2),l=e.map(c=>c.y),u=l.map(c=>l.map(g=>Math.abs(c-g))).flat(),f=+Math.max(...u).toFixed(2);return{width:o,height:f}},position:(n,t)=>{const{circles:e}=t;if(!e.length)return{x:0,y:0};const i=e.map(u=>u.x),s=e.map(u=>u.y),o=Math.min(...i),l=Math.min(...s);return{x:o,y:l}},groupFigure:(n,t)=>{const{fullSize:e,position:i,drawMode:s}=t,{width:o,height:l}=e,{x:u,y:f}=i;return{x:u-10,y:f-10,width:o+20,height:l+20,draggable:!s}},lineSizesTextConfigs:(n,t)=>{const{lines:e}=t;return e.filter(s=>Boolean(s.circles.end)).map(s=>{const{config:o,circles:l}=s,{id:u}=o,{start:f,end:c}=l,g=(f.x+c.x)/2,p=(f.y+c.y)/2,v=zo(s),b=uf(v).toFixed(2),m=b.length*Fu,P={x:0,y:0};return{x:g+P.x-m/2,y:p+P.y-Fu/2,text:b,width:m,fontSize:Fu,align:"center",fill:"#fff",lineId:u}})}}}),pf=K_(iA);pf.use(bO);pf.use(yO);pf.mount("#app");
